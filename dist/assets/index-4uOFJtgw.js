(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();var Zh={exports:{}},zo={};var $v;function YM(){if($v)return zo;$v=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:r,type:a,key:c,ref:s!==void 0?s:null,props:l}}return zo.Fragment=e,zo.jsx=t,zo.jsxs=t,zo}var Xv;function JM(){return Xv||(Xv=1,Zh.exports=YM()),Zh.exports}var R=JM(),Qh={exports:{}},Io={},ef={exports:{}},tf={};var Zv;function $M(){return Zv||(Zv=1,(function(r){function e(C,H){var Z=C.length;C.push(H);e:for(;0<Z;){var se=Z-1>>>1,he=C[se];if(0<s(he,H))C[se]=H,C[Z]=he,Z=se;else break e}}function t(C){return C.length===0?null:C[0]}function a(C){if(C.length===0)return null;var H=C[0],Z=C.pop();if(Z!==H){C[0]=Z;e:for(var se=0,he=C.length,L=he>>>1;se<L;){var W=2*(se+1)-1,ne=C[W],Y=W+1,xe=C[Y];if(0>s(ne,Z))Y<he&&0>s(xe,ne)?(C[se]=xe,C[Y]=Z,se=Y):(C[se]=ne,C[W]=Z,se=W);else if(Y<he&&0>s(xe,Z))C[se]=xe,C[Y]=Z,se=Y;else break e}}return H}function s(C,H){var Z=C.sortIndex-H.sortIndex;return Z!==0?Z:C.id-H.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var h=[],f=[],g=1,y=null,v=3,b=!1,w=!1,T=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function O(C){for(var H=t(f);H!==null;){if(H.callback===null)a(f);else if(H.startTime<=C)a(f),H.sortIndex=H.expirationTime,e(h,H);else break;H=t(f)}}function D(C){if(T=!1,O(C),!w)if(t(h)!==null)w=!0,A||(A=!0,re());else{var H=t(f);H!==null&&V(D,H.startTime-C)}}var A=!1,P=-1,q=5,X=-1;function te(){return _?!0:!(r.unstable_now()-X<q)}function de(){if(_=!1,A){var C=r.unstable_now();X=C;var H=!0;try{e:{w=!1,T&&(T=!1,x(P),P=-1),b=!0;var Z=v;try{t:{for(O(C),y=t(h);y!==null&&!(y.expirationTime>C&&te());){var se=y.callback;if(typeof se=="function"){y.callback=null,v=y.priorityLevel;var he=se(y.expirationTime<=C);if(C=r.unstable_now(),typeof he=="function"){y.callback=he,O(C),H=!0;break t}y===t(h)&&a(h),O(C)}else a(h);y=t(h)}if(y!==null)H=!0;else{var L=t(f);L!==null&&V(D,L.startTime-C),H=!1}}break e}finally{y=null,v=Z,b=!1}H=void 0}}finally{H?re():A=!1}}}var re;if(typeof B=="function")re=function(){B(de)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,N=K.port2;K.port1.onmessage=de,re=function(){N.postMessage(null)}}else re=function(){S(de,0)};function V(C,H){P=S(function(){C(r.unstable_now())},H)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(C){C.callback=null},r.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<C?Math.floor(1e3/C):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(C){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var Z=v;v=H;try{return C()}finally{v=Z}},r.unstable_requestPaint=function(){_=!0},r.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var Z=v;v=C;try{return H()}finally{v=Z}},r.unstable_scheduleCallback=function(C,H,Z){var se=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?se+Z:se):Z=se,C){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Z+he,C={id:g++,callback:H,priorityLevel:C,startTime:Z,expirationTime:he,sortIndex:-1},Z>se?(C.sortIndex=Z,e(f,C),t(h)===null&&C===t(f)&&(T?(x(P),P=-1):T=!0,V(D,Z-se))):(C.sortIndex=he,e(h,C),w||b||(w=!0,A||(A=!0,re()))),C},r.unstable_shouldYield=te,r.unstable_wrapCallback=function(C){var H=v;return function(){var Z=v;v=H;try{return C.apply(this,arguments)}finally{v=Z}}}})(tf)),tf}var Qv;function XM(){return Qv||(Qv=1,ef.exports=$M()),ef.exports}var nf={exports:{}},Qe={};var e0;function ZM(){if(e0)return Qe;e0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,_={};function S(L,W,ne){this.props=L,this.context=W,this.refs=_,this.updater=ne||w}S.prototype.isReactComponent={},S.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function x(){}x.prototype=S.prototype;function B(L,W,ne){this.props=L,this.context=W,this.refs=_,this.updater=ne||w}var O=B.prototype=new x;O.constructor=B,T(O,S.prototype),O.isPureReactComponent=!0;var D=Array.isArray;function A(){}var P={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function X(L,W,ne){var Y=ne.ref;return{$$typeof:r,type:L,key:W,ref:Y!==void 0?Y:null,props:ne}}function te(L,W){return X(L.type,W,L.props)}function de(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function re(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ne){return W[ne]})}var K=/\/+/g;function N(L,W){return typeof L=="object"&&L!==null&&L.key!=null?re(""+L.key):W.toString(36)}function V(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(A,A):(L.status="pending",L.then(function(W){L.status==="pending"&&(L.status="fulfilled",L.value=W)},function(W){L.status==="pending"&&(L.status="rejected",L.reason=W)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function C(L,W,ne,Y,xe){var we=typeof L;(we==="undefined"||we==="boolean")&&(L=null);var ve=!1;if(L===null)ve=!0;else switch(we){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(L.$$typeof){case r:case e:ve=!0;break;case g:return ve=L._init,C(ve(L._payload),W,ne,Y,xe)}}if(ve)return xe=xe(L),ve=Y===""?"."+N(L,0):Y,D(xe)?(ne="",ve!=null&&(ne=ve.replace(K,"$&/")+"/"),C(xe,W,ne,"",function(Re){return Re})):xe!=null&&(de(xe)&&(xe=te(xe,ne+(xe.key==null||L&&L.key===xe.key?"":(""+xe.key).replace(K,"$&/")+"/")+ve)),W.push(xe)),1;ve=0;var _e=Y===""?".":Y+":";if(D(L))for(var Ne=0;Ne<L.length;Ne++)Y=L[Ne],we=_e+N(Y,Ne),ve+=C(Y,W,ne,we,xe);else if(Ne=b(L),typeof Ne=="function")for(L=Ne.call(L),Ne=0;!(Y=L.next()).done;)Y=Y.value,we=_e+N(Y,Ne++),ve+=C(Y,W,ne,we,xe);else if(we==="object"){if(typeof L.then=="function")return C(V(L),W,ne,Y,xe);throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ve}function H(L,W,ne){if(L==null)return L;var Y=[],xe=0;return C(L,Y,"","",function(we){return W.call(ne,we,xe++)}),Y}function Z(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(ne){(L._status===0||L._status===-1)&&(L._status=1,L._result=ne)},function(ne){(L._status===0||L._status===-1)&&(L._status=2,L._result=ne)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var se=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},he={map:H,forEach:function(L,W,ne){H(L,function(){W.apply(this,arguments)},ne)},count:function(L){var W=0;return H(L,function(){W++}),W},toArray:function(L){return H(L,function(W){return W})||[]},only:function(L){if(!de(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Qe.Activity=y,Qe.Children=he,Qe.Component=S,Qe.Fragment=t,Qe.Profiler=s,Qe.PureComponent=B,Qe.StrictMode=a,Qe.Suspense=h,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return P.H.useMemoCache(L)}},Qe.cache=function(L){return function(){return L.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(L,W,ne){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Y=T({},L.props),xe=L.key;if(W!=null)for(we in W.key!==void 0&&(xe=""+W.key),W)!q.call(W,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&W.ref===void 0||(Y[we]=W[we]);var we=arguments.length-2;if(we===1)Y.children=ne;else if(1<we){for(var ve=Array(we),_e=0;_e<we;_e++)ve[_e]=arguments[_e+2];Y.children=ve}return X(L.type,xe,Y)},Qe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Qe.createElement=function(L,W,ne){var Y,xe={},we=null;if(W!=null)for(Y in W.key!==void 0&&(we=""+W.key),W)q.call(W,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(xe[Y]=W[Y]);var ve=arguments.length-2;if(ve===1)xe.children=ne;else if(1<ve){for(var _e=Array(ve),Ne=0;Ne<ve;Ne++)_e[Ne]=arguments[Ne+2];xe.children=_e}if(L&&L.defaultProps)for(Y in ve=L.defaultProps,ve)xe[Y]===void 0&&(xe[Y]=ve[Y]);return X(L,we,xe)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(L){return{$$typeof:d,render:L}},Qe.isValidElement=de,Qe.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:Z}},Qe.memo=function(L,W){return{$$typeof:f,type:L,compare:W===void 0?null:W}},Qe.startTransition=function(L){var W=P.T,ne={};P.T=ne;try{var Y=L(),xe=P.S;xe!==null&&xe(ne,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(A,se)}catch(we){se(we)}finally{W!==null&&ne.types!==null&&(W.types=ne.types),P.T=W}},Qe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Qe.use=function(L){return P.H.use(L)},Qe.useActionState=function(L,W,ne){return P.H.useActionState(L,W,ne)},Qe.useCallback=function(L,W){return P.H.useCallback(L,W)},Qe.useContext=function(L){return P.H.useContext(L)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(L,W){return P.H.useDeferredValue(L,W)},Qe.useEffect=function(L,W){return P.H.useEffect(L,W)},Qe.useEffectEvent=function(L){return P.H.useEffectEvent(L)},Qe.useId=function(){return P.H.useId()},Qe.useImperativeHandle=function(L,W,ne){return P.H.useImperativeHandle(L,W,ne)},Qe.useInsertionEffect=function(L,W){return P.H.useInsertionEffect(L,W)},Qe.useLayoutEffect=function(L,W){return P.H.useLayoutEffect(L,W)},Qe.useMemo=function(L,W){return P.H.useMemo(L,W)},Qe.useOptimistic=function(L,W){return P.H.useOptimistic(L,W)},Qe.useReducer=function(L,W,ne){return P.H.useReducer(L,W,ne)},Qe.useRef=function(L){return P.H.useRef(L)},Qe.useState=function(L){return P.H.useState(L)},Qe.useSyncExternalStore=function(L,W,ne){return P.H.useSyncExternalStore(L,W,ne)},Qe.useTransition=function(){return P.H.useTransition()},Qe.version="19.2.4",Qe}var t0;function Cp(){return t0||(t0=1,nf.exports=ZM()),nf.exports}var af={exports:{}},Sn={};var n0;function QM(){if(n0)return Sn;n0=1;var r=Cp();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(h,f,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:f,implementation:g}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Sn.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(h,f,null,g)},Sn.flushSync=function(h){var f=c.T,g=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=f,a.p=g,a.d.f()}},Sn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(h,f))},Sn.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Sn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,y=d(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?a.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):g==="script"&&a.d.X(h,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=d(f.as,f.crossOrigin);a.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(h)},Sn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,y=d(g,f.crossOrigin);a.d.L(h,g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sn.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=d(f.as,f.crossOrigin);a.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(h)},Sn.requestFormReset=function(h){a.d.r(h)},Sn.unstable_batchedUpdates=function(h,f){return h(f)},Sn.useFormState=function(h,f,g){return c.H.useFormState(h,f,g)},Sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Sn.version="19.2.4",Sn}var i0;function e1(){if(i0)return af.exports;i0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),af.exports=QM(),af.exports}var a0;function t1(){if(a0)return Io;a0=1;var r=XM(),e=Cp(),t=e1();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(a(188))}function f(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,u=i;;){var p=o.return;if(p===null)break;var m=p.alternate;if(m===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===o)return h(p),n;if(m===u)return h(p),i;m=m.sibling}throw Error(a(188))}if(o.return!==u.return)o=p,u=m;else{for(var M=!1,E=p.child;E;){if(E===o){M=!0,o=p,u=m;break}if(E===u){M=!0,u=p,o=m;break}E=E.sibling}if(!M){for(E=m.child;E;){if(E===o){M=!0,o=m,u=p;break}if(E===u){M=!0,u=m,o=p;break}E=E.sibling}if(!M)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),B=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function re(n){return n===null||typeof n!="object"?null:(n=de&&n[de]||n["@@iterator"],typeof n=="function"?n:null)}var K=Symbol.for("react.client.reference");function N(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===K?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case S:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList";case X:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case B:return n.displayName||"Context";case x:return(n._context.displayName||"Context")+".Consumer";case O:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return i=n.displayName||null,i!==null?i:N(n.type)||"Memo";case q:i=n._payload,n=n._init;try{return N(n(i))}catch{}}return null}var V=Array.isArray,C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},se=[],he=-1;function L(n){return{current:n}}function W(n){0>he||(n.current=se[he],se[he]=null,he--)}function ne(n,i){he++,se[he]=n.current,n.current=i}var Y=L(null),xe=L(null),we=L(null),ve=L(null);function _e(n,i){switch(ne(we,i),ne(xe,n),ne(Y,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?bv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=bv(i),n=xv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(Y),ne(Y,n)}function Ne(){W(Y),W(xe),W(we)}function Re(n){n.memoizedState!==null&&ne(ve,n);var i=Y.current,o=xv(i,n.type);i!==o&&(ne(xe,n),ne(Y,o))}function Xe(n){xe.current===n&&(W(Y),W(xe)),ve.current===n&&(W(ve),Bo._currentValue=Z)}var Me,Ce;function be(n){if(Me===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Me=i&&i[1]||"",Ce=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+n+Ce}var Oe=!1;function ke(n,i){if(!n||Oe)return"";Oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(le){var ie=le}Reflect.construct(n,[],ge)}else{try{ge.call()}catch(le){ie=le}n.call(ge.prototype)}}else{try{throw Error()}catch(le){ie=le}(ge=n())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(le){if(le&&ie&&typeof le.stack=="string")return[le.stack,ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),M=m[0],E=m[1];if(M&&E){var F=M.split(`
`),ee=E.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===ee.length)for(u=F.length-1,p=ee.length-1;1<=u&&0<=p&&F[u]!==ee[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==ee[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==ee[p]){var fe=`
`+F[u].replace(" at new "," at ");return n.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",n.displayName)),fe}while(1<=u&&0<=p);break}}}finally{Oe=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?be(o):""}function z(n,i){switch(n.tag){case 26:case 27:case 5:return be(n.type);case 16:return be("Lazy");case 13:return n.child!==i&&i!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return ke(n.type,!1);case 11:return ke(n.type.render,!1);case 1:return ke(n.type,!0);case 31:return be("Activity");default:return""}}function k(n){try{var i="",o=null;do i+=z(n,o),o=n,n=n.return;while(n);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var oe=Object.prototype.hasOwnProperty,ce=r.unstable_scheduleCallback,Ee=r.unstable_cancelCallback,ze=r.unstable_shouldYield,nt=r.unstable_requestPaint,Ie=r.unstable_now,J=r.unstable_getCurrentPriorityLevel,Te=r.unstable_ImmediatePriority,Ae=r.unstable_UserBlockingPriority,Fe=r.unstable_NormalPriority,ye=r.unstable_LowPriority,We=r.unstable_IdlePriority,rt=r.log,Nt=r.unstable_setDisableYieldValue,fn=null,st=null;function Se(n){if(typeof rt=="function"&&Nt(n),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(fn,n)}catch{}}var De=Math.clz32?Math.clz32:it,xt=Math.log,Bt=Math.LN2;function it(n){return n>>>=0,n===0?32:31-(xt(n)/Bt|0)|0}var dt=256,nn=262144,_n=4194304;function Xn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Zn(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var p=0,m=n.suspendedLanes,M=n.pingedLanes;n=n.warmLanes;var E=u&134217727;return E!==0?(u=E&~m,u!==0?p=Xn(u):(M&=E,M!==0?p=Xn(M):o||(o=E&~n,o!==0&&(p=Xn(o))))):(E=u&~m,E!==0?p=Xn(E):M!==0?p=Xn(M):o||(o=u&~n,o!==0&&(p=Xn(o)))),p===0?0:i!==0&&i!==p&&(i&m)===0&&(m=p&-p,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:p}function ca(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function wl(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sl(){var n=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),n}function Js(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function U(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ue(n,i,o,u,p,m){var M=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var E=n.entanglements,F=n.expirationTimes,ee=n.hiddenUpdates;for(o=M&~o;0<o;){var fe=31-De(o),ge=1<<fe;E[fe]=0,F[fe]=-1;var ie=ee[fe];if(ie!==null)for(ee[fe]=null,fe=0;fe<ie.length;fe++){var le=ie[fe];le!==null&&(le.lane&=-536870913)}o&=~ge}u!==0&&ae(n,u,0),m!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=m&~(M&~i))}function ae(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-De(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function me(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-De(o),p=1<<u;p&i|n[u]&i&&(n[u]|=i),o&=~p}}function Ue(n,i){var o=i&-i;return o=(o&42)!==0?1:ot(o),(o&(n.suspendedLanes|i))!==0?0:o}function ot(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function $e(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ze(){var n=H.p;return n!==0?n:(n=window.event,n===void 0?32:Vv(n.type))}function St(n,i){var o=H.p;try{return H.p=n,i()}finally{H.p=o}}var je=Math.random().toString(36).slice(2),Ye="__reactFiber$"+je,He="__reactProps$"+je,ht="__reactContainer$"+je,Nn="__reactEvents$"+je,pn="__reactListeners$"+je,Ui="__reactHandles$"+je,jt="__reactResources$"+je,Fn="__reactMarker$"+je;function zt(n){delete n[Ye],delete n[He],delete n[Nn],delete n[pn],delete n[Ui]}function wi(n){var i=n[Ye];if(i)return i;for(var o=n.parentNode;o;){if(i=o[ht]||o[Ye]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=Cv(n);n!==null;){if(o=n[Ye])return o;n=Cv(n)}return i}n=o,o=n.parentNode}return null}function Yt(n){if(n=n[Ye]||n[ht]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function En(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function ua(n){var i=n[jt];return i||(i=n[jt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function on(n){n[Fn]=!0}var om=new Set,lm={};function Za(n,i){Ar(n,i),Ar(n+"Capture",i)}function Ar(n,i){for(lm[n]=i,n=0;n<i.length;n++)om.add(i[n])}var Iw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cm={},um={};function Fw(n){return oe.call(um,n)?!0:oe.call(cm,n)?!1:Iw.test(n)?um[n]=!0:(cm[n]=!0,!1)}function Ml(n,i,o){if(Fw(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function Tl(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function Bi(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}function Qn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function dm(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gw(n,i,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,m=u.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(M){o=""+M,m.call(this,M)}}),Object.defineProperty(n,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(M){o=""+M},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ju(n){if(!n._valueTracker){var i=dm(n)?"checked":"value";n._valueTracker=Gw(n,i,""+n[i])}}function hm(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=dm(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function _l(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hw=/[\n"\\]/g;function ei(n){return n.replace(Hw,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qu(n,i,o,u,p,m,M,E){n.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.type=M:n.removeAttribute("type"),i!=null?M==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Qn(i)):n.value!==""+Qn(i)&&(n.value=""+Qn(i)):M!=="submit"&&M!=="reset"||n.removeAttribute("value"),i!=null?Ku(n,M,Qn(i)):o!=null?Ku(n,M,Qn(o)):u!=null&&n.removeAttribute("value"),p==null&&m!=null&&(n.defaultChecked=!!m),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+Qn(E):n.removeAttribute("name")}function fm(n,i,o,u,p,m,M,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){ju(n);return}o=o!=null?""+Qn(o):"",i=i!=null?""+Qn(i):o,E||i===n.value||(n.value=i),n.defaultValue=i}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=E?n.checked:!!u,n.defaultChecked=!!u,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(n.name=M),ju(n)}function Ku(n,i,o){i==="number"&&_l(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Rr(n,i,o,u){if(n=n.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=i.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Qn(o),i=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,u&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function pm(n,i,o){if(i!=null&&(i=""+Qn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+Qn(o):""}function mm(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(a(92));if(V(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Qn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),ju(n)}function Lr(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Vw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gm(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||Vw.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function ym(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var p in i)u=i[p],i.hasOwnProperty(p)&&o[p]!==u&&gm(n,p,u)}else for(var m in i)i.hasOwnProperty(m)&&gm(n,m,i[m])}function Yu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ww=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function El(n){return jw.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Di(){}var Ju=null;function $u(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var kr=null,Nr=null;function vm(n){var i=Yt(n);if(i&&(n=i.stateNode)){var o=n[He]||null;e:switch(n=i.stateNode,i.type){case"input":if(qu(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ei(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var p=u[He]||null;if(!p)throw Error(a(90));qu(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&hm(u)}break e;case"textarea":pm(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Rr(n,!!o.multiple,i,!1)}}}var Xu=!1;function bm(n,i,o){if(Xu)return n(i,o);Xu=!0;try{var u=n(i);return u}finally{if(Xu=!1,(kr!==null||Nr!==null)&&(fc(),kr&&(i=kr,n=Nr,Nr=kr=null,vm(i),n)))for(i=0;i<n.length;i++)vm(n[i])}}function $s(n,i){var o=n.stateNode;if(o===null)return null;var u=o[He]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=!1;if(Pi)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Zu=!1}var da=null,Qu=null,Cl=null;function xm(){if(Cl)return Cl;var n,i=Qu,o=i.length,u,p="value"in da?da.value:da.textContent,m=p.length;for(n=0;n<o&&i[n]===p[n];n++);var M=o-n;for(u=1;u<=M&&i[o-u]===p[m-u];u++);return Cl=p.slice(n,1<u?1-u:void 0)}function Al(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Rl(){return!0}function wm(){return!1}function Un(n){function i(o,u,p,m,M){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=m,this.target=M,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(o=n[E],this[E]=o?o(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Rl:wm,this.isPropagationStopped=wm,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),i}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=Un(Qa),Zs=y({},Qa,{view:0,detail:0}),qw=Un(Zs),ed,td,Qs,kl=y({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qs&&(Qs&&n.type==="mousemove"?(ed=n.screenX-Qs.screenX,td=n.screenY-Qs.screenY):td=ed=0,Qs=n),ed)},movementY:function(n){return"movementY"in n?n.movementY:td}}),Sm=Un(kl),Kw=y({},kl,{dataTransfer:0}),Yw=Un(Kw),Jw=y({},Zs,{relatedTarget:0}),nd=Un(Jw),$w=y({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),Xw=Un($w),Zw=y({},Qa,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Qw=Un(Zw),eS=y({},Qa,{data:0}),Mm=Un(eS),tS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aS(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=iS[n])?!!i[n]:!1}function id(){return aS}var rS=y({},Zs,{key:function(n){if(n.key){var i=tS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Al(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?nS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(n){return n.type==="keypress"?Al(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Al(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),sS=Un(rS),oS=y({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tm=Un(oS),lS=y({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),cS=Un(lS),uS=y({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),dS=Un(uS),hS=y({},kl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fS=Un(hS),pS=y({},Qa,{newState:0,oldState:0}),mS=Un(pS),gS=[9,13,27,32],ad=Pi&&"CompositionEvent"in window,eo=null;Pi&&"documentMode"in document&&(eo=document.documentMode);var yS=Pi&&"TextEvent"in window&&!eo,_m=Pi&&(!ad||eo&&8<eo&&11>=eo),Em=" ",Cm=!1;function Am(n,i){switch(n){case"keyup":return gS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ur=!1;function vS(n,i){switch(n){case"compositionend":return Rm(i);case"keypress":return i.which!==32?null:(Cm=!0,Em);case"textInput":return n=i.data,n===Em&&Cm?null:n;default:return null}}function bS(n,i){if(Ur)return n==="compositionend"||!ad&&Am(n,i)?(n=xm(),Cl=Qu=da=null,Ur=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _m&&i.locale!=="ko"?null:i.data;default:return null}}var xS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!xS[n.type]:i==="textarea"}function km(n,i,o,u){kr?Nr?Nr.push(u):Nr=[u]:kr=u,i=xc(i,"onChange"),0<i.length&&(o=new Ll("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var to=null,no=null;function wS(n){fv(n,0)}function Nl(n){var i=En(n);if(hm(i))return n}function Nm(n,i){if(n==="change")return i}var Um=!1;if(Pi){var rd;if(Pi){var sd="oninput"in document;if(!sd){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),sd=typeof Bm.oninput=="function"}rd=sd}else rd=!1;Um=rd&&(!document.documentMode||9<document.documentMode)}function Dm(){to&&(to.detachEvent("onpropertychange",Pm),no=to=null)}function Pm(n){if(n.propertyName==="value"&&Nl(no)){var i=[];km(i,no,n,$u(n)),bm(wS,i)}}function SS(n,i,o){n==="focusin"?(Dm(),to=i,no=o,to.attachEvent("onpropertychange",Pm)):n==="focusout"&&Dm()}function MS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Nl(no)}function TS(n,i){if(n==="click")return Nl(i)}function _S(n,i){if(n==="input"||n==="change")return Nl(i)}function ES(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Gn=typeof Object.is=="function"?Object.is:ES;function io(n,i){if(Gn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!oe.call(i,p)||!Gn(n[p],i[p]))return!1}return!0}function Om(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zm(n,i){var o=Om(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Om(o)}}function Im(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Im(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Fm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=_l(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=_l(n.document)}return i}function od(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var CS=Pi&&"documentMode"in document&&11>=document.documentMode,Br=null,ld=null,ao=null,cd=!1;function Gm(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;cd||Br==null||Br!==_l(u)||(u=Br,"selectionStart"in u&&od(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ao&&io(ao,u)||(ao=u,u=xc(ld,"onSelect"),0<u.length&&(i=new Ll("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=Br)))}function er(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Dr={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},ud={},Hm={};Pi&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function tr(n){if(ud[n])return ud[n];if(!Dr[n])return n;var i=Dr[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in Hm)return ud[n]=i[o];return n}var Vm=tr("animationend"),Wm=tr("animationiteration"),jm=tr("animationstart"),AS=tr("transitionrun"),RS=tr("transitionstart"),LS=tr("transitioncancel"),qm=tr("transitionend"),Km=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function fi(n,i){Km.set(n,i),Za(i,[n])}var Ul=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ti=[],Pr=0,hd=0;function Bl(){for(var n=Pr,i=hd=Pr=0;i<n;){var o=ti[i];ti[i++]=null;var u=ti[i];ti[i++]=null;var p=ti[i];ti[i++]=null;var m=ti[i];if(ti[i++]=null,u!==null&&p!==null){var M=u.pending;M===null?p.next=p:(p.next=M.next,M.next=p),u.pending=p}m!==0&&Ym(o,p,m)}}function Dl(n,i,o,u){ti[Pr++]=n,ti[Pr++]=i,ti[Pr++]=o,ti[Pr++]=u,hd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function fd(n,i,o,u){return Dl(n,i,o,u),Pl(n)}function nr(n,i){return Dl(n,null,null,i),Pl(n)}function Ym(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var p=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(p=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,p&&i!==null&&(p=31-De(o),n=m.hiddenUpdates,u=n[p],u===null?n[p]=[i]:u.push(i),i.lane=o|536870912),m):null}function Pl(n){if(50<Co)throw Co=0,Sh=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Or={};function kS(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(n,i,o,u){return new kS(n,i,o,u)}function pd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Oi(n,i){var o=n.alternate;return o===null?(o=Hn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Jm(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Ol(n,i,o,u,p,m){var M=0;if(u=n,typeof n=="function")pd(n)&&(M=1);else if(typeof n=="string")M=PM(n,o,Y.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case X:return n=Hn(31,o,i,p),n.elementType=X,n.lanes=m,n;case T:return ir(o.children,p,m,i);case _:M=8,p|=24;break;case S:return n=Hn(12,o,i,p|2),n.elementType=S,n.lanes=m,n;case D:return n=Hn(13,o,i,p),n.elementType=D,n.lanes=m,n;case A:return n=Hn(19,o,i,p),n.elementType=A,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case B:M=10;break e;case x:M=9;break e;case O:M=11;break e;case P:M=14;break e;case q:M=16,u=null;break e}M=29,o=Error(a(130,n===null?"null":typeof n,"")),u=null}return i=Hn(M,o,i,p),i.elementType=n,i.type=u,i.lanes=m,i}function ir(n,i,o,u){return n=Hn(7,n,u,i),n.lanes=o,n}function md(n,i,o){return n=Hn(6,n,null,i),n.lanes=o,n}function $m(n){var i=Hn(18,null,null,0);return i.stateNode=n,i}function gd(n,i,o){return i=Hn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Xm=new WeakMap;function ni(n,i){if(typeof n=="object"&&n!==null){var o=Xm.get(n);return o!==void 0?o:(i={value:n,source:i,stack:k(i)},Xm.set(n,i),i)}return{value:n,source:i,stack:k(i)}}var zr=[],Ir=0,zl=null,ro=0,ii=[],ai=0,ha=null,Si=1,Mi="";function zi(n,i){zr[Ir++]=ro,zr[Ir++]=zl,zl=n,ro=i}function Zm(n,i,o){ii[ai++]=Si,ii[ai++]=Mi,ii[ai++]=ha,ha=n;var u=Si;n=Mi;var p=32-De(u)-1;u&=~(1<<p),o+=1;var m=32-De(i)+p;if(30<m){var M=p-p%5;m=(u&(1<<M)-1).toString(32),u>>=M,p-=M,Si=1<<32-De(i)+p|o<<p|u,Mi=m+n}else Si=1<<m|o<<p|u,Mi=n}function yd(n){n.return!==null&&(zi(n,1),Zm(n,1,0))}function vd(n){for(;n===zl;)zl=zr[--Ir],zr[Ir]=null,ro=zr[--Ir],zr[Ir]=null;for(;n===ha;)ha=ii[--ai],ii[ai]=null,Mi=ii[--ai],ii[ai]=null,Si=ii[--ai],ii[ai]=null}function Qm(n,i){ii[ai++]=Si,ii[ai++]=Mi,ii[ai++]=ha,Si=i.id,Mi=i.overflow,ha=n}var mn=null,Pt=null,mt=!1,fa=null,ri=!1,bd=Error(a(519));function pa(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw so(ni(i,n)),bd}function eg(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[Ye]=n,i[He]=u,o){case"dialog":ct("cancel",i),ct("close",i);break;case"iframe":case"object":case"embed":ct("load",i);break;case"video":case"audio":for(o=0;o<Ro.length;o++)ct(Ro[o],i);break;case"source":ct("error",i);break;case"img":case"image":case"link":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"input":ct("invalid",i),fm(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ct("invalid",i);break;case"textarea":ct("invalid",i),mm(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||yv(i.textContent,o)?(u.popover!=null&&(ct("beforetoggle",i),ct("toggle",i)),u.onScroll!=null&&ct("scroll",i),u.onScrollEnd!=null&&ct("scrollend",i),u.onClick!=null&&(i.onclick=Di),i=!0):i=!1,i||pa(n,!0)}function tg(n){for(mn=n.return;mn;)switch(mn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:mn=mn.return}}function Fr(n){if(n!==mn)return!1;if(!mt)return tg(n),mt=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Oh(n.type,n.memoizedProps)),o=!o),o&&Pt&&pa(n),tg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Pt=Ev(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Pt=Ev(n)}else i===27?(i=Pt,Aa(n.type)?(n=Hh,Hh=null,Pt=n):Pt=i):Pt=mn?oi(n.stateNode.nextSibling):null;return!0}function ar(){Pt=mn=null,mt=!1}function xd(){var n=fa;return n!==null&&(On===null?On=n:On.push.apply(On,n),fa=null),n}function so(n){fa===null?fa=[n]:fa.push(n)}var wd=L(null),rr=null,Ii=null;function ma(n,i,o){ne(wd,i._currentValue),i._currentValue=o}function Fi(n){n._currentValue=wd.current,W(wd)}function Sd(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function Md(n,i,o,u){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var m=p.dependencies;if(m!==null){var M=p.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=p;for(var F=0;F<i.length;F++)if(E.context===i[F]){m.lanes|=o,E=m.alternate,E!==null&&(E.lanes|=o),Sd(m.return,o,n),u||(M=null);break e}m=E.next}}else if(p.tag===18){if(M=p.return,M===null)throw Error(a(341));M.lanes|=o,m=M.alternate,m!==null&&(m.lanes|=o),Sd(M,o,n),M=null}else M=p.child;if(M!==null)M.return=p;else for(M=p;M!==null;){if(M===n){M=null;break}if(p=M.sibling,p!==null){p.return=M.return,M=p;break}M=M.return}p=M}}function Gr(n,i,o,u){n=null;for(var p=i,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var M=p.alternate;if(M===null)throw Error(a(387));if(M=M.memoizedProps,M!==null){var E=p.type;Gn(p.pendingProps.value,M.value)||(n!==null?n.push(E):n=[E])}}else if(p===ve.current){if(M=p.alternate,M===null)throw Error(a(387));M.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Bo):n=[Bo])}p=p.return}n!==null&&Md(i,n,o,u),i.flags|=262144}function Il(n){for(n=n.firstContext;n!==null;){if(!Gn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function sr(n){rr=n,Ii=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function gn(n){return ng(rr,n)}function Fl(n,i){return rr===null&&sr(n),ng(n,i)}function ng(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ii===null){if(n===null)throw Error(a(308));Ii=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ii=Ii.next=i;return o}var NS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},US=r.unstable_scheduleCallback,BS=r.unstable_NormalPriority,Zt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Td(){return{controller:new NS,data:new Map,refCount:0}}function oo(n){n.refCount--,n.refCount===0&&US(BS,function(){n.controller.abort()})}var lo=null,_d=0,Hr=0,Vr=null;function DS(n,i){if(lo===null){var o=lo=[];_d=0,Hr=Ah(),Vr={status:"pending",value:void 0,then:function(u){o.push(u)}}}return _d++,i.then(ig,ig),i}function ig(){if(--_d===0&&lo!==null){Vr!==null&&(Vr.status="fulfilled");var n=lo;lo=null,Hr=0,Vr=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function PS(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var ag=C.S;C.S=function(n,i){Gy=Ie(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&DS(n,i),ag!==null&&ag(n,i)};var or=L(null);function Ed(){var n=or.current;return n!==null?n:Ut.pooledCache}function Gl(n,i){i===null?ne(or,or.current):ne(or,i.pool)}function rg(){var n=Ed();return n===null?null:{parent:Zt._currentValue,pool:n}}var Wr=Error(a(460)),Cd=Error(a(474)),Hl=Error(a(542)),Vl={then:function(){}};function sg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function og(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Di,Di),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,cg(n),n;default:if(typeof i.status=="string")i.then(Di,Di);else{if(n=Ut,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=u}},function(u){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,cg(n),n}throw cr=i,Wr}}function lr(n){try{var i=n._init;return i(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(cr=o,Wr):o}}var cr=null;function lg(){if(cr===null)throw Error(a(459));var n=cr;return cr=null,n}function cg(n){if(n===Wr||n===Hl)throw Error(a(483))}var jr=null,co=0;function Wl(n){var i=co;return co+=1,jr===null&&(jr=[]),og(jr,n,i)}function uo(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function jl(n,i){throw i.$$typeof===v?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function ug(n){function i($,j){if(n){var Q=$.deletions;Q===null?($.deletions=[j],$.flags|=16):Q.push(j)}}function o($,j){if(!n)return null;for(;j!==null;)i($,j),j=j.sibling;return null}function u($){for(var j=new Map;$!==null;)$.key!==null?j.set($.key,$):j.set($.index,$),$=$.sibling;return j}function p($,j){return $=Oi($,j),$.index=0,$.sibling=null,$}function m($,j,Q){return $.index=Q,n?(Q=$.alternate,Q!==null?(Q=Q.index,Q<j?($.flags|=67108866,j):Q):($.flags|=67108866,j)):($.flags|=1048576,j)}function M($){return n&&$.alternate===null&&($.flags|=67108866),$}function E($,j,Q,pe){return j===null||j.tag!==6?(j=md(Q,$.mode,pe),j.return=$,j):(j=p(j,Q),j.return=$,j)}function F($,j,Q,pe){var Ve=Q.type;return Ve===T?fe($,j,Q.props.children,pe,Q.key):j!==null&&(j.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===q&&lr(Ve)===j.type)?(j=p(j,Q.props),uo(j,Q),j.return=$,j):(j=Ol(Q.type,Q.key,Q.props,null,$.mode,pe),uo(j,Q),j.return=$,j)}function ee($,j,Q,pe){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=gd(Q,$.mode,pe),j.return=$,j):(j=p(j,Q.children||[]),j.return=$,j)}function fe($,j,Q,pe,Ve){return j===null||j.tag!==7?(j=ir(Q,$.mode,pe,Ve),j.return=$,j):(j=p(j,Q),j.return=$,j)}function ge($,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=md(""+j,$.mode,Q),j.return=$,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return Q=Ol(j.type,j.key,j.props,null,$.mode,Q),uo(Q,j),Q.return=$,Q;case w:return j=gd(j,$.mode,Q),j.return=$,j;case q:return j=lr(j),ge($,j,Q)}if(V(j)||re(j))return j=ir(j,$.mode,Q,null),j.return=$,j;if(typeof j.then=="function")return ge($,Wl(j),Q);if(j.$$typeof===B)return ge($,Fl($,j),Q);jl($,j)}return null}function ie($,j,Q,pe){var Ve=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ve!==null?null:E($,j,""+Q,pe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Ve?F($,j,Q,pe):null;case w:return Q.key===Ve?ee($,j,Q,pe):null;case q:return Q=lr(Q),ie($,j,Q,pe)}if(V(Q)||re(Q))return Ve!==null?null:fe($,j,Q,pe,null);if(typeof Q.then=="function")return ie($,j,Wl(Q),pe);if(Q.$$typeof===B)return ie($,j,Fl($,Q),pe);jl($,Q)}return null}function le($,j,Q,pe,Ve){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return $=$.get(Q)||null,E(j,$,""+pe,Ve);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:return $=$.get(pe.key===null?Q:pe.key)||null,F(j,$,pe,Ve);case w:return $=$.get(pe.key===null?Q:pe.key)||null,ee(j,$,pe,Ve);case q:return pe=lr(pe),le($,j,Q,pe,Ve)}if(V(pe)||re(pe))return $=$.get(Q)||null,fe(j,$,pe,Ve,null);if(typeof pe.then=="function")return le($,j,Q,Wl(pe),Ve);if(pe.$$typeof===B)return le($,j,Q,Fl(j,pe),Ve);jl(j,pe)}return null}function Pe($,j,Q,pe){for(var Ve=null,yt=null,Ge=j,tt=j=0,pt=null;Ge!==null&&tt<Q.length;tt++){Ge.index>tt?(pt=Ge,Ge=null):pt=Ge.sibling;var vt=ie($,Ge,Q[tt],pe);if(vt===null){Ge===null&&(Ge=pt);break}n&&Ge&&vt.alternate===null&&i($,Ge),j=m(vt,j,tt),yt===null?Ve=vt:yt.sibling=vt,yt=vt,Ge=pt}if(tt===Q.length)return o($,Ge),mt&&zi($,tt),Ve;if(Ge===null){for(;tt<Q.length;tt++)Ge=ge($,Q[tt],pe),Ge!==null&&(j=m(Ge,j,tt),yt===null?Ve=Ge:yt.sibling=Ge,yt=Ge);return mt&&zi($,tt),Ve}for(Ge=u(Ge);tt<Q.length;tt++)pt=le(Ge,$,tt,Q[tt],pe),pt!==null&&(n&&pt.alternate!==null&&Ge.delete(pt.key===null?tt:pt.key),j=m(pt,j,tt),yt===null?Ve=pt:yt.sibling=pt,yt=pt);return n&&Ge.forEach(function(Ua){return i($,Ua)}),mt&&zi($,tt),Ve}function Ke($,j,Q,pe){if(Q==null)throw Error(a(151));for(var Ve=null,yt=null,Ge=j,tt=j=0,pt=null,vt=Q.next();Ge!==null&&!vt.done;tt++,vt=Q.next()){Ge.index>tt?(pt=Ge,Ge=null):pt=Ge.sibling;var Ua=ie($,Ge,vt.value,pe);if(Ua===null){Ge===null&&(Ge=pt);break}n&&Ge&&Ua.alternate===null&&i($,Ge),j=m(Ua,j,tt),yt===null?Ve=Ua:yt.sibling=Ua,yt=Ua,Ge=pt}if(vt.done)return o($,Ge),mt&&zi($,tt),Ve;if(Ge===null){for(;!vt.done;tt++,vt=Q.next())vt=ge($,vt.value,pe),vt!==null&&(j=m(vt,j,tt),yt===null?Ve=vt:yt.sibling=vt,yt=vt);return mt&&zi($,tt),Ve}for(Ge=u(Ge);!vt.done;tt++,vt=Q.next())vt=le(Ge,$,tt,vt.value,pe),vt!==null&&(n&&vt.alternate!==null&&Ge.delete(vt.key===null?tt:vt.key),j=m(vt,j,tt),yt===null?Ve=vt:yt.sibling=vt,yt=vt);return n&&Ge.forEach(function(KM){return i($,KM)}),mt&&zi($,tt),Ve}function Rt($,j,Q,pe){if(typeof Q=="object"&&Q!==null&&Q.type===T&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Ve=Q.key;j!==null;){if(j.key===Ve){if(Ve=Q.type,Ve===T){if(j.tag===7){o($,j.sibling),pe=p(j,Q.props.children),pe.return=$,$=pe;break e}}else if(j.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===q&&lr(Ve)===j.type){o($,j.sibling),pe=p(j,Q.props),uo(pe,Q),pe.return=$,$=pe;break e}o($,j);break}else i($,j);j=j.sibling}Q.type===T?(pe=ir(Q.props.children,$.mode,pe,Q.key),pe.return=$,$=pe):(pe=Ol(Q.type,Q.key,Q.props,null,$.mode,pe),uo(pe,Q),pe.return=$,$=pe)}return M($);case w:e:{for(Ve=Q.key;j!==null;){if(j.key===Ve)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){o($,j.sibling),pe=p(j,Q.children||[]),pe.return=$,$=pe;break e}else{o($,j);break}else i($,j);j=j.sibling}pe=gd(Q,$.mode,pe),pe.return=$,$=pe}return M($);case q:return Q=lr(Q),Rt($,j,Q,pe)}if(V(Q))return Pe($,j,Q,pe);if(re(Q)){if(Ve=re(Q),typeof Ve!="function")throw Error(a(150));return Q=Ve.call(Q),Ke($,j,Q,pe)}if(typeof Q.then=="function")return Rt($,j,Wl(Q),pe);if(Q.$$typeof===B)return Rt($,j,Fl($,Q),pe);jl($,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,j!==null&&j.tag===6?(o($,j.sibling),pe=p(j,Q),pe.return=$,$=pe):(o($,j),pe=md(Q,$.mode,pe),pe.return=$,$=pe),M($)):o($,j)}return function($,j,Q,pe){try{co=0;var Ve=Rt($,j,Q,pe);return jr=null,Ve}catch(Ge){if(Ge===Wr||Ge===Hl)throw Ge;var yt=Hn(29,Ge,null,$.mode);return yt.lanes=pe,yt.return=$,yt}}}var ur=ug(!0),dg=ug(!1),ga=!1;function Ad(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ya(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function va(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(wt&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,i=Pl(n),Ym(n,null,o),i}return Dl(n,u,i,o),Pl(n)}function ho(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,me(n,o)}}function Ld(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var M={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?p=m=M:m=m.next=M,o=o.next}while(o!==null);m===null?p=m=i:m=m.next=i}else p=m=i;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var kd=!1;function fo(){if(kd){var n=Vr;if(n!==null)throw n}}function po(n,i,o,u){kd=!1;var p=n.updateQueue;ga=!1;var m=p.firstBaseUpdate,M=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var F=E,ee=F.next;F.next=null,M===null?m=ee:M.next=ee,M=F;var fe=n.alternate;fe!==null&&(fe=fe.updateQueue,E=fe.lastBaseUpdate,E!==M&&(E===null?fe.firstBaseUpdate=ee:E.next=ee,fe.lastBaseUpdate=F))}if(m!==null){var ge=p.baseState;M=0,fe=ee=F=null,E=m;do{var ie=E.lane&-536870913,le=ie!==E.lane;if(le?(ft&ie)===ie:(u&ie)===ie){ie!==0&&ie===Hr&&(kd=!0),fe!==null&&(fe=fe.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Pe=n,Ke=E;ie=i;var Rt=o;switch(Ke.tag){case 1:if(Pe=Ke.payload,typeof Pe=="function"){ge=Pe.call(Rt,ge,ie);break e}ge=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ke.payload,ie=typeof Pe=="function"?Pe.call(Rt,ge,ie):Pe,ie==null)break e;ge=y({},ge,ie);break e;case 2:ga=!0}}ie=E.callback,ie!==null&&(n.flags|=64,le&&(n.flags|=8192),le=p.callbacks,le===null?p.callbacks=[ie]:le.push(ie))}else le={lane:ie,tag:E.tag,payload:E.payload,callback:E.callback,next:null},fe===null?(ee=fe=le,F=ge):fe=fe.next=le,M|=ie;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;le=E,E=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);fe===null&&(F=ge),p.baseState=F,p.firstBaseUpdate=ee,p.lastBaseUpdate=fe,m===null&&(p.shared.lanes=0),Ma|=M,n.lanes=M,n.memoizedState=ge}}function hg(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function fg(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)hg(o[n],i)}var qr=L(null),ql=L(0);function pg(n,i){n=Ji,ne(ql,n),ne(qr,i),Ji=n|i.baseLanes}function Nd(){ne(ql,Ji),ne(qr,qr.current)}function Ud(){Ji=ql.current,W(qr),W(ql)}var Vn=L(null),si=null;function ba(n){var i=n.alternate;ne(Jt,Jt.current&1),ne(Vn,n),si===null&&(i===null||qr.current!==null||i.memoizedState!==null)&&(si=n)}function Bd(n){ne(Jt,Jt.current),ne(Vn,n),si===null&&(si=n)}function mg(n){n.tag===22?(ne(Jt,Jt.current),ne(Vn,n),si===null&&(si=n)):xa()}function xa(){ne(Jt,Jt.current),ne(Vn,Vn.current)}function Wn(n){W(Vn),si===n&&(si=null),W(Jt)}var Jt=L(0);function Kl(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Fh(o)||Gh(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,et=null,Ct=null,Qt=null,Yl=!1,Kr=!1,dr=!1,Jl=0,mo=0,Yr=null,OS=0;function qt(){throw Error(a(321))}function Dd(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Gn(n[o],i[o]))return!1;return!0}function Pd(n,i,o,u,p,m){return Gi=m,et=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,C.H=n===null||n.memoizedState===null?Zg:Xd,dr=!1,m=o(u,p),dr=!1,Kr&&(m=yg(i,o,u,p)),gg(n),m}function gg(n){C.H=vo;var i=Ct!==null&&Ct.next!==null;if(Gi=0,Qt=Ct=et=null,Yl=!1,mo=0,Yr=null,i)throw Error(a(300));n===null||en||(n=n.dependencies,n!==null&&Il(n)&&(en=!0))}function yg(n,i,o,u){et=n;var p=0;do{if(Kr&&(Yr=null),mo=0,Kr=!1,25<=p)throw Error(a(301));if(p+=1,Qt=Ct=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}C.H=Qg,m=i(o,u)}while(Kr);return m}function zS(){var n=C.H,i=n.useState()[0];return i=typeof i.then=="function"?go(i):i,n=n.useState()[0],(Ct!==null?Ct.memoizedState:null)!==n&&(et.flags|=1024),i}function Od(){var n=Jl!==0;return Jl=0,n}function zd(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Id(n){if(Yl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yl=!1}Gi=0,Qt=Ct=et=null,Kr=!1,mo=Jl=0,Yr=null}function Cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?et.memoizedState=Qt=n:Qt=Qt.next=n,Qt}function $t(){if(Ct===null){var n=et.alternate;n=n!==null?n.memoizedState:null}else n=Ct.next;var i=Qt===null?et.memoizedState:Qt.next;if(i!==null)Qt=i,Ct=n;else{if(n===null)throw et.alternate===null?Error(a(467)):Error(a(310));Ct=n,n={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Qt===null?et.memoizedState=Qt=n:Qt=Qt.next=n}return Qt}function $l(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function go(n){var i=mo;return mo+=1,Yr===null&&(Yr=[]),n=og(Yr,n,i),i=et,(Qt===null?i.memoizedState:Qt.next)===null&&(i=i.alternate,C.H=i===null||i.memoizedState===null?Zg:Xd),n}function Xl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return go(n);if(n.$$typeof===B)return gn(n)}throw Error(a(438,String(n)))}function Fd(n){var i=null,o=et.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=et.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=$l(),et.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=te;return i.index++,o}function Hi(n,i){return typeof i=="function"?i(n):i}function Zl(n){var i=$t();return Gd(i,Ct,n)}function Gd(n,i,o){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var p=n.baseQueue,m=u.pending;if(m!==null){if(p!==null){var M=p.next;p.next=m.next,m.next=M}i.baseQueue=p=m,u.pending=null}if(m=n.baseState,p===null)n.memoizedState=m;else{i=p.next;var E=M=null,F=null,ee=i,fe=!1;do{var ge=ee.lane&-536870913;if(ge!==ee.lane?(ft&ge)===ge:(Gi&ge)===ge){var ie=ee.revertLane;if(ie===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ge===Hr&&(fe=!0);else if((Gi&ie)===ie){ee=ee.next,ie===Hr&&(fe=!0);continue}else ge={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(E=F=ge,M=m):F=F.next=ge,et.lanes|=ie,Ma|=ie;ge=ee.action,dr&&o(m,ge),m=ee.hasEagerState?ee.eagerState:o(m,ge)}else ie={lane:ge,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(E=F=ie,M=m):F=F.next=ie,et.lanes|=ge,Ma|=ge;ee=ee.next}while(ee!==null&&ee!==i);if(F===null?M=m:F.next=E,!Gn(m,n.memoizedState)&&(en=!0,fe&&(o=Vr,o!==null)))throw o;n.memoizedState=m,n.baseState=M,n.baseQueue=F,u.lastRenderedState=m}return p===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Hd(n){var i=$t(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var u=o.dispatch,p=o.pending,m=i.memoizedState;if(p!==null){o.pending=null;var M=p=p.next;do m=n(m,M.action),M=M.next;while(M!==p);Gn(m,i.memoizedState)||(en=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,u]}function vg(n,i,o){var u=et,p=$t(),m=mt;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=i();var M=!Gn((Ct||p).memoizedState,o);if(M&&(p.memoizedState=o,en=!0),p=p.queue,jd(wg.bind(null,u,p,n),[n]),p.getSnapshot!==i||M||Qt!==null&&Qt.memoizedState.tag&1){if(u.flags|=2048,Jr(9,{destroy:void 0},xg.bind(null,u,p,o,i),null),Ut===null)throw Error(a(349));m||(Gi&127)!==0||bg(u,i,o)}return o}function bg(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=et.updateQueue,i===null?(i=$l(),et.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function xg(n,i,o,u){i.value=o,i.getSnapshot=u,Sg(i)&&Mg(n)}function wg(n,i,o){return o(function(){Sg(i)&&Mg(n)})}function Sg(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Gn(n,o)}catch{return!0}}function Mg(n){var i=nr(n,2);i!==null&&zn(i,n,2)}function Vd(n){var i=Cn();if(typeof n=="function"){var o=n;if(n=o(),dr){Se(!0);try{o()}finally{Se(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:n},i}function Tg(n,i,o,u){return n.baseState=o,Gd(n,Ct,typeof u=="function"?u:Hi)}function IS(n,i,o,u,p){if(tc(n))throw Error(a(485));if(n=i.action,n!==null){var m={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){m.listeners.push(M)}};C.T!==null?o(!0):m.isTransition=!1,u(m),o=i.pending,o===null?(m.next=i.pending=m,_g(i,m)):(m.next=o.next,i.pending=o.next=m)}}function _g(n,i){var o=i.action,u=i.payload,p=n.state;if(i.isTransition){var m=C.T,M={};C.T=M;try{var E=o(p,u),F=C.S;F!==null&&F(M,E),Eg(n,i,E)}catch(ee){Wd(n,i,ee)}finally{m!==null&&M.types!==null&&(m.types=M.types),C.T=m}}else try{m=o(p,u),Eg(n,i,m)}catch(ee){Wd(n,i,ee)}}function Eg(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Cg(n,i,u)},function(u){return Wd(n,i,u)}):Cg(n,i,o)}function Cg(n,i,o){i.status="fulfilled",i.value=o,Ag(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,_g(n,o)))}function Wd(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Ag(i),i=i.next;while(i!==u)}n.action=null}function Ag(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Rg(n,i){return i}function Lg(n,i){if(mt){var o=Ut.formState;if(o!==null){e:{var u=et;if(mt){if(Pt){t:{for(var p=Pt,m=ri;p.nodeType!==8;){if(!m){p=null;break t}if(p=oi(p.nextSibling),p===null){p=null;break t}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){Pt=oi(p.nextSibling),u=p.data==="F!";break e}}pa(u)}u=!1}u&&(i=o[0])}}return o=Cn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:i},o.queue=u,o=Jg.bind(null,et,u),u.dispatch=o,u=Vd(!1),m=$d.bind(null,et,!1,u.queue),u=Cn(),p={state:i,dispatch:null,action:n,pending:null},u.queue=p,o=IS.bind(null,et,p,m,o),p.dispatch=o,u.memoizedState=n,[i,o,!1]}function kg(n){var i=$t();return Ng(i,Ct,n)}function Ng(n,i,o){if(i=Gd(n,i,Rg)[0],n=Zl(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=go(i)}catch(M){throw M===Wr?Hl:M}else u=i;i=$t();var p=i.queue,m=p.dispatch;return o!==i.memoizedState&&(et.flags|=2048,Jr(9,{destroy:void 0},FS.bind(null,p,o),null)),[u,m,n]}function FS(n,i){n.action=i}function Ug(n){var i=$t(),o=Ct;if(o!==null)return Ng(i,o,n);$t(),i=i.memoizedState,o=$t();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function Jr(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=et.updateQueue,i===null&&(i=$l(),et.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function Bg(){return $t().memoizedState}function Ql(n,i,o,u){var p=Cn();et.flags|=n,p.memoizedState=Jr(1|i,{destroy:void 0},o,u===void 0?null:u)}function ec(n,i,o,u){var p=$t();u=u===void 0?null:u;var m=p.memoizedState.inst;Ct!==null&&u!==null&&Dd(u,Ct.memoizedState.deps)?p.memoizedState=Jr(i,m,o,u):(et.flags|=n,p.memoizedState=Jr(1|i,m,o,u))}function Dg(n,i){Ql(8390656,8,n,i)}function jd(n,i){ec(2048,8,n,i)}function GS(n){et.flags|=4;var i=et.updateQueue;if(i===null)i=$l(),et.updateQueue=i,i.events=[n];else{var o=i.events;o===null?i.events=[n]:o.push(n)}}function Pg(n){var i=$t().memoizedState;return GS({ref:i,nextImpl:n}),function(){if((wt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Og(n,i){return ec(4,2,n,i)}function zg(n,i){return ec(4,4,n,i)}function Ig(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Fg(n,i,o){o=o!=null?o.concat([n]):null,ec(4,4,Ig.bind(null,i,n),o)}function qd(){}function Gg(n,i){var o=$t();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&Dd(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function Hg(n,i){var o=$t();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&Dd(i,u[1]))return u[0];if(u=n(),dr){Se(!0);try{n()}finally{Se(!1)}}return o.memoizedState=[u,i],u}function Kd(n,i,o){return o===void 0||(Gi&1073741824)!==0&&(ft&261930)===0?n.memoizedState=i:(n.memoizedState=o,n=Vy(),et.lanes|=n,Ma|=n,o)}function Vg(n,i,o,u){return Gn(o,i)?o:qr.current!==null?(n=Kd(n,o,u),Gn(n,i)||(en=!0),n):(Gi&42)===0||(Gi&1073741824)!==0&&(ft&261930)===0?(en=!0,n.memoizedState=o):(n=Vy(),et.lanes|=n,Ma|=n,i)}function Wg(n,i,o,u,p){var m=H.p;H.p=m!==0&&8>m?m:8;var M=C.T,E={};C.T=E,$d(n,!1,i,o);try{var F=p(),ee=C.S;if(ee!==null&&ee(E,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var fe=PS(F,u);yo(n,i,fe,Kn(n))}else yo(n,i,u,Kn(n))}catch(ge){yo(n,i,{then:function(){},status:"rejected",reason:ge},Kn())}finally{H.p=m,M!==null&&E.types!==null&&(M.types=E.types),C.T=M}}function HS(){}function Yd(n,i,o,u){if(n.tag!==5)throw Error(a(476));var p=jg(n).queue;Wg(n,p,i,Z,o===null?HS:function(){return qg(n),o(u)})}function jg(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:Z},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function qg(n){var i=jg(n);i.next===null&&(i=n.alternate.memoizedState),yo(n,i.next.queue,{},Kn())}function Jd(){return gn(Bo)}function Kg(){return $t().memoizedState}function Yg(){return $t().memoizedState}function VS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Kn();n=ya(o);var u=va(i,n,o);u!==null&&(zn(u,i,o),ho(u,i,o)),i={cache:Td()},n.payload=i;return}i=i.return}}function WS(n,i,o){var u=Kn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tc(n)?$g(i,o):(o=fd(n,i,o,u),o!==null&&(zn(o,n,u),Xg(o,i,u)))}function Jg(n,i,o){var u=Kn();yo(n,i,o,u)}function yo(n,i,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(tc(n))$g(i,p);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var M=i.lastRenderedState,E=m(M,o);if(p.hasEagerState=!0,p.eagerState=E,Gn(E,M))return Dl(n,i,p,0),Ut===null&&Bl(),!1}catch{}if(o=fd(n,i,p,u),o!==null)return zn(o,n,u),Xg(o,i,u),!0}return!1}function $d(n,i,o,u){if(u={lane:2,revertLane:Ah(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},tc(n)){if(i)throw Error(a(479))}else i=fd(n,o,u,2),i!==null&&zn(i,n,2)}function tc(n){var i=n.alternate;return n===et||i!==null&&i===et}function $g(n,i){Kr=Yl=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Xg(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,me(n,o)}}var vo={readContext:gn,use:Xl,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};vo.useEffectEvent=qt;var Zg={readContext:gn,use:Xl,useCallback:function(n,i){return Cn().memoizedState=[n,i===void 0?null:i],n},useContext:gn,useEffect:Dg,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Ql(4194308,4,Ig.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Ql(4194308,4,n,i)},useInsertionEffect:function(n,i){Ql(4,2,n,i)},useMemo:function(n,i){var o=Cn();i=i===void 0?null:i;var u=n();if(dr){Se(!0);try{n()}finally{Se(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=Cn();if(o!==void 0){var p=o(i);if(dr){Se(!0);try{o(i)}finally{Se(!1)}}}else p=i;return u.memoizedState=u.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},u.queue=n,n=n.dispatch=WS.bind(null,et,n),[u.memoizedState,n]},useRef:function(n){var i=Cn();return n={current:n},i.memoizedState=n},useState:function(n){n=Vd(n);var i=n.queue,o=Jg.bind(null,et,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:qd,useDeferredValue:function(n,i){var o=Cn();return Kd(o,n,i)},useTransition:function(){var n=Vd(!1);return n=Wg.bind(null,et,n.queue,!0,!1),Cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=et,p=Cn();if(mt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ut===null)throw Error(a(349));(ft&127)!==0||bg(u,i,o)}p.memoizedState=o;var m={value:o,getSnapshot:i};return p.queue=m,Dg(wg.bind(null,u,m,n),[n]),u.flags|=2048,Jr(9,{destroy:void 0},xg.bind(null,u,m,o,i),null),o},useId:function(){var n=Cn(),i=Ut.identifierPrefix;if(mt){var o=Mi,u=Si;o=(u&~(1<<32-De(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Jl++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=OS++,i="_"+i+"r_"+o.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Jd,useFormState:Lg,useActionState:Lg,useOptimistic:function(n){var i=Cn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=$d.bind(null,et,!0,o),o.dispatch=i,[n,i]},useMemoCache:Fd,useCacheRefresh:function(){return Cn().memoizedState=VS.bind(null,et)},useEffectEvent:function(n){var i=Cn(),o={impl:n};return i.memoizedState=o,function(){if((wt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Xd={readContext:gn,use:Xl,useCallback:Gg,useContext:gn,useEffect:jd,useImperativeHandle:Fg,useInsertionEffect:Og,useLayoutEffect:zg,useMemo:Hg,useReducer:Zl,useRef:Bg,useState:function(){return Zl(Hi)},useDebugValue:qd,useDeferredValue:function(n,i){var o=$t();return Vg(o,Ct.memoizedState,n,i)},useTransition:function(){var n=Zl(Hi)[0],i=$t().memoizedState;return[typeof n=="boolean"?n:go(n),i]},useSyncExternalStore:vg,useId:Kg,useHostTransitionStatus:Jd,useFormState:kg,useActionState:kg,useOptimistic:function(n,i){var o=$t();return Tg(o,Ct,n,i)},useMemoCache:Fd,useCacheRefresh:Yg};Xd.useEffectEvent=Pg;var Qg={readContext:gn,use:Xl,useCallback:Gg,useContext:gn,useEffect:jd,useImperativeHandle:Fg,useInsertionEffect:Og,useLayoutEffect:zg,useMemo:Hg,useReducer:Hd,useRef:Bg,useState:function(){return Hd(Hi)},useDebugValue:qd,useDeferredValue:function(n,i){var o=$t();return Ct===null?Kd(o,n,i):Vg(o,Ct.memoizedState,n,i)},useTransition:function(){var n=Hd(Hi)[0],i=$t().memoizedState;return[typeof n=="boolean"?n:go(n),i]},useSyncExternalStore:vg,useId:Kg,useHostTransitionStatus:Jd,useFormState:Ug,useActionState:Ug,useOptimistic:function(n,i){var o=$t();return Ct!==null?Tg(o,Ct,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:Yg};Qg.useEffectEvent=Pg;function Zd(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:y({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Qd={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=Kn(),p=ya(u);p.payload=i,o!=null&&(p.callback=o),i=va(n,p,u),i!==null&&(zn(i,n,u),ho(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=Kn(),p=ya(u);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=va(n,p,u),i!==null&&(zn(i,n,u),ho(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Kn(),u=ya(o);u.tag=2,i!=null&&(u.callback=i),i=va(n,u,o),i!==null&&(zn(i,n,o),ho(i,n,o))}};function ey(n,i,o,u,p,m,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,M):i.prototype&&i.prototype.isPureReactComponent?!io(o,u)||!io(p,m):!0}function ty(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&Qd.enqueueReplaceState(i,i.state,null)}function hr(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=y({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}function ny(n){Ul(n)}function iy(n){console.error(n)}function ay(n){Ul(n)}function nc(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function ry(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function eh(n,i,o){return o=ya(o),o.tag=3,o.payload={element:null},o.callback=function(){nc(n,i)},o}function sy(n){return n=ya(n),n.tag=3,n}function oy(n,i,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var m=u.value;n.payload=function(){return p(m)},n.callback=function(){ry(i,o,u)}}var M=o.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){ry(i,o,u),typeof p!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function jS(n,i,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Gr(i,o,p,!0),o=Vn.current,o!==null){switch(o.tag){case 31:case 13:return si===null?pc():o.alternate===null&&Kt===0&&(Kt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Vl?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),_h(n,u,p)),!1;case 22:return o.flags|=65536,u===Vl?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),_h(n,u,p)),!1}throw Error(a(435,o.tag))}return _h(n,u,p),pc(),!1}if(mt)return i=Vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,u!==bd&&(n=Error(a(422),{cause:u}),so(ni(n,o)))):(u!==bd&&(i=Error(a(423),{cause:u}),so(ni(i,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,u=ni(u,o),p=eh(n.stateNode,u,p),Ld(n,p),Kt!==4&&(Kt=2)),!1;var m=Error(a(520),{cause:u});if(m=ni(m,o),Eo===null?Eo=[m]:Eo.push(m),Kt!==4&&(Kt=2),i===null)return!0;u=ni(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=eh(o.stateNode,u,n),Ld(o,n),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ta===null||!Ta.has(m))))return o.flags|=65536,p&=-p,o.lanes|=p,p=sy(p),oy(p,n,o,u),Ld(o,p),!1}o=o.return}while(o!==null);return!1}var th=Error(a(461)),en=!1;function yn(n,i,o,u){i.child=n===null?dg(i,null,o,u):ur(i,n.child,o,u)}function ly(n,i,o,u,p){o=o.render;var m=i.ref;if("ref"in u){var M={};for(var E in u)E!=="ref"&&(M[E]=u[E])}else M=u;return sr(i),u=Pd(n,i,o,M,m,p),E=Od(),n!==null&&!en?(zd(n,i,p),Vi(n,i,p)):(mt&&E&&yd(i),i.flags|=1,yn(n,i,u,p),i.child)}function cy(n,i,o,u,p){if(n===null){var m=o.type;return typeof m=="function"&&!pd(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,uy(n,i,m,u,p)):(n=Ol(o.type,null,u,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!ch(n,p)){var M=m.memoizedProps;if(o=o.compare,o=o!==null?o:io,o(M,u)&&n.ref===i.ref)return Vi(n,i,p)}return i.flags|=1,n=Oi(m,u),n.ref=i.ref,n.return=i,i.child=n}function uy(n,i,o,u,p){if(n!==null){var m=n.memoizedProps;if(io(m,u)&&n.ref===i.ref)if(en=!1,i.pendingProps=u=m,ch(n,p))(n.flags&131072)!==0&&(en=!0);else return i.lanes=n.lanes,Vi(n,i,p)}return nh(n,i,o,u,p)}function dy(n,i,o,u){var p=u.children,m=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(u=i.child=n.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~m}else u=0,i.child=null;return hy(n,i,m,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Gl(i,m!==null?m.cachePool:null),m!==null?pg(i,m):Nd(),mg(i);else return u=i.lanes=536870912,hy(n,i,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Gl(i,m.cachePool),pg(i,m),xa(),i.memoizedState=null):(n!==null&&Gl(i,null),Nd(),xa());return yn(n,i,p,o),i.child}function bo(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function hy(n,i,o,u,p){var m=Ed();return m=m===null?null:{parent:Zt._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},n!==null&&Gl(i,null),Nd(),mg(i),n!==null&&Gr(n,i,u,!0),i.childLanes=p,null}function ic(n,i){return i=rc({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function fy(n,i,o){return ur(i,n.child,null,o),n=ic(i,i.pendingProps),n.flags|=2,Wn(i),i.memoizedState=null,n}function qS(n,i,o){var u=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(mt){if(u.mode==="hidden")return n=ic(i,u),i.lanes=536870912,bo(null,n);if(Bd(i),(n=Pt)?(n=_v(n,ri),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ha!==null?{id:Si,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},o=$m(n),o.return=i,i.child=o,mn=i,Pt=null)):n=null,n===null)throw pa(i);return i.lanes=536870912,null}return ic(i,u)}var m=n.memoizedState;if(m!==null){var M=m.dehydrated;if(Bd(i),p)if(i.flags&256)i.flags&=-257,i=fy(n,i,o);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(en||Gr(n,i,o,!1),p=(o&n.childLanes)!==0,en||p){if(u=Ut,u!==null&&(M=Ue(u,o),M!==0&&M!==m.retryLane))throw m.retryLane=M,nr(n,M),zn(u,n,M),th;pc(),i=fy(n,i,o)}else n=m.treeContext,Pt=oi(M.nextSibling),mn=i,mt=!0,fa=null,ri=!1,n!==null&&Qm(i,n),i=ic(i,u),i.flags|=4096;return i}return n=Oi(n.child,{mode:u.mode,children:u.children}),n.ref=i.ref,i.child=n,n.return=i,n}function ac(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function nh(n,i,o,u,p){return sr(i),o=Pd(n,i,o,u,void 0,p),u=Od(),n!==null&&!en?(zd(n,i,p),Vi(n,i,p)):(mt&&u&&yd(i),i.flags|=1,yn(n,i,o,p),i.child)}function py(n,i,o,u,p,m){return sr(i),i.updateQueue=null,o=yg(i,u,o,p),gg(n),u=Od(),n!==null&&!en?(zd(n,i,m),Vi(n,i,m)):(mt&&u&&yd(i),i.flags|=1,yn(n,i,o,m),i.child)}function my(n,i,o,u,p){if(sr(i),i.stateNode===null){var m=Or,M=o.contextType;typeof M=="object"&&M!==null&&(m=gn(M)),m=new o(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Qd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Ad(i),M=o.contextType,m.context=typeof M=="object"&&M!==null?gn(M):Or,m.state=i.memoizedState,M=o.getDerivedStateFromProps,typeof M=="function"&&(Zd(i,o,M,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(M=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),M!==m.state&&Qd.enqueueReplaceState(m,m.state,null),po(i,u,m,p),fo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){m=i.stateNode;var E=i.memoizedProps,F=hr(o,E);m.props=F;var ee=m.context,fe=o.contextType;M=Or,typeof fe=="object"&&fe!==null&&(M=gn(fe));var ge=o.getDerivedStateFromProps;fe=typeof ge=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,fe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||ee!==M)&&ty(i,m,u,M),ga=!1;var ie=i.memoizedState;m.state=ie,po(i,u,m,p),fo(),ee=i.memoizedState,E||ie!==ee||ga?(typeof ge=="function"&&(Zd(i,o,ge,u),ee=i.memoizedState),(F=ga||ey(i,o,F,u,ie,ee,M))?(fe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=ee),m.props=u,m.state=ee,m.context=M,u=F):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Rd(n,i),M=i.memoizedProps,fe=hr(o,M),m.props=fe,ge=i.pendingProps,ie=m.context,ee=o.contextType,F=Or,typeof ee=="object"&&ee!==null&&(F=gn(ee)),E=o.getDerivedStateFromProps,(ee=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M!==ge||ie!==F)&&ty(i,m,u,F),ga=!1,ie=i.memoizedState,m.state=ie,po(i,u,m,p),fo();var le=i.memoizedState;M!==ge||ie!==le||ga||n!==null&&n.dependencies!==null&&Il(n.dependencies)?(typeof E=="function"&&(Zd(i,o,E,u),le=i.memoizedState),(fe=ga||ey(i,o,fe,u,ie,le,F)||n!==null&&n.dependencies!==null&&Il(n.dependencies))?(ee||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,le,F),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,le,F)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||M===n.memoizedProps&&ie===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&ie===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=le),m.props=u,m.state=le,m.context=F,u=fe):(typeof m.componentDidUpdate!="function"||M===n.memoizedProps&&ie===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&ie===n.memoizedState||(i.flags|=1024),u=!1)}return m=u,ac(n,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&u?(i.child=ur(i,n.child,null,p),i.child=ur(i,null,o,p)):yn(n,i,o,p),i.memoizedState=m.state,n=i.child):n=Vi(n,i,p),n}function gy(n,i,o,u){return ar(),i.flags|=256,yn(n,i,o,u),i.child}var ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ah(n){return{baseLanes:n,cachePool:rg()}}function rh(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=qn),n}function yy(n,i,o){var u=i.pendingProps,p=!1,m=(i.flags&128)!==0,M;if((M=m)||(M=n!==null&&n.memoizedState===null?!1:(Jt.current&2)!==0),M&&(p=!0,i.flags&=-129),M=(i.flags&32)!==0,i.flags&=-33,n===null){if(mt){if(p?ba(i):xa(),(n=Pt)?(n=_v(n,ri),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ha!==null?{id:Si,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},o=$m(n),o.return=i,i.child=o,mn=i,Pt=null)):n=null,n===null)throw pa(i);return Gh(n)?i.lanes=32:i.lanes=536870912,null}var E=u.children;return u=u.fallback,p?(xa(),p=i.mode,E=rc({mode:"hidden",children:E},p),u=ir(u,p,o,null),E.return=i,u.return=i,E.sibling=u,i.child=E,u=i.child,u.memoizedState=ah(o),u.childLanes=rh(n,M,o),i.memoizedState=ih,bo(null,u)):(ba(i),sh(i,E))}var F=n.memoizedState;if(F!==null&&(E=F.dehydrated,E!==null)){if(m)i.flags&256?(ba(i),i.flags&=-257,i=oh(n,i,o)):i.memoizedState!==null?(xa(),i.child=n.child,i.flags|=128,i=null):(xa(),E=u.fallback,p=i.mode,u=rc({mode:"visible",children:u.children},p),E=ir(E,p,o,null),E.flags|=2,u.return=i,E.return=i,u.sibling=E,i.child=u,ur(i,n.child,null,o),u=i.child,u.memoizedState=ah(o),u.childLanes=rh(n,M,o),i.memoizedState=ih,i=bo(null,u));else if(ba(i),Gh(E)){if(M=E.nextSibling&&E.nextSibling.dataset,M)var ee=M.dgst;M=ee,u=Error(a(419)),u.stack="",u.digest=M,so({value:u,source:null,stack:null}),i=oh(n,i,o)}else if(en||Gr(n,i,o,!1),M=(o&n.childLanes)!==0,en||M){if(M=Ut,M!==null&&(u=Ue(M,o),u!==0&&u!==F.retryLane))throw F.retryLane=u,nr(n,u),zn(M,n,u),th;Fh(E)||pc(),i=oh(n,i,o)}else Fh(E)?(i.flags|=192,i.child=n.child,i=null):(n=F.treeContext,Pt=oi(E.nextSibling),mn=i,mt=!0,fa=null,ri=!1,n!==null&&Qm(i,n),i=sh(i,u.children),i.flags|=4096);return i}return p?(xa(),E=u.fallback,p=i.mode,F=n.child,ee=F.sibling,u=Oi(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,ee!==null?E=Oi(ee,E):(E=ir(E,p,o,null),E.flags|=2),E.return=i,u.return=i,u.sibling=E,i.child=u,bo(null,u),u=i.child,E=n.child.memoizedState,E===null?E=ah(o):(p=E.cachePool,p!==null?(F=Zt._currentValue,p=p.parent!==F?{parent:F,pool:F}:p):p=rg(),E={baseLanes:E.baseLanes|o,cachePool:p}),u.memoizedState=E,u.childLanes=rh(n,M,o),i.memoizedState=ih,bo(n.child,u)):(ba(i),o=n.child,n=o.sibling,o=Oi(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(M=i.deletions,M===null?(i.deletions=[n],i.flags|=16):M.push(n)),i.child=o,i.memoizedState=null,o)}function sh(n,i){return i=rc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function rc(n,i){return n=Hn(22,n,null,i),n.lanes=0,n}function oh(n,i,o){return ur(i,n.child,null,o),n=sh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function vy(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Sd(n.return,i,o)}function lh(n,i,o,u,p,m){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:m}:(M.isBackwards=i,M.rendering=null,M.renderingStartTime=0,M.last=u,M.tail=o,M.tailMode=p,M.treeForkCount=m)}function by(n,i,o){var u=i.pendingProps,p=u.revealOrder,m=u.tail;u=u.children;var M=Jt.current,E=(M&2)!==0;if(E?(M=M&1|2,i.flags|=128):M&=1,ne(Jt,M),yn(n,i,u,o),u=mt?ro:0,!E&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&vy(n,o,i);else if(n.tag===19)vy(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)n=o.alternate,n!==null&&Kl(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),lh(i,!1,p,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&Kl(n)===null){i.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}lh(i,!0,o,null,m,u);break;case"together":lh(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Vi(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Ma|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Gr(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=Oi(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Oi(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function ch(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Il(n)))}function KS(n,i,o){switch(i.tag){case 3:_e(i,i.stateNode.containerInfo),ma(i,Zt,n.memoizedState.cache),ar();break;case 27:case 5:Re(i);break;case 4:_e(i,i.stateNode.containerInfo);break;case 10:ma(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Bd(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ba(i),i.flags|=128,null):(o&i.child.childLanes)!==0?yy(n,i,o):(ba(i),n=Vi(n,i,o),n!==null?n.sibling:null);ba(i);break;case 19:var p=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Gr(n,i,o,!1),u=(o&i.childLanes)!==0),p){if(u)return by(n,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ne(Jt,Jt.current),u)break;return null;case 22:return i.lanes=0,dy(n,i,o,i.pendingProps);case 24:ma(i,Zt,n.memoizedState.cache)}return Vi(n,i,o)}function xy(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)en=!0;else{if(!ch(n,o)&&(i.flags&128)===0)return en=!1,KS(n,i,o);en=(n.flags&131072)!==0}else en=!1,mt&&(i.flags&1048576)!==0&&Zm(i,ro,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(n=lr(i.elementType),i.type=n,typeof n=="function")pd(n)?(u=hr(n,u),i.tag=1,i=my(null,i,n,u,o)):(i.tag=0,i=nh(null,i,n,u,o));else{if(n!=null){var p=n.$$typeof;if(p===O){i.tag=11,i=ly(null,i,n,u,o);break e}else if(p===P){i.tag=14,i=cy(null,i,n,u,o);break e}}throw i=N(n)||n,Error(a(306,i,""))}}return i;case 0:return nh(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,p=hr(u,i.pendingProps),my(n,i,u,p,o);case 3:e:{if(_e(i,i.stateNode.containerInfo),n===null)throw Error(a(387));u=i.pendingProps;var m=i.memoizedState;p=m.element,Rd(n,i),po(i,u,null,o);var M=i.memoizedState;if(u=M.cache,ma(i,Zt,u),u!==m.cache&&Md(i,[Zt],o,!0),fo(),u=M.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:M.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=gy(n,i,u,o);break e}else if(u!==p){p=ni(Error(a(424)),i),so(p),i=gy(n,i,u,o);break e}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Pt=oi(n.firstChild),mn=i,mt=!0,fa=null,ri=!0,o=dg(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ar(),u===p){i=Vi(n,i,o);break e}yn(n,i,u,o)}i=i.child}return i;case 26:return ac(n,i),n===null?(o=kv(i.type,null,i.pendingProps,null))?i.memoizedState=o:mt||(o=i.type,n=i.pendingProps,u=wc(we.current).createElement(o),u[Ye]=i,u[He]=n,vn(u,o,n),on(u),i.stateNode=u):i.memoizedState=kv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Re(i),n===null&&mt&&(u=i.stateNode=Av(i.type,i.pendingProps,we.current),mn=i,ri=!0,p=Pt,Aa(i.type)?(Hh=p,Pt=oi(u.firstChild)):Pt=p),yn(n,i,i.pendingProps.children,o),ac(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&mt&&((p=u=Pt)&&(u=MM(u,i.type,i.pendingProps,ri),u!==null?(i.stateNode=u,mn=i,Pt=oi(u.firstChild),ri=!1,p=!0):p=!1),p||pa(i)),Re(i),p=i.type,m=i.pendingProps,M=n!==null?n.memoizedProps:null,u=m.children,Oh(p,m)?u=null:M!==null&&Oh(p,M)&&(i.flags|=32),i.memoizedState!==null&&(p=Pd(n,i,zS,null,null,o),Bo._currentValue=p),ac(n,i),yn(n,i,u,o),i.child;case 6:return n===null&&mt&&((n=o=Pt)&&(o=TM(o,i.pendingProps,ri),o!==null?(i.stateNode=o,mn=i,Pt=null,n=!0):n=!1),n||pa(i)),null;case 13:return yy(n,i,o);case 4:return _e(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=ur(i,null,u,o):yn(n,i,u,o),i.child;case 11:return ly(n,i,i.type,i.pendingProps,o);case 7:return yn(n,i,i.pendingProps,o),i.child;case 8:return yn(n,i,i.pendingProps.children,o),i.child;case 12:return yn(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,ma(i,i.type,u.value),yn(n,i,u.children,o),i.child;case 9:return p=i.type._context,u=i.pendingProps.children,sr(i),p=gn(p),u=u(p),i.flags|=1,yn(n,i,u,o),i.child;case 14:return cy(n,i,i.type,i.pendingProps,o);case 15:return uy(n,i,i.type,i.pendingProps,o);case 19:return by(n,i,o);case 31:return qS(n,i,o);case 22:return dy(n,i,o,i.pendingProps);case 24:return sr(i),u=gn(Zt),n===null?(p=Ed(),p===null&&(p=Ut,m=Td(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=o),p=m),i.memoizedState={parent:u,cache:p},Ad(i),ma(i,Zt,p)):((n.lanes&o)!==0&&(Rd(n,i),po(i,null,null,o),fo()),p=n.memoizedState,m=i.memoizedState,p.parent!==u?(p={parent:u,cache:u},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),ma(i,Zt,u)):(u=m.cache,ma(i,Zt,u),u!==p.cache&&Md(i,[Zt],o,!0))),yn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Wi(n){n.flags|=4}function uh(n,i,o,u,p){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(Ky())n.flags|=8192;else throw cr=Vl,Cd}else n.flags&=-16777217}function wy(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Pv(i))if(Ky())n.flags|=8192;else throw cr=Vl,Cd}function sc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Sl():536870912,n.lanes|=i,Qr|=i)}function xo(n,i){if(!mt)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function YS(n,i,o){var u=i.pendingProps;switch(vd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Ot(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Fi(Zt),Ne(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Fr(i)?Wi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xd())),Ot(i),null;case 26:var p=i.type,m=i.memoizedState;return n===null?(Wi(i),m!==null?(Ot(i),wy(i,m)):(Ot(i),uh(i,p,null,u,o))):m?m!==n.memoizedState?(Wi(i),Ot(i),wy(i,m)):(Ot(i),i.flags&=-16777217):(n=n.memoizedProps,n!==u&&Wi(i),Ot(i),uh(i,p,n,u,o)),null;case 27:if(Xe(i),o=we.current,p=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Wi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}n=Y.current,Fr(i)?eg(i):(n=Av(p,u,o),i.stateNode=n,Wi(i))}return Ot(i),null;case 5:if(Xe(i),p=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Wi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}if(m=Y.current,Fr(i))eg(i);else{var M=wc(we.current);switch(m){case 1:m=M.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:m=M.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":m=M.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":m=M.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":m=M.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?M.createElement("select",{is:u.is}):M.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?M.createElement(p,{is:u.is}):M.createElement(p)}}m[Ye]=i,m[He]=u;e:for(M=i.child;M!==null;){if(M.tag===5||M.tag===6)m.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===i)break e;for(;M.sibling===null;){if(M.return===null||M.return===i)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}i.stateNode=m;e:switch(vn(m,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Wi(i)}}return Ot(i),uh(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,o),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Wi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(n=we.current,Fr(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,p=mn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}n[Ye]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||yv(n.nodeValue,o)),n||pa(i,!0)}else n=wc(n).createTextNode(u),n[Ye]=i,i.stateNode=n}return Ot(i),null;case 31:if(o=i.memoizedState,n===null||n.memoizedState!==null){if(u=Fr(i),o!==null){if(n===null){if(!u)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Ye]=i}else ar(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),n=!1}else o=xd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return i.flags&256?(Wn(i),i):(Wn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Ot(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Fr(i),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Ye]=i}else ar(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),p=!1}else p=xd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Wn(i),i):(Wn(i),null)}return Wn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=i.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==p&&(u.flags|=2048)),o!==n&&o&&(i.child.flags|=8192),sc(i,i.updateQueue),Ot(i),null);case 4:return Ne(),n===null&&Nh(i.stateNode.containerInfo),Ot(i),null;case 10:return Fi(i.type),Ot(i),null;case 19:if(W(Jt),u=i.memoizedState,u===null)return Ot(i),null;if(p=(i.flags&128)!==0,m=u.rendering,m===null)if(p)xo(u,!1);else{if(Kt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Kl(n),m!==null){for(i.flags|=128,xo(u,!1),n=m.updateQueue,i.updateQueue=n,sc(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Jm(o,n),o=o.sibling;return ne(Jt,Jt.current&1|2),mt&&zi(i,u.treeForkCount),i.child}n=n.sibling}u.tail!==null&&Ie()>dc&&(i.flags|=128,p=!0,xo(u,!1),i.lanes=4194304)}else{if(!p)if(n=Kl(m),n!==null){if(i.flags|=128,p=!0,n=n.updateQueue,i.updateQueue=n,sc(i,n),xo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!mt)return Ot(i),null}else 2*Ie()-u.renderingStartTime>dc&&o!==536870912&&(i.flags|=128,p=!0,xo(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(n=u.last,n!==null?n.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ie(),n.sibling=null,o=Jt.current,ne(Jt,p?o&1|2:o&1),mt&&zi(i,u.treeForkCount),n):(Ot(i),null);case 22:case 23:return Wn(i),Ud(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),o=i.updateQueue,o!==null&&sc(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&W(or),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Fi(Zt),Ot(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function JS(n,i){switch(vd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Fi(Zt),Ne(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Xe(i),null;case 31:if(i.memoizedState!==null){if(Wn(i),i.alternate===null)throw Error(a(340));ar()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Wn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ar()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return W(Jt),null;case 4:return Ne(),null;case 10:return Fi(i.type),null;case 22:case 23:return Wn(i),Ud(),n!==null&&W(or),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Fi(Zt),null;case 25:return null;default:return null}}function Sy(n,i){switch(vd(i),i.tag){case 3:Fi(Zt),Ne();break;case 26:case 27:case 5:Xe(i);break;case 4:Ne();break;case 31:i.memoizedState!==null&&Wn(i);break;case 13:Wn(i);break;case 19:W(Jt);break;case 10:Fi(i.type);break;case 22:case 23:Wn(i),Ud(),n!==null&&W(or);break;case 24:Fi(Zt)}}function wo(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&n)===n){u=void 0;var m=o.create,M=o.inst;u=m(),M.destroy=u}o=o.next}while(o!==p)}}catch(E){_t(i,i.return,E)}}function wa(n,i,o){try{var u=i.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var m=p.next;u=m;do{if((u.tag&n)===n){var M=u.inst,E=M.destroy;if(E!==void 0){M.destroy=void 0,p=i;var F=o,ee=E;try{ee()}catch(fe){_t(p,F,fe)}}}u=u.next}while(u!==m)}}catch(fe){_t(i,i.return,fe)}}function My(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{fg(i,o)}catch(u){_t(n,n.return,u)}}}function Ty(n,i,o){o.props=hr(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){_t(n,i,u)}}function So(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(p){_t(n,i,p)}}function Ti(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){_t(n,i,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){_t(n,i,p)}else o.current=null}function _y(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){_t(n,n.return,p)}}function dh(n,i,o){try{var u=n.stateNode;yM(u,n.type,o,i),u[He]=i}catch(p){_t(n,n.return,p)}}function Ey(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Aa(n.type)||n.tag===4}function hh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ey(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Aa(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function fh(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Di));else if(u!==4&&(u===27&&Aa(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(fh(n,i,o),n=n.sibling;n!==null;)fh(n,i,o),n=n.sibling}function oc(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&Aa(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(oc(n,i,o),n=n.sibling;n!==null;)oc(n,i,o),n=n.sibling}function Cy(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);vn(i,u,o),i[Ye]=n,i[He]=o}catch(m){_t(n,n.return,m)}}var ji=!1,tn=!1,ph=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,ln=null;function $S(n,i){if(n=n.containerInfo,Dh=Ac,n=Fm(n),od(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var M=0,E=-1,F=-1,ee=0,fe=0,ge=n,ie=null;t:for(;;){for(var le;ge!==o||p!==0&&ge.nodeType!==3||(E=M+p),ge!==m||u!==0&&ge.nodeType!==3||(F=M+u),ge.nodeType===3&&(M+=ge.nodeValue.length),(le=ge.firstChild)!==null;)ie=ge,ge=le;for(;;){if(ge===n)break t;if(ie===o&&++ee===p&&(E=M),ie===m&&++fe===u&&(F=M),(le=ge.nextSibling)!==null)break;ge=ie,ie=ge.parentNode}ge=le}o=E===-1||F===-1?null:{start:E,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ph={focusedElem:n,selectionRange:o},Ac=!1,ln=i;ln!==null;)if(i=ln,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ln=n;else for(;ln!==null;){switch(i=ln,m=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)p=n[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=i,p=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Pe=hr(o.type,p);n=u.getSnapshotBeforeUpdate(Pe,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ke){_t(o,o.return,Ke)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Ih(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ih(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,ln=n;break}ln=i.return}}function Ry(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ki(n,o),u&4&&wo(5,o);break;case 1:if(Ki(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(M){_t(o,o.return,M)}else{var p=hr(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(p,i,n.__reactInternalSnapshotBeforeUpdate)}catch(M){_t(o,o.return,M)}}u&64&&My(o),u&512&&So(o,o.return);break;case 3:if(Ki(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{fg(n,i)}catch(M){_t(o,o.return,M)}}break;case 27:i===null&&u&4&&Cy(o);case 26:case 5:Ki(n,o),i===null&&u&4&&_y(o),u&512&&So(o,o.return);break;case 12:Ki(n,o);break;case 31:Ki(n,o),u&4&&Ny(n,o);break;case 13:Ki(n,o),u&4&&Uy(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=rM.bind(null,o),_M(n,o))));break;case 22:if(u=o.memoizedState!==null||ji,!u){i=i!==null&&i.memoizedState!==null||tn,p=ji;var m=tn;ji=u,(tn=i)&&!m?Yi(n,o,(o.subtreeFlags&8772)!==0):Ki(n,o),ji=p,tn=m}break;case 30:break;default:Ki(n,o)}}function Ly(n){var i=n.alternate;i!==null&&(n.alternate=null,Ly(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&zt(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var It=null,Bn=!1;function qi(n,i,o){for(o=o.child;o!==null;)ky(n,i,o),o=o.sibling}function ky(n,i,o){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(fn,o)}catch{}switch(o.tag){case 26:tn||Ti(o,i),qi(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:tn||Ti(o,i);var u=It,p=Bn;Aa(o.type)&&(It=o.stateNode,Bn=!1),qi(n,i,o),ko(o.stateNode),It=u,Bn=p;break;case 5:tn||Ti(o,i);case 6:if(u=It,p=Bn,It=null,qi(n,i,o),It=u,Bn=p,It!==null)if(Bn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(o.stateNode)}catch(m){_t(o,i,m)}else try{It.removeChild(o.stateNode)}catch(m){_t(o,i,m)}break;case 18:It!==null&&(Bn?(n=It,Mv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),os(n)):Mv(It,o.stateNode));break;case 4:u=It,p=Bn,It=o.stateNode.containerInfo,Bn=!0,qi(n,i,o),It=u,Bn=p;break;case 0:case 11:case 14:case 15:wa(2,o,i),tn||wa(4,o,i),qi(n,i,o);break;case 1:tn||(Ti(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Ty(o,i,u)),qi(n,i,o);break;case 21:qi(n,i,o);break;case 22:tn=(u=tn)||o.memoizedState!==null,qi(n,i,o),tn=u;break;default:qi(n,i,o)}}function Ny(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{os(n)}catch(o){_t(i,i.return,o)}}}function Uy(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{os(n)}catch(o){_t(i,i.return,o)}}function XS(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Ay),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Ay),i;default:throw Error(a(435,n.tag))}}function lc(n,i){var o=XS(n);i.forEach(function(u){if(!o.has(u)){o.add(u);var p=sM.bind(null,n,u);u.then(p,p)}})}function Dn(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],m=n,M=i,E=M;e:for(;E!==null;){switch(E.tag){case 27:if(Aa(E.type)){It=E.stateNode,Bn=!1;break e}break;case 5:It=E.stateNode,Bn=!1;break e;case 3:case 4:It=E.stateNode.containerInfo,Bn=!0;break e}E=E.return}if(It===null)throw Error(a(160));ky(m,M,p),It=null,Bn=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)By(i,n),i=i.sibling}var pi=null;function By(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dn(i,n),Pn(n),u&4&&(wa(3,n,n.return),wo(3,n),wa(5,n,n.return));break;case 1:Dn(i,n),Pn(n),u&512&&(tn||o===null||Ti(o,o.return)),u&64&&ji&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=pi;if(Dn(i,n),Pn(n),u&512&&(tn||o===null||Ti(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":m=p.getElementsByTagName("title")[0],(!m||m[Fn]||m[Ye]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(u),p.head.insertBefore(m,p.querySelector("head > title"))),vn(m,u,o),m[Ye]=n,on(m),u=m;break e;case"link":var M=Bv("link","href",p).get(u+(o.href||""));if(M){for(var E=0;E<M.length;E++)if(m=M[E],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){M.splice(E,1);break t}}m=p.createElement(u),vn(m,u,o),p.head.appendChild(m);break;case"meta":if(M=Bv("meta","content",p).get(u+(o.content||""))){for(E=0;E<M.length;E++)if(m=M[E],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){M.splice(E,1);break t}}m=p.createElement(u),vn(m,u,o),p.head.appendChild(m);break;default:throw Error(a(468,u))}m[Ye]=n,on(m),u=m}n.stateNode=u}else Dv(p,n.type,n.stateNode);else n.stateNode=Uv(p,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?Dv(p,n.type,n.stateNode):Uv(p,u,n.memoizedProps)):u===null&&n.stateNode!==null&&dh(n,n.memoizedProps,o.memoizedProps)}break;case 27:Dn(i,n),Pn(n),u&512&&(tn||o===null||Ti(o,o.return)),o!==null&&u&4&&dh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Dn(i,n),Pn(n),u&512&&(tn||o===null||Ti(o,o.return)),n.flags&32){p=n.stateNode;try{Lr(p,"")}catch(Pe){_t(n,n.return,Pe)}}u&4&&n.stateNode!=null&&(p=n.memoizedProps,dh(n,p,o!==null?o.memoizedProps:p)),u&1024&&(ph=!0);break;case 6:if(Dn(i,n),Pn(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(Pe){_t(n,n.return,Pe)}}break;case 3:if(Tc=null,p=pi,pi=Sc(i.containerInfo),Dn(i,n),pi=p,Pn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{os(i.containerInfo)}catch(Pe){_t(n,n.return,Pe)}ph&&(ph=!1,Dy(n));break;case 4:u=pi,pi=Sc(n.stateNode.containerInfo),Dn(i,n),Pn(n),pi=u;break;case 12:Dn(i,n),Pn(n);break;case 31:Dn(i,n),Pn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,lc(n,u)));break;case 13:Dn(i,n),Pn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(uc=Ie()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,lc(n,u)));break;case 22:p=n.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,ee=ji,fe=tn;if(ji=ee||p,tn=fe||F,Dn(i,n),tn=fe,ji=ee,Pn(n),u&8192)e:for(i=n.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||F||ji||tn||fr(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){F=o=i;try{if(m=F.stateNode,p)M=m.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{E=F.stateNode;var ge=F.memoizedProps.style,ie=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;E.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Pe){_t(F,F.return,Pe)}}}else if(i.tag===6){if(o===null){F=i;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(Pe){_t(F,F.return,Pe)}}}else if(i.tag===18){if(o===null){F=i;try{var le=F.stateNode;p?Tv(le,!0):Tv(F.stateNode,!1)}catch(Pe){_t(F,F.return,Pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,lc(n,o))));break;case 19:Dn(i,n),Pn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,lc(n,u)));break;case 30:break;case 21:break;default:Dn(i,n),Pn(n)}}function Pn(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(Ey(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,m=hh(n);oc(n,m,p);break;case 5:var M=o.stateNode;o.flags&32&&(Lr(M,""),o.flags&=-33);var E=hh(n);oc(n,E,M);break;case 3:case 4:var F=o.stateNode.containerInfo,ee=hh(n);fh(n,ee,F);break;default:throw Error(a(161))}}catch(fe){_t(n,n.return,fe)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Dy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Dy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ki(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ry(n,i.alternate,i),i=i.sibling}function fr(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:wa(4,i,i.return),fr(i);break;case 1:Ti(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Ty(i,i.return,o),fr(i);break;case 27:ko(i.stateNode);case 26:case 5:Ti(i,i.return),fr(i);break;case 22:i.memoizedState===null&&fr(i);break;case 30:fr(i);break;default:fr(i)}n=n.sibling}}function Yi(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,p=n,m=i,M=m.flags;switch(m.tag){case 0:case 11:case 15:Yi(p,m,o),wo(4,m);break;case 1:if(Yi(p,m,o),u=m,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){_t(u,u.return,ee)}if(u=m,p=u.updateQueue,p!==null){var E=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)hg(F[p],E)}catch(ee){_t(u,u.return,ee)}}o&&M&64&&My(m),So(m,m.return);break;case 27:Cy(m);case 26:case 5:Yi(p,m,o),o&&u===null&&M&4&&_y(m),So(m,m.return);break;case 12:Yi(p,m,o);break;case 31:Yi(p,m,o),o&&M&4&&Ny(p,m);break;case 13:Yi(p,m,o),o&&M&4&&Uy(p,m);break;case 22:m.memoizedState===null&&Yi(p,m,o),So(m,m.return);break;case 30:break;default:Yi(p,m,o)}i=i.sibling}}function mh(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&oo(o))}function gh(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&oo(n))}function mi(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Py(n,i,o,u),i=i.sibling}function Py(n,i,o,u){var p=i.flags;switch(i.tag){case 0:case 11:case 15:mi(n,i,o,u),p&2048&&wo(9,i);break;case 1:mi(n,i,o,u);break;case 3:mi(n,i,o,u),p&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&oo(n)));break;case 12:if(p&2048){mi(n,i,o,u),n=i.stateNode;try{var m=i.memoizedProps,M=m.id,E=m.onPostCommit;typeof E=="function"&&E(M,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(F){_t(i,i.return,F)}}else mi(n,i,o,u);break;case 31:mi(n,i,o,u);break;case 13:mi(n,i,o,u);break;case 23:break;case 22:m=i.stateNode,M=i.alternate,i.memoizedState!==null?m._visibility&2?mi(n,i,o,u):Mo(n,i):m._visibility&2?mi(n,i,o,u):(m._visibility|=2,$r(n,i,o,u,(i.subtreeFlags&10256)!==0||!1)),p&2048&&mh(M,i);break;case 24:mi(n,i,o,u),p&2048&&gh(i.alternate,i);break;default:mi(n,i,o,u)}}function $r(n,i,o,u,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=n,M=i,E=o,F=u,ee=M.flags;switch(M.tag){case 0:case 11:case 15:$r(m,M,E,F,p),wo(8,M);break;case 23:break;case 22:var fe=M.stateNode;M.memoizedState!==null?fe._visibility&2?$r(m,M,E,F,p):Mo(m,M):(fe._visibility|=2,$r(m,M,E,F,p)),p&&ee&2048&&mh(M.alternate,M);break;case 24:$r(m,M,E,F,p),p&&ee&2048&&gh(M.alternate,M);break;default:$r(m,M,E,F,p)}i=i.sibling}}function Mo(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,p=u.flags;switch(u.tag){case 22:Mo(o,u),p&2048&&mh(u.alternate,u);break;case 24:Mo(o,u),p&2048&&gh(u.alternate,u);break;default:Mo(o,u)}i=i.sibling}}var To=8192;function Xr(n,i,o){if(n.subtreeFlags&To)for(n=n.child;n!==null;)Oy(n,i,o),n=n.sibling}function Oy(n,i,o){switch(n.tag){case 26:Xr(n,i,o),n.flags&To&&n.memoizedState!==null&&OM(o,pi,n.memoizedState,n.memoizedProps);break;case 5:Xr(n,i,o);break;case 3:case 4:var u=pi;pi=Sc(n.stateNode.containerInfo),Xr(n,i,o),pi=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=To,To=16777216,Xr(n,i,o),To=u):Xr(n,i,o));break;default:Xr(n,i,o)}}function zy(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function _o(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];ln=u,Fy(u,n)}zy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(n),n=n.sibling}function Iy(n){switch(n.tag){case 0:case 11:case 15:_o(n),n.flags&2048&&wa(9,n,n.return);break;case 3:_o(n);break;case 12:_o(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,cc(n)):_o(n);break;default:_o(n)}}function cc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];ln=u,Fy(u,n)}zy(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:wa(8,i,i.return),cc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,cc(i));break;default:cc(i)}n=n.sibling}}function Fy(n,i){for(;ln!==null;){var o=ln;switch(o.tag){case 0:case 11:case 15:wa(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:oo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,ln=u;else e:for(o=n;ln!==null;){u=ln;var p=u.sibling,m=u.return;if(Ly(u),u===o){ln=null;break e}if(p!==null){p.return=m,ln=p;break e}ln=m}}}var ZS={getCacheForType:function(n){var i=gn(Zt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o},cacheSignal:function(){return gn(Zt).controller.signal}},QS=typeof WeakMap=="function"?WeakMap:Map,wt=0,Ut=null,lt=null,ft=0,Tt=0,jn=null,Sa=!1,Zr=!1,yh=!1,Ji=0,Kt=0,Ma=0,pr=0,vh=0,qn=0,Qr=0,Eo=null,On=null,bh=!1,uc=0,Gy=0,dc=1/0,hc=null,Ta=null,an=0,_a=null,es=null,$i=0,xh=0,wh=null,Hy=null,Co=0,Sh=null;function Kn(){return(wt&2)!==0&&ft!==0?ft&-ft:C.T!==null?Ah():Ze()}function Vy(){if(qn===0)if((ft&536870912)===0||mt){var n=nn;nn<<=1,(nn&3932160)===0&&(nn=262144),qn=n}else qn=536870912;return n=Vn.current,n!==null&&(n.flags|=32),qn}function zn(n,i,o){(n===Ut&&(Tt===2||Tt===9)||n.cancelPendingCommit!==null)&&(ts(n,0),Ea(n,ft,qn,!1)),U(n,o),((wt&2)===0||n!==Ut)&&(n===Ut&&((wt&2)===0&&(pr|=o),Kt===4&&Ea(n,ft,qn,!1)),_i(n))}function Wy(n,i,o){if((wt&6)!==0)throw Error(a(327));var u=!o&&(i&127)===0&&(i&n.expiredLanes)===0||ca(n,i),p=u?nM(n,i):Th(n,i,!0),m=u;do{if(p===0){Zr&&!u&&Ea(n,i,0,!1);break}else{if(o=n.current.alternate,m&&!eM(o)){p=Th(n,i,!1),m=!1;continue}if(p===2){if(m=i,n.errorRecoveryDisabledLanes&m)var M=0;else M=n.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){i=M;e:{var E=n;p=Eo;var F=E.current.memoizedState.isDehydrated;if(F&&(ts(E,M).flags|=256),M=Th(E,M,!1),M!==2){if(yh&&!F){E.errorRecoveryDisabledLanes|=m,pr|=m,p=4;break e}m=On,On=p,m!==null&&(On===null?On=m:On.push.apply(On,m))}p=M}if(m=!1,p!==2)continue}}if(p===1){ts(n,0),Ea(n,i,0,!0);break}e:{switch(u=n,m=p,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ea(u,i,qn,!Sa);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=uc+300-Ie(),10<p)){if(Ea(u,i,qn,!Sa),Zn(u,0,!0)!==0)break e;$i=i,u.timeoutHandle=wv(jy.bind(null,u,o,On,hc,bh,i,qn,pr,Qr,Sa,m,"Throttled",-0,0),p);break e}jy(u,o,On,hc,bh,i,qn,pr,Qr,Sa,m,null,-0,0)}}break}while(!0);_i(n)}function jy(n,i,o,u,p,m,M,E,F,ee,fe,ge,ie,le){if(n.timeoutHandle=-1,ge=i.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Di},Oy(i,m,ge);var Pe=(m&62914560)===m?uc-Ie():(m&4194048)===m?Gy-Ie():0;if(Pe=zM(ge,Pe),Pe!==null){$i=m,n.cancelPendingCommit=Pe(Qy.bind(null,n,i,m,o,u,p,M,E,F,fe,ge,null,ie,le)),Ea(n,m,M,!ee);return}}Qy(n,i,m,o,u,p,M,E,F)}function eM(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],m=p.getSnapshot;p=p.value;try{if(!Gn(m(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ea(n,i,o,u){i&=~vh,i&=~pr,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var p=i;0<p;){var m=31-De(p),M=1<<m;u[m]=-1,p&=~M}o!==0&&ae(n,o,i)}function fc(){return(wt&6)===0?(Ao(0),!1):!0}function Mh(){if(lt!==null){if(Tt===0)var n=lt.return;else n=lt,Ii=rr=null,Id(n),jr=null,co=0,n=lt;for(;n!==null;)Sy(n.alternate,n),n=n.return;lt=null}}function ts(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,xM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),$i=0,Mh(),Ut=n,lt=o=Oi(n.current,null),ft=i,Tt=0,jn=null,Sa=!1,Zr=ca(n,i),yh=!1,Qr=qn=vh=pr=Ma=Kt=0,On=Eo=null,bh=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var p=31-De(u),m=1<<p;i|=n[p],u&=~m}return Ji=i,Bl(),o}function qy(n,i){et=null,C.H=vo,i===Wr||i===Hl?(i=lg(),Tt=3):i===Cd?(i=lg(),Tt=4):Tt=i===th?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,jn=i,lt===null&&(Kt=1,nc(n,ni(i,n.current)))}function Ky(){var n=Vn.current;return n===null?!0:(ft&4194048)===ft?si===null:(ft&62914560)===ft||(ft&536870912)!==0?n===si:!1}function Yy(){var n=C.H;return C.H=vo,n===null?vo:n}function Jy(){var n=C.A;return C.A=ZS,n}function pc(){Kt=4,Sa||(ft&4194048)!==ft&&Vn.current!==null||(Zr=!0),(Ma&134217727)===0&&(pr&134217727)===0||Ut===null||Ea(Ut,ft,qn,!1)}function Th(n,i,o){var u=wt;wt|=2;var p=Yy(),m=Jy();(Ut!==n||ft!==i)&&(hc=null,ts(n,i)),i=!1;var M=Kt;e:do try{if(Tt!==0&&lt!==null){var E=lt,F=jn;switch(Tt){case 8:Mh(),M=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(i=!0);var ee=Tt;if(Tt=0,jn=null,ns(n,E,F,ee),o&&Zr){M=0;break e}break;default:ee=Tt,Tt=0,jn=null,ns(n,E,F,ee)}}tM(),M=Kt;break}catch(fe){qy(n,fe)}while(!0);return i&&n.shellSuspendCounter++,Ii=rr=null,wt=u,C.H=p,C.A=m,lt===null&&(Ut=null,ft=0,Bl()),M}function tM(){for(;lt!==null;)$y(lt)}function nM(n,i){var o=wt;wt|=2;var u=Yy(),p=Jy();Ut!==n||ft!==i?(hc=null,dc=Ie()+500,ts(n,i)):Zr=ca(n,i);e:do try{if(Tt!==0&&lt!==null){i=lt;var m=jn;t:switch(Tt){case 1:Tt=0,jn=null,ns(n,i,m,1);break;case 2:case 9:if(sg(m)){Tt=0,jn=null,Xy(i);break}i=function(){Tt!==2&&Tt!==9||Ut!==n||(Tt=7),_i(n)},m.then(i,i);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:sg(m)?(Tt=0,jn=null,Xy(i)):(Tt=0,jn=null,ns(n,i,m,7));break;case 5:var M=null;switch(lt.tag){case 26:M=lt.memoizedState;case 5:case 27:var E=lt;if(M?Pv(M):E.stateNode.complete){Tt=0,jn=null;var F=E.sibling;if(F!==null)lt=F;else{var ee=E.return;ee!==null?(lt=ee,mc(ee)):lt=null}break t}}Tt=0,jn=null,ns(n,i,m,5);break;case 6:Tt=0,jn=null,ns(n,i,m,6);break;case 8:Mh(),Kt=6;break e;default:throw Error(a(462))}}iM();break}catch(fe){qy(n,fe)}while(!0);return Ii=rr=null,C.H=u,C.A=p,wt=o,lt!==null?0:(Ut=null,ft=0,Bl(),Kt)}function iM(){for(;lt!==null&&!ze();)$y(lt)}function $y(n){var i=xy(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,i===null?mc(n):lt=i}function Xy(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=py(o,i,i.pendingProps,i.type,void 0,ft);break;case 11:i=py(o,i,i.pendingProps,i.type.render,i.ref,ft);break;case 5:Id(i);default:Sy(o,i),i=lt=Jm(i,Ji),i=xy(o,i,Ji)}n.memoizedProps=n.pendingProps,i===null?mc(n):lt=i}function ns(n,i,o,u){Ii=rr=null,Id(i),jr=null,co=0;var p=i.return;try{if(jS(n,p,i,o,ft)){Kt=1,nc(n,ni(o,n.current)),lt=null;return}}catch(m){if(p!==null)throw lt=p,m;Kt=1,nc(n,ni(o,n.current)),lt=null;return}i.flags&32768?(mt||u===1?n=!0:Zr||(ft&536870912)!==0?n=!1:(Sa=n=!0,(u===2||u===9||u===3||u===6)&&(u=Vn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Zy(i,n)):mc(i)}function mc(n){var i=n;do{if((i.flags&32768)!==0){Zy(i,Sa);return}n=i.return;var o=YS(i.alternate,i,Ji);if(o!==null){lt=o;return}if(i=i.sibling,i!==null){lt=i;return}lt=i=n}while(i!==null);Kt===0&&(Kt=5)}function Zy(n,i){do{var o=JS(n.alternate,n);if(o!==null){o.flags&=32767,lt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){lt=n;return}lt=n=o}while(n!==null);Kt=6,lt=null}function Qy(n,i,o,u,p,m,M,E,F){n.cancelPendingCommit=null;do gc();while(an!==0);if((wt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=hd,ue(n,o,m,M,E,F),n===Ut&&(lt=Ut=null,ft=0),es=i,_a=n,$i=o,xh=m,wh=p,Hy=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,oM(Fe,function(){return av(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=C.T,C.T=null,p=H.p,H.p=2,M=wt,wt|=4;try{$S(n,i,o)}finally{wt=M,H.p=p,C.T=u}}an=1,ev(),tv(),nv()}}function ev(){if(an===1){an=0;var n=_a,i=es,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=C.T,C.T=null;var u=H.p;H.p=2;var p=wt;wt|=4;try{By(i,n);var m=Ph,M=Fm(n.containerInfo),E=m.focusedElem,F=m.selectionRange;if(M!==E&&E&&E.ownerDocument&&Im(E.ownerDocument.documentElement,E)){if(F!==null&&od(E)){var ee=F.start,fe=F.end;if(fe===void 0&&(fe=ee),"selectionStart"in E)E.selectionStart=ee,E.selectionEnd=Math.min(fe,E.value.length);else{var ge=E.ownerDocument||document,ie=ge&&ge.defaultView||window;if(ie.getSelection){var le=ie.getSelection(),Pe=E.textContent.length,Ke=Math.min(F.start,Pe),Rt=F.end===void 0?Ke:Math.min(F.end,Pe);!le.extend&&Ke>Rt&&(M=Rt,Rt=Ke,Ke=M);var $=zm(E,Ke),j=zm(E,Rt);if($&&j&&(le.rangeCount!==1||le.anchorNode!==$.node||le.anchorOffset!==$.offset||le.focusNode!==j.node||le.focusOffset!==j.offset)){var Q=ge.createRange();Q.setStart($.node,$.offset),le.removeAllRanges(),Ke>Rt?(le.addRange(Q),le.extend(j.node,j.offset)):(Q.setEnd(j.node,j.offset),le.addRange(Q))}}}}for(ge=[],le=E;le=le.parentNode;)le.nodeType===1&&ge.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ge.length;E++){var pe=ge[E];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Ac=!!Dh,Ph=Dh=null}finally{wt=p,H.p=u,C.T=o}}n.current=i,an=2}}function tv(){if(an===2){an=0;var n=_a,i=es,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=C.T,C.T=null;var u=H.p;H.p=2;var p=wt;wt|=4;try{Ry(n,i.alternate,i)}finally{wt=p,H.p=u,C.T=o}}an=3}}function nv(){if(an===4||an===3){an=0,nt();var n=_a,i=es,o=$i,u=Hy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?an=5:(an=0,es=_a=null,iv(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(Ta=null),$e(o),i=i.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(fn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=C.T,p=H.p,H.p=2,C.T=null;try{for(var m=n.onRecoverableError,M=0;M<u.length;M++){var E=u[M];m(E.value,{componentStack:E.stack})}}finally{C.T=i,H.p=p}}($i&3)!==0&&gc(),_i(n),p=n.pendingLanes,(o&261930)!==0&&(p&42)!==0?n===Sh?Co++:(Co=0,Sh=n):Co=0,Ao(0)}}function iv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,oo(i)))}function gc(){return ev(),tv(),nv(),av()}function av(){if(an!==5)return!1;var n=_a,i=xh;xh=0;var o=$e($i),u=C.T,p=H.p;try{H.p=32>o?32:o,C.T=null,o=wh,wh=null;var m=_a,M=$i;if(an=0,es=_a=null,$i=0,(wt&6)!==0)throw Error(a(331));var E=wt;if(wt|=4,Iy(m.current),Py(m,m.current,M,o),wt=E,Ao(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(fn,m)}catch{}return!0}finally{H.p=p,C.T=u,iv(n,i)}}function rv(n,i,o){i=ni(o,i),i=eh(n.stateNode,i,2),n=va(n,i,2),n!==null&&(U(n,2),_i(n))}function _t(n,i,o){if(n.tag===3)rv(n,n,o);else for(;i!==null;){if(i.tag===3){rv(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ta===null||!Ta.has(u))){n=ni(o,n),o=sy(2),u=va(i,o,2),u!==null&&(oy(o,u,i,n),U(u,2),_i(u));break}}i=i.return}}function _h(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new QS;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(o)||(yh=!0,p.add(o),n=aM.bind(null,n,i,o),i.then(n,n))}function aM(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ut===n&&(ft&o)===o&&(Kt===4||Kt===3&&(ft&62914560)===ft&&300>Ie()-uc?(wt&2)===0&&ts(n,0):vh|=o,Qr===ft&&(Qr=0)),_i(n)}function sv(n,i){i===0&&(i=Sl()),n=nr(n,i),n!==null&&(U(n,i),_i(n))}function rM(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),sv(n,o)}function sM(n,i){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),sv(n,o)}function oM(n,i){return ce(n,i)}var yc=null,is=null,Eh=!1,vc=!1,Ch=!1,Ca=0;function _i(n){n!==is&&n.next===null&&(is===null?yc=is=n:is=is.next=n),vc=!0,Eh||(Eh=!0,cM())}function Ao(n,i){if(!Ch&&vc){Ch=!0;do for(var o=!1,u=yc;u!==null;){if(n!==0){var p=u.pendingLanes;if(p===0)var m=0;else{var M=u.suspendedLanes,E=u.pingedLanes;m=(1<<31-De(42|n)+1)-1,m&=p&~(M&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,uv(u,m))}else m=ft,m=Zn(u,u===Ut?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||ca(u,m)||(o=!0,uv(u,m));u=u.next}while(o);Ch=!1}}function lM(){ov()}function ov(){vc=Eh=!1;var n=0;Ca!==0&&bM()&&(n=Ca);for(var i=Ie(),o=null,u=yc;u!==null;){var p=u.next,m=lv(u,i);m===0?(u.next=null,o===null?yc=p:o.next=p,p===null&&(is=o)):(o=u,(n!==0||(m&3)!==0)&&(vc=!0)),u=p}an!==0&&an!==5||Ao(n),Ca!==0&&(Ca=0)}function lv(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,p=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var M=31-De(m),E=1<<M,F=p[M];F===-1?((E&o)===0||(E&u)!==0)&&(p[M]=wl(E,i)):F<=i&&(n.expiredLanes|=E),m&=~E}if(i=Ut,o=ft,o=Zn(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(Tt===2||Tt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ee(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ca(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&Ee(u),$e(o)){case 2:case 8:o=Ae;break;case 32:o=Fe;break;case 268435456:o=We;break;default:o=Fe}return u=cv.bind(null,n),o=ce(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&Ee(u),n.callbackPriority=2,n.callbackNode=null,2}function cv(n,i){if(an!==0&&an!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(gc()&&n.callbackNode!==o)return null;var u=ft;return u=Zn(n,n===Ut?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Wy(n,u,i),lv(n,Ie()),n.callbackNode!=null&&n.callbackNode===o?cv.bind(null,n):null)}function uv(n,i){if(gc())return null;Wy(n,i,!0)}function cM(){wM(function(){(wt&6)!==0?ce(Te,lM):ov()})}function Ah(){if(Ca===0){var n=Hr;n===0&&(n=dt,dt<<=1,(dt&261888)===0&&(dt=256)),Ca=n}return Ca}function dv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:El(""+n)}function hv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function uM(n,i,o,u,p){if(i==="submit"&&o&&o.stateNode===p){var m=dv((p[He]||null).action),M=u.submitter;M&&(i=(i=M[He]||null)?dv(i.formAction):M.getAttribute("formAction"),i!==null&&(m=i,M=null));var E=new Ll("action","action",null,u,p);n.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ca!==0){var F=M?hv(p,M):new FormData(p);Yd(o,{pending:!0,data:F,method:p.method,action:m},null,F)}}else typeof m=="function"&&(E.preventDefault(),F=M?hv(p,M):new FormData(p),Yd(o,{pending:!0,data:F,method:p.method,action:m},m,F))},currentTarget:p}]})}}for(var Rh=0;Rh<dd.length;Rh++){var Lh=dd[Rh],dM=Lh.toLowerCase(),hM=Lh[0].toUpperCase()+Lh.slice(1);fi(dM,"on"+hM)}fi(Vm,"onAnimationEnd"),fi(Wm,"onAnimationIteration"),fi(jm,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(AS,"onTransitionRun"),fi(RS,"onTransitionStart"),fi(LS,"onTransitionCancel"),fi(qm,"onTransitionEnd"),Ar("onMouseEnter",["mouseout","mouseover"]),Ar("onMouseLeave",["mouseout","mouseover"]),Ar("onPointerEnter",["pointerout","pointerover"]),Ar("onPointerLeave",["pointerout","pointerover"]),Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Za("onBeforeInput",["compositionend","keypress","textInput","paste"]),Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function fv(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],p=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var M=u.length-1;0<=M;M--){var E=u[M],F=E.instance,ee=E.currentTarget;if(E=E.listener,F!==m&&p.isPropagationStopped())break e;m=E,p.currentTarget=ee;try{m(p)}catch(fe){Ul(fe)}p.currentTarget=null,m=F}else for(M=0;M<u.length;M++){if(E=u[M],F=E.instance,ee=E.currentTarget,E=E.listener,F!==m&&p.isPropagationStopped())break e;m=E,p.currentTarget=ee;try{m(p)}catch(fe){Ul(fe)}p.currentTarget=null,m=F}}}}function ct(n,i){var o=i[Nn];o===void 0&&(o=i[Nn]=new Set);var u=n+"__bubble";o.has(u)||(pv(i,n,2,!1),o.add(u))}function kh(n,i,o){var u=0;i&&(u|=4),pv(o,n,u,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Nh(n){if(!n[bc]){n[bc]=!0,om.forEach(function(o){o!=="selectionchange"&&(fM.has(o)||kh(o,!1,n),kh(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[bc]||(i[bc]=!0,kh("selectionchange",!1,i))}}function pv(n,i,o,u){switch(Vv(i)){case 2:var p=GM;break;case 8:p=HM;break;default:p=Kh}o=p.bind(null,i,o,n),p=void 0,!Zu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?n.addEventListener(i,o,{capture:!0,passive:p}):n.addEventListener(i,o,!0):p!==void 0?n.addEventListener(i,o,{passive:p}):n.addEventListener(i,o,!1)}function Uh(n,i,o,u,p){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var M=u.tag;if(M===3||M===4){var E=u.stateNode.containerInfo;if(E===p)break;if(M===4)for(M=u.return;M!==null;){var F=M.tag;if((F===3||F===4)&&M.stateNode.containerInfo===p)return;M=M.return}for(;E!==null;){if(M=wi(E),M===null)return;if(F=M.tag,F===5||F===6||F===26||F===27){u=m=M;continue e}E=E.parentNode}}u=u.return}bm(function(){var ee=m,fe=$u(o),ge=[];e:{var ie=Km.get(n);if(ie!==void 0){var le=Ll,Pe=n;switch(n){case"keypress":if(Al(o)===0)break e;case"keydown":case"keyup":le=sS;break;case"focusin":Pe="focus",le=nd;break;case"focusout":Pe="blur",le=nd;break;case"beforeblur":case"afterblur":le=nd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=cS;break;case Vm:case Wm:case jm:le=Xw;break;case qm:le=dS;break;case"scroll":case"scrollend":le=qw;break;case"wheel":le=fS;break;case"copy":case"cut":case"paste":le=Qw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Tm;break;case"toggle":case"beforetoggle":le=mS}var Ke=(i&4)!==0,Rt=!Ke&&(n==="scroll"||n==="scrollend"),$=Ke?ie!==null?ie+"Capture":null:ie;Ke=[];for(var j=ee,Q;j!==null;){var pe=j;if(Q=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||Q===null||$===null||(pe=$s(j,$),pe!=null&&Ke.push(Lo(j,pe,Q))),Rt)break;j=j.return}0<Ke.length&&(ie=new le(ie,Pe,null,o,fe),ge.push({event:ie,listeners:Ke}))}}if((i&7)===0){e:{if(ie=n==="mouseover"||n==="pointerover",le=n==="mouseout"||n==="pointerout",ie&&o!==Ju&&(Pe=o.relatedTarget||o.fromElement)&&(wi(Pe)||Pe[ht]))break e;if((le||ie)&&(ie=fe.window===fe?fe:(ie=fe.ownerDocument)?ie.defaultView||ie.parentWindow:window,le?(Pe=o.relatedTarget||o.toElement,le=ee,Pe=Pe?wi(Pe):null,Pe!==null&&(Rt=l(Pe),Ke=Pe.tag,Pe!==Rt||Ke!==5&&Ke!==27&&Ke!==6)&&(Pe=null)):(le=null,Pe=ee),le!==Pe)){if(Ke=Sm,pe="onMouseLeave",$="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Ke=Tm,pe="onPointerLeave",$="onPointerEnter",j="pointer"),Rt=le==null?ie:En(le),Q=Pe==null?ie:En(Pe),ie=new Ke(pe,j+"leave",le,o,fe),ie.target=Rt,ie.relatedTarget=Q,pe=null,wi(fe)===ee&&(Ke=new Ke($,j+"enter",Pe,o,fe),Ke.target=Q,Ke.relatedTarget=Rt,pe=Ke),Rt=pe,le&&Pe)t:{for(Ke=pM,$=le,j=Pe,Q=0,pe=$;pe;pe=Ke(pe))Q++;pe=0;for(var Ve=j;Ve;Ve=Ke(Ve))pe++;for(;0<Q-pe;)$=Ke($),Q--;for(;0<pe-Q;)j=Ke(j),pe--;for(;Q--;){if($===j||j!==null&&$===j.alternate){Ke=$;break t}$=Ke($),j=Ke(j)}Ke=null}else Ke=null;le!==null&&mv(ge,ie,le,Ke,!1),Pe!==null&&Rt!==null&&mv(ge,Rt,Pe,Ke,!0)}}e:{if(ie=ee?En(ee):window,le=ie.nodeName&&ie.nodeName.toLowerCase(),le==="select"||le==="input"&&ie.type==="file")var yt=Nm;else if(Lm(ie))if(Um)yt=_S;else{yt=MS;var Ge=SS}else le=ie.nodeName,!le||le.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ee&&Yu(ee.elementType)&&(yt=Nm):yt=TS;if(yt&&(yt=yt(n,ee))){km(ge,yt,o,fe);break e}Ge&&Ge(n,ie,ee),n==="focusout"&&ee&&ie.type==="number"&&ee.memoizedProps.value!=null&&Ku(ie,"number",ie.value)}switch(Ge=ee?En(ee):window,n){case"focusin":(Lm(Ge)||Ge.contentEditable==="true")&&(Br=Ge,ld=ee,ao=null);break;case"focusout":ao=ld=Br=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Gm(ge,o,fe);break;case"selectionchange":if(CS)break;case"keydown":case"keyup":Gm(ge,o,fe)}var tt;if(ad)e:{switch(n){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Ur?Am(n,o)&&(pt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(pt="onCompositionStart");pt&&(_m&&o.locale!=="ko"&&(Ur||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ur&&(tt=xm()):(da=fe,Qu="value"in da?da.value:da.textContent,Ur=!0)),Ge=xc(ee,pt),0<Ge.length&&(pt=new Mm(pt,n,null,o,fe),ge.push({event:pt,listeners:Ge}),tt?pt.data=tt:(tt=Rm(o),tt!==null&&(pt.data=tt)))),(tt=yS?vS(n,o):bS(n,o))&&(pt=xc(ee,"onBeforeInput"),0<pt.length&&(Ge=new Mm("onBeforeInput","beforeinput",null,o,fe),ge.push({event:Ge,listeners:pt}),Ge.data=tt)),uM(ge,n,ee,o,fe)}fv(ge,i)})}function Lo(n,i,o){return{instance:n,listener:i,currentTarget:o}}function xc(n,i){for(var o=i+"Capture",u=[];n!==null;){var p=n,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=$s(n,o),p!=null&&u.unshift(Lo(n,p,m)),p=$s(n,i),p!=null&&u.push(Lo(n,p,m))),n.tag===3)return u;n=n.return}return[]}function pM(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function mv(n,i,o,u,p){for(var m=i._reactName,M=[];o!==null&&o!==u;){var E=o,F=E.alternate,ee=E.stateNode;if(E=E.tag,F!==null&&F===u)break;E!==5&&E!==26&&E!==27||ee===null||(F=ee,p?(ee=$s(o,m),ee!=null&&M.unshift(Lo(o,ee,F))):p||(ee=$s(o,m),ee!=null&&M.push(Lo(o,ee,F)))),o=o.return}M.length!==0&&n.push({event:i,listeners:M})}var mM=/\r\n?/g,gM=/\u0000|\uFFFD/g;function gv(n){return(typeof n=="string"?n:""+n).replace(mM,`
`).replace(gM,"")}function yv(n,i){return i=gv(i),gv(n)===i}function At(n,i,o,u,p,m){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Lr(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Lr(n,""+u);break;case"className":Tl(n,"class",u);break;case"tabIndex":Tl(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(n,o,u);break;case"style":ym(n,u,m);break;case"data":if(i!=="object"){Tl(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=El(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&At(n,i,"name",p.name,p,null),At(n,i,"formEncType",p.formEncType,p,null),At(n,i,"formMethod",p.formMethod,p,null),At(n,i,"formTarget",p.formTarget,p,null)):(At(n,i,"encType",p.encType,p,null),At(n,i,"method",p.method,p,null),At(n,i,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=El(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Di);break;case"onScroll":u!=null&&ct("scroll",n);break;case"onScrollEnd":u!=null&&ct("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=El(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":ct("beforetoggle",n),ct("toggle",n),Ml(n,"popover",u);break;case"xlinkActuate":Bi(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bi(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bi(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bi(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bi(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bi(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bi(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ml(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ww.get(o)||o,Ml(n,o,u))}}function Bh(n,i,o,u,p,m){switch(o){case"style":ym(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Lr(n,u):(typeof u=="number"||typeof u=="bigint")&&Lr(n,""+u);break;case"onScroll":u!=null&&ct("scroll",n);break;case"onScrollEnd":u!=null&&ct("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lm.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),m=n[He]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(i,m,p),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,p);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ml(n,o,u)}}}function vn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",n),ct("load",n);var u=!1,p=!1,m;for(m in o)if(o.hasOwnProperty(m)){var M=o[m];if(M!=null)switch(m){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:At(n,i,m,M,o,null)}}p&&At(n,i,"srcSet",o.srcSet,o,null),u&&At(n,i,"src",o.src,o,null);return;case"input":ct("invalid",n);var E=m=M=p=null,F=null,ee=null;for(u in o)if(o.hasOwnProperty(u)){var fe=o[u];if(fe!=null)switch(u){case"name":p=fe;break;case"type":M=fe;break;case"checked":F=fe;break;case"defaultChecked":ee=fe;break;case"value":m=fe;break;case"defaultValue":E=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(a(137,i));break;default:At(n,i,u,fe,o,null)}}fm(n,m,E,F,ee,M,p,!1);return;case"select":ct("invalid",n),u=M=m=null;for(p in o)if(o.hasOwnProperty(p)&&(E=o[p],E!=null))switch(p){case"value":m=E;break;case"defaultValue":M=E;break;case"multiple":u=E;default:At(n,i,p,E,o,null)}i=m,o=M,n.multiple=!!u,i!=null?Rr(n,!!u,i,!1):o!=null&&Rr(n,!!u,o,!0);return;case"textarea":ct("invalid",n),m=p=u=null;for(M in o)if(o.hasOwnProperty(M)&&(E=o[M],E!=null))switch(M){case"value":u=E;break;case"defaultValue":p=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:At(n,i,M,E,o,null)}mm(n,u,p,m);return;case"option":for(F in o)o.hasOwnProperty(F)&&(u=o[F],u!=null)&&(F==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":At(n,i,F,u,o,null));return;case"dialog":ct("beforetoggle",n),ct("toggle",n),ct("cancel",n),ct("close",n);break;case"iframe":case"object":ct("load",n);break;case"video":case"audio":for(u=0;u<Ro.length;u++)ct(Ro[u],n);break;case"image":ct("error",n),ct("load",n);break;case"details":ct("toggle",n);break;case"embed":case"source":case"link":ct("error",n),ct("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(u=o[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:At(n,i,ee,u,o,null)}return;default:if(Yu(i)){for(fe in o)o.hasOwnProperty(fe)&&(u=o[fe],u!==void 0&&Bh(n,i,fe,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&At(n,i,E,u,o,null))}function yM(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,M=null,E=null,F=null,ee=null,fe=null;for(le in o){var ge=o[le];if(o.hasOwnProperty(le)&&ge!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":F=ge;default:u.hasOwnProperty(le)||At(n,i,le,null,u,ge)}}for(var ie in u){var le=u[ie];if(ge=o[ie],u.hasOwnProperty(ie)&&(le!=null||ge!=null))switch(ie){case"type":m=le;break;case"name":p=le;break;case"checked":ee=le;break;case"defaultChecked":fe=le;break;case"value":M=le;break;case"defaultValue":E=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(a(137,i));break;default:le!==ge&&At(n,i,ie,le,u,ge)}}qu(n,M,E,F,ee,fe,m,p);return;case"select":le=M=E=ie=null;for(m in o)if(F=o[m],o.hasOwnProperty(m)&&F!=null)switch(m){case"value":break;case"multiple":le=F;default:u.hasOwnProperty(m)||At(n,i,m,null,u,F)}for(p in u)if(m=u[p],F=o[p],u.hasOwnProperty(p)&&(m!=null||F!=null))switch(p){case"value":ie=m;break;case"defaultValue":E=m;break;case"multiple":M=m;default:m!==F&&At(n,i,p,m,u,F)}i=E,o=M,u=le,ie!=null?Rr(n,!!o,ie,!1):!!u!=!!o&&(i!=null?Rr(n,!!o,i,!0):Rr(n,!!o,o?[]:"",!1));return;case"textarea":le=ie=null;for(E in o)if(p=o[E],o.hasOwnProperty(E)&&p!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:At(n,i,E,null,u,p)}for(M in u)if(p=u[M],m=o[M],u.hasOwnProperty(M)&&(p!=null||m!=null))switch(M){case"value":ie=p;break;case"defaultValue":le=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==m&&At(n,i,M,p,u,m)}pm(n,ie,le);return;case"option":for(var Pe in o)ie=o[Pe],o.hasOwnProperty(Pe)&&ie!=null&&!u.hasOwnProperty(Pe)&&(Pe==="selected"?n.selected=!1:At(n,i,Pe,null,u,ie));for(F in u)ie=u[F],le=o[F],u.hasOwnProperty(F)&&ie!==le&&(ie!=null||le!=null)&&(F==="selected"?n.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":At(n,i,F,ie,u,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in o)ie=o[Ke],o.hasOwnProperty(Ke)&&ie!=null&&!u.hasOwnProperty(Ke)&&At(n,i,Ke,null,u,ie);for(ee in u)if(ie=u[ee],le=o[ee],u.hasOwnProperty(ee)&&ie!==le&&(ie!=null||le!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,i));break;default:At(n,i,ee,ie,u,le)}return;default:if(Yu(i)){for(var Rt in o)ie=o[Rt],o.hasOwnProperty(Rt)&&ie!==void 0&&!u.hasOwnProperty(Rt)&&Bh(n,i,Rt,void 0,u,ie);for(fe in u)ie=u[fe],le=o[fe],!u.hasOwnProperty(fe)||ie===le||ie===void 0&&le===void 0||Bh(n,i,fe,ie,u,le);return}}for(var $ in o)ie=o[$],o.hasOwnProperty($)&&ie!=null&&!u.hasOwnProperty($)&&At(n,i,$,null,u,ie);for(ge in u)ie=u[ge],le=o[ge],!u.hasOwnProperty(ge)||ie===le||ie==null&&le==null||At(n,i,ge,ie,u,le)}function vv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vM(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],m=p.transferSize,M=p.initiatorType,E=p.duration;if(m&&E&&vv(M)){for(M=0,E=p.responseEnd,u+=1;u<o.length;u++){var F=o[u],ee=F.startTime;if(ee>E)break;var fe=F.transferSize,ge=F.initiatorType;fe&&vv(ge)&&(F=F.responseEnd,M+=fe*(F<E?1:(E-ee)/(F-ee)))}if(--u,i+=8*(m+M)/(p.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Dh=null,Ph=null;function wc(n){return n.nodeType===9?n:n.ownerDocument}function bv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Oh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zh=null;function bM(){var n=window.event;return n&&n.type==="popstate"?n===zh?!1:(zh=n,!0):(zh=null,!1)}var wv=typeof setTimeout=="function"?setTimeout:void 0,xM=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,wM=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(n){return Sv.resolve(null).then(n).catch(SM)}:wv;function SM(n){setTimeout(function(){throw n})}function Aa(n){return n==="head"}function Mv(n,i){var o=i,u=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(p),os(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ko(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,ko(o);for(var m=o.firstChild;m;){var M=m.nextSibling,E=m.nodeName;m[Fn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=M}}else o==="body"&&ko(n.ownerDocument.body);o=p}while(o);os(i)}function Tv(n,i){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Ih(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ih(o),zt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function MM(n,i,o,u){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Fn])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=oi(n.nextSibling),n===null)break}return null}function TM(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=oi(n.nextSibling),n===null))return null;return n}function _v(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=oi(n.nextSibling),n===null))return null;return n}function Fh(n){return n.data==="$?"||n.data==="$~"}function Gh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function _M(n,i){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function oi(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Hh=null;function Ev(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(i===0)return oi(n.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}n=n.nextSibling}return null}function Cv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return n;i--}else o!=="/$"&&o!=="/&"||i++}n=n.previousSibling}return null}function Av(n,i,o){switch(i=wc(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function ko(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);zt(n)}var li=new Map,Rv=new Set;function Sc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Xi=H.d;H.d={f:EM,r:CM,D:AM,C:RM,L:LM,m:kM,X:UM,S:NM,M:BM};function EM(){var n=Xi.f(),i=fc();return n||i}function CM(n){var i=Yt(n);i!==null&&i.tag===5&&i.type==="form"?qg(i):Xi.r(n)}var as=typeof document>"u"?null:document;function Lv(n,i,o){var u=as;if(u&&typeof i=="string"&&i){var p=ei(i);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Rv.has(p)||(Rv.add(p),n={rel:n,crossOrigin:o,href:i},u.querySelector(p)===null&&(i=u.createElement("link"),vn(i,"link",n),on(i),u.head.appendChild(i)))}}function AM(n){Xi.D(n),Lv("dns-prefetch",n,null)}function RM(n,i){Xi.C(n,i),Lv("preconnect",n,i)}function LM(n,i,o){Xi.L(n,i,o);var u=as;if(u&&n&&i){var p='link[rel="preload"][as="'+ei(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+ei(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+ei(o.imageSizes)+'"]')):p+='[href="'+ei(n)+'"]';var m=p;switch(i){case"style":m=rs(n);break;case"script":m=ss(n)}li.has(m)||(n=y({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),li.set(m,n),u.querySelector(p)!==null||i==="style"&&u.querySelector(No(m))||i==="script"&&u.querySelector(Uo(m))||(i=u.createElement("link"),vn(i,"link",n),on(i),u.head.appendChild(i)))}}function kM(n,i){Xi.m(n,i);var o=as;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+ei(u)+'"][href="'+ei(n)+'"]',m=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ss(n)}if(!li.has(m)&&(n=y({rel:"modulepreload",href:n},i),li.set(m,n),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Uo(m)))return}u=o.createElement("link"),vn(u,"link",n),on(u),o.head.appendChild(u)}}}function NM(n,i,o){Xi.S(n,i,o);var u=as;if(u&&n){var p=ua(u).hoistableStyles,m=rs(n);i=i||"default";var M=p.get(m);if(!M){var E={loading:0,preload:null};if(M=u.querySelector(No(m)))E.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},o),(o=li.get(m))&&Vh(n,o);var F=M=u.createElement("link");on(F),vn(F,"link",n),F._p=new Promise(function(ee,fe){F.onload=ee,F.onerror=fe}),F.addEventListener("load",function(){E.loading|=1}),F.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mc(M,i,u)}M={type:"stylesheet",instance:M,count:1,state:E},p.set(m,M)}}}function UM(n,i){Xi.X(n,i);var o=as;if(o&&n){var u=ua(o).hoistableScripts,p=ss(n),m=u.get(p);m||(m=o.querySelector(Uo(p)),m||(n=y({src:n,async:!0},i),(i=li.get(p))&&Wh(n,i),m=o.createElement("script"),on(m),vn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(p,m))}}function BM(n,i){Xi.M(n,i);var o=as;if(o&&n){var u=ua(o).hoistableScripts,p=ss(n),m=u.get(p);m||(m=o.querySelector(Uo(p)),m||(n=y({src:n,async:!0,type:"module"},i),(i=li.get(p))&&Wh(n,i),m=o.createElement("script"),on(m),vn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(p,m))}}function kv(n,i,o,u){var p=(p=we.current)?Sc(p):null;if(!p)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=rs(o.href),o=ua(p).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=rs(o.href);var m=ua(p).hoistableStyles,M=m.get(n);if(M||(p=p.ownerDocument||p,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,M),(m=p.querySelector(No(n)))&&!m._p&&(M.instance=m,M.state.loading=5),li.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},li.set(n,o),m||DM(p,n,o,M.state))),i&&u===null)throw Error(a(528,""));return M}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ss(o),o=ua(p).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function rs(n){return'href="'+ei(n)+'"'}function No(n){return'link[rel="stylesheet"]['+n+"]"}function Nv(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function DM(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),vn(i,"link",o),on(i),n.head.appendChild(i))}function ss(n){return'[src="'+ei(n)+'"]'}function Uo(n){return"script[async]"+n}function Uv(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+ei(o.href)+'"]');if(u)return i.instance=u,on(u),u;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),on(u),vn(u,"style",p),Mc(u,o.precedence,n),i.instance=u;case"stylesheet":p=rs(o.href);var m=n.querySelector(No(p));if(m)return i.state.loading|=4,i.instance=m,on(m),m;u=Nv(o),(p=li.get(p))&&Vh(u,p),m=(n.ownerDocument||n).createElement("link"),on(m);var M=m;return M._p=new Promise(function(E,F){M.onload=E,M.onerror=F}),vn(m,"link",u),i.state.loading|=4,Mc(m,o.precedence,n),i.instance=m;case"script":return m=ss(o.src),(p=n.querySelector(Uo(m)))?(i.instance=p,on(p),p):(u=o,(p=li.get(m))&&(u=y({},o),Wh(u,p)),n=n.ownerDocument||n,p=n.createElement("script"),on(p),vn(p,"link",u),n.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Mc(u,o.precedence,n));return i.instance}function Mc(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,m=p,M=0;M<u.length;M++){var E=u[M];if(E.dataset.precedence===i)m=E;else if(m!==p)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function Vh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Wh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Tc=null;function Bv(n,i,o){if(Tc===null){var u=new Map,p=Tc=new Map;p.set(o,u)}else p=Tc,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var m=o[p];if(!(m[Fn]||m[Ye]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var M=m.getAttribute(i)||"";M=n+M;var E=u.get(M);E?E.push(m):u.set(M,[m])}}return u}function Dv(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function PM(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Pv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function OM(n,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=rs(u.href),m=i.querySelector(No(p));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=_c.bind(n),i.then(n,n)),o.state.loading|=4,o.instance=m,on(m);return}m=i.ownerDocument||i,u=Nv(u),(p=li.get(p))&&Vh(u,p),m=m.createElement("link"),on(m);var M=m;M._p=new Promise(function(E,F){M.onload=E,M.onerror=F}),vn(m,"link",u),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=_c.bind(n),i.addEventListener("load",o),i.addEventListener("error",o))}}var jh=0;function zM(n,i){return n.stylesheets&&n.count===0&&Cc(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Cc(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+i);0<n.imgBytes&&jh===0&&(jh=62500*vM());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Cc(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>jh?50:800)+i);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ec=null;function Cc(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ec=new Map,i.forEach(IM,n),Ec=null,_c.call(n))}function IM(n,i){if(!(i.state.loading&4)){var o=Ec.get(n);if(o)var u=o.get(null);else{o=new Map,Ec.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var M=p[m];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(o.set(M.dataset.precedence,M),u=M)}u&&o.set(null,u)}p=i.instance,M=p.getAttribute("data-precedence"),m=o.get(M)||u,m===u&&o.set(null,p),o.set(M,p),this.count++,u=_c.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),m?m.parentNode.insertBefore(p,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),i.state.loading|=4}}var Bo={$$typeof:B,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function FM(n,i,o,u,p,m,M,E,F){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.hiddenUpdates=Js(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function Ov(n,i,o,u,p,m,M,E,F,ee,fe,ge){return n=new FM(n,i,o,M,F,ee,fe,ge,E),i=1,m===!0&&(i|=24),m=Hn(3,null,null,i),n.current=m,m.stateNode=n,i=Td(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:i},Ad(m),n}function zv(n){return n?(n=Or,n):Or}function Iv(n,i,o,u,p,m){p=zv(p),u.context===null?u.context=p:u.pendingContext=p,u=ya(i),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=va(n,u,i),o!==null&&(zn(o,n,i),ho(o,n,i))}function Fv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function qh(n,i){Fv(n,i),(n=n.alternate)&&Fv(n,i)}function Gv(n){if(n.tag===13||n.tag===31){var i=nr(n,67108864);i!==null&&zn(i,n,67108864),qh(n,67108864)}}function Hv(n){if(n.tag===13||n.tag===31){var i=Kn();i=ot(i);var o=nr(n,i);o!==null&&zn(o,n,i),qh(n,i)}}var Ac=!0;function GM(n,i,o,u){var p=C.T;C.T=null;var m=H.p;try{H.p=2,Kh(n,i,o,u)}finally{H.p=m,C.T=p}}function HM(n,i,o,u){var p=C.T;C.T=null;var m=H.p;try{H.p=8,Kh(n,i,o,u)}finally{H.p=m,C.T=p}}function Kh(n,i,o,u){if(Ac){var p=Yh(u);if(p===null)Uh(n,i,u,Rc,o),Wv(n,u);else if(WM(p,n,i,o,u))u.stopPropagation();else if(Wv(n,u),i&4&&-1<VM.indexOf(n)){for(;p!==null;){var m=Yt(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var M=Xn(m.pendingLanes);if(M!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;M;){var F=1<<31-De(M);E.entanglements[1]|=F,M&=~F}_i(m),(wt&6)===0&&(dc=Ie()+500,Ao(0))}}break;case 31:case 13:E=nr(m,2),E!==null&&zn(E,m,2),fc(),qh(m,2)}if(m=Yh(u),m===null&&Uh(n,i,u,Rc,o),m===p)break;p=m}p!==null&&u.stopPropagation()}else Uh(n,i,u,null,o)}}function Yh(n){return n=$u(n),Jh(n)}var Rc=null;function Jh(n){if(Rc=null,n=wi(n),n!==null){var i=l(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=c(i),n!==null)return n;n=null}else if(o===31){if(n=d(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Rc=n,null}function Vv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(J()){case Te:return 2;case Ae:return 8;case Fe:case ye:return 32;case We:return 268435456;default:return 32}default:return 32}}var $h=!1,Ra=null,La=null,ka=null,Do=new Map,Po=new Map,Na=[],VM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wv(n,i){switch(n){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":Do.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(i.pointerId)}}function Oo(n,i,o,u,p,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[p]},i!==null&&(i=Yt(i),i!==null&&Gv(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function WM(n,i,o,u,p){switch(i){case"focusin":return Ra=Oo(Ra,n,i,o,u,p),!0;case"dragenter":return La=Oo(La,n,i,o,u,p),!0;case"mouseover":return ka=Oo(ka,n,i,o,u,p),!0;case"pointerover":var m=p.pointerId;return Do.set(m,Oo(Do.get(m)||null,n,i,o,u,p)),!0;case"gotpointercapture":return m=p.pointerId,Po.set(m,Oo(Po.get(m)||null,n,i,o,u,p)),!0}return!1}function jv(n){var i=wi(n.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){n.blockedOn=i,St(n.priority,function(){Hv(o)});return}}else if(i===31){if(i=d(o),i!==null){n.blockedOn=i,St(n.priority,function(){Hv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Yh(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Ju=u,o.target.dispatchEvent(u),Ju=null}else return i=Yt(o),i!==null&&Gv(i),n.blockedOn=o,!1;i.shift()}return!0}function qv(n,i,o){Lc(n)&&o.delete(i)}function jM(){$h=!1,Ra!==null&&Lc(Ra)&&(Ra=null),La!==null&&Lc(La)&&(La=null),ka!==null&&Lc(ka)&&(ka=null),Do.forEach(qv),Po.forEach(qv)}function kc(n,i){n.blockedOn===i&&(n.blockedOn=null,$h||($h=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jM)))}var Nc=null;function Kv(n){Nc!==n&&(Nc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nc===n&&(Nc=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],p=n[i+2];if(typeof u!="function"){if(Jh(u||o)===null)continue;break}var m=Yt(o);m!==null&&(n.splice(i,3),i-=3,Yd(m,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function os(n){function i(F){return kc(F,n)}Ra!==null&&kc(Ra,n),La!==null&&kc(La,n),ka!==null&&kc(ka,n),Do.forEach(i),Po.forEach(i);for(var o=0;o<Na.length;o++){var u=Na[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Na.length&&(o=Na[0],o.blockedOn===null);)jv(o),o.blockedOn===null&&Na.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],m=o[u+1],M=p[He]||null;if(typeof m=="function")M||Kv(o);else if(M){var E=null;if(m&&m.hasAttribute("formAction")){if(p=m,M=m[He]||null)E=M.formAction;else if(Jh(p)!==null)continue}else E=M.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),Kv(o)}}}function Yv(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(M){return p=M})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Xh(n){this._internalRoot=n}Uc.prototype.render=Xh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,u=Kn();Iv(o,u,n,i,null,null)},Uc.prototype.unmount=Xh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Iv(n.current,2,null,n,null,null),fc(),i[ht]=null}};function Uc(n){this._internalRoot=n}Uc.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ze();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Na.length&&i!==0&&i<Na[o].priority;o++);Na.splice(o,0,n),o===0&&jv(n)}};var Jv=e.version;if(Jv!=="19.2.4")throw Error(a(527,Jv,"19.2.4"));H.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=f(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var qM={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{fn=Bc.inject(qM),st=Bc}catch{}}return Io.createRoot=function(n,i){if(!s(n))throw Error(a(299));var o=!1,u="",p=ny,m=iy,M=ay;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(M=i.onRecoverableError)),i=Ov(n,1,!1,null,null,o,u,null,p,m,M,Yv),n[ht]=i.current,Nh(n),new Xh(i)},Io.hydrateRoot=function(n,i,o){if(!s(n))throw Error(a(299));var u=!1,p="",m=ny,M=iy,E=ay,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(M=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(F=o.formState)),i=Ov(n,1,!0,i,o??null,u,p,F,m,M,E,Yv),i.context=zv(null),o=i.current,u=Kn(),u=ot(u),p=ya(u),p.callback=null,va(o,p,u),o=u,i.current.lanes=o,U(i,o),_i(i),n[ht]=i.current,Nh(n),new Uc(i)},Io.version="19.2.4",Io}var r0;function n1(){if(r0)return Qh.exports;r0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qh.exports=t1(),Qh.exports}var i1=n1();const a1="modulepreload",r1=function(r){return"/"+r},s0={},Is=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){let h=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");s=h(t.map(f=>{if(f=r1(f),f in s0)return;s0[f]=!0;const g=f.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":a1,g||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((b,w)=>{v.addEventListener("load",b),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};var G=Cp();var o0="popstate";function s1(r={}){function e(a,s){let{pathname:l,search:c,hash:d}=a.location;return ip("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(a,s){return typeof s=="string"?s:cl(s)}return l1(e,t,null,r)}function Wt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Li(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o1(){return Math.random().toString(36).substring(2,10)}function l0(r,e){return{usr:r.state,key:r.key,idx:e}}function ip(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Fs(e):e,state:t,key:e&&e.key||a||o1()}}function cl({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Fs(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function l1(r,e,t,a={}){let{window:s=document.defaultView,v5Compat:l=!1}=a,c=s.history,d="POP",h=null,f=g();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function g(){return(c.state||{idx:null}).idx}function y(){d="POP";let _=g(),S=_==null?null:_-f;f=_,h&&h({action:d,location:T.location,delta:S})}function v(_,S){d="PUSH";let x=ip(T.location,_,S);f=g()+1;let B=l0(x,f),O=T.createHref(x);try{c.pushState(B,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(O)}l&&h&&h({action:d,location:T.location,delta:1})}function b(_,S){d="REPLACE";let x=ip(T.location,_,S);f=g();let B=l0(x,f),O=T.createHref(x);c.replaceState(B,"",O),l&&h&&h({action:d,location:T.location,delta:0})}function w(_){return c1(_)}let T={get action(){return d},get location(){return r(s,c)},listen(_){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(o0,y),h=_,()=>{s.removeEventListener(o0,y),h=null}},createHref(_){return e(s,_)},createURL:w,encodeLocation(_){let S=w(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:b,go(_){return c.go(_)}};return T}function c1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(t,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:cl(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function Xb(r,e,t="/"){return u1(r,e,t,!1)}function u1(r,e,t,a){let s=typeof e=="string"?Fs(e):e,l=oa(s.pathname||"/",t);if(l==null)return null;let c=Zb(r);d1(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=S1(l);d=x1(c[h],f,a)}return d}function Zb(r,e=[],t=[],a="",s=!1){let l=(c,d,h=s,f)=>{let g={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&h)return;Wt(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let y=aa([a,g.relativePath]),v=t.concat(g);c.children&&c.children.length>0&&(Wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Zb(c.children,e,v,y,h)),!(c.path==null&&!c.index)&&e.push({path:y,score:v1(y,c.index),routesMeta:v})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let h of Qb(c.path))l(c,d,!0,h)}),e}function Qb(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let c=Qb(a.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),s&&d.push(...c),d.map(h=>r.startsWith("/")&&h===""?"/":h)}function d1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:b1(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var h1=/^:[\w-]+$/,f1=3,p1=2,m1=1,g1=10,y1=-2,c0=r=>r==="*";function v1(r,e){let t=r.split("/"),a=t.length;return t.some(c0)&&(a+=y1),e&&(a+=p1),t.filter(s=>!c0(s)).reduce((s,l)=>s+(h1.test(l)?f1:l===""?m1:g1),a)}function b1(r,e){return r.length===e.length&&r.slice(0,-1).every((a,s)=>a===e[s])?r[r.length-1]-e[e.length-1]:0}function x1(r,e,t=!1){let{routesMeta:a}=r,s={},l="/",c=[];for(let d=0;d<a.length;++d){let h=a[d],f=d===a.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=Mu({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),v=h.route;if(!y&&f&&t&&!a[a.length-1].route.index&&(y=Mu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),c.push({params:s,pathname:aa([l,y.pathname]),pathnameBase:E1(aa([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=aa([l,y.pathnameBase]))}return c}function Mu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=w1(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((f,{paramName:g,isOptional:y},v)=>{if(g==="*"){let w=d[v]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[v];return y&&!b?f[g]=void 0:f[g]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:r}}function w1(r,e=!1,t=!0){Li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(a.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function S1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Li(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function oa(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}var M1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function T1(r,e="/"){let{pathname:t,search:a="",hash:s=""}=typeof r=="string"?Fs(r):r,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=u0(t.substring(1),"/"):l=u0(t,e)):l=e,{pathname:l,search:C1(a),hash:A1(s)}}function u0(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function rf(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ex(r){let e=_1(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function tx(r,e,t,a=!1){let s;typeof r=="string"?s=Fs(r):(s={...r},Wt(!s.pathname||!s.pathname.includes("?"),rf("?","pathname","search",s)),Wt(!s.pathname||!s.pathname.includes("#"),rf("#","pathname","hash",s)),Wt(!s.search||!s.search.includes("#"),rf("#","search","hash",s)));let l=r===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let y=e.length-1;if(!a&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;s.pathname=v.join("/")}d=y>=0?e[y]:"/"}let h=T1(s,d),f=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var aa=r=>r.join("/").replace(/\/\/+/g,"/"),E1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),C1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,A1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,R1=class{constructor(r,e,t,a=!1){this.status=r,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function L1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function k1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ix(r,e){let t=r;if(typeof t!="string"||!M1.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let a=t,s=!1;if(nx)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=oa(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:s=!0}catch{Li(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ax=["POST","PUT","PATCH","DELETE"];new Set(ax);var N1=["GET",...ax];new Set(N1);var Gs=G.createContext(null);Gs.displayName="DataRouter";var Bu=G.createContext(null);Bu.displayName="DataRouterState";var U1=G.createContext(!1),rx=G.createContext({isTransitioning:!1});rx.displayName="ViewTransition";var B1=G.createContext(new Map);B1.displayName="Fetchers";var D1=G.createContext(null);D1.displayName="Await";var di=G.createContext(null);di.displayName="Navigation";var gl=G.createContext(null);gl.displayName="Location";var la=G.createContext({outlet:null,matches:[],isDataRoute:!1});la.displayName="Route";var Ap=G.createContext(null);Ap.displayName="RouteError";var sx="REACT_ROUTER_ERROR",P1="REDIRECT",O1="ROUTE_ERROR_RESPONSE";function z1(r){if(r.startsWith(`${sx}:${P1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function I1(r){if(r.startsWith(`${sx}:${O1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new R1(e.status,e.statusText,e.data)}catch{}}function F1(r,{relative:e}={}){Wt(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=G.useContext(di),{hash:s,pathname:l,search:c}=vl(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:aa([t,l])),a.createHref({pathname:d,search:c,hash:s})}function yl(){return G.useContext(gl)!=null}function Tr(){return Wt(yl(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(gl).location}var ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lx(r){G.useContext(di).static||G.useLayoutEffect(r)}function G1(){let{isDataRoute:r}=G.useContext(la);return r?eT():H1()}function H1(){Wt(yl(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Gs),{basename:e,navigator:t}=G.useContext(di),{matches:a}=G.useContext(la),{pathname:s}=Tr(),l=JSON.stringify(ex(a)),c=G.useRef(!1);return lx(()=>{c.current=!0}),G.useCallback((h,f={})=>{if(Li(c.current,ox),!c.current)return;if(typeof h=="number"){t.go(h);return}let g=tx(h,JSON.parse(l),s,f.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:aa([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,l,s,r])}G.createContext(null);function vl(r,{relative:e}={}){let{matches:t}=G.useContext(la),{pathname:a}=Tr(),s=JSON.stringify(ex(t));return G.useMemo(()=>tx(r,JSON.parse(s),a,e==="path"),[r,s,a,e])}function V1(r,e){return cx(r,e)}function cx(r,e,t,a,s){Wt(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=G.useContext(di),{matches:c}=G.useContext(la),d=c[c.length-1],h=d?d.params:{},f=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let x=y&&y.path||"";dx(f,!y||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let v=Tr(),b;if(e){let x=typeof e=="string"?Fs(e):e;Wt(g==="/"||x.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${x.pathname}" was given in the \`location\` prop.`),b=x}else b=v;let w=b.pathname||"/",T=w;if(g!=="/"){let x=g.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=Xb(r,{pathname:T});Li(y||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Li(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Y1(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},h,x.params),pathname:aa([g,l.encodeLocation?l.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?g:aa([g,l.encodeLocation?l.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),c,t,a,s);return e&&S?G.createElement(gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function W1(){let r=Q1(),e=L1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:l},"ErrorBoundary")," or"," ",G.createElement("code",{style:l},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:s},t):null,c)}var j1=G.createElement(W1,null),ux=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=I1(r.digest);t&&(r=t)}let e=r!==void 0?G.createElement(la.Provider,{value:this.props.routeContext},G.createElement(Ap.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?G.createElement(q1,{error:r},e):e}};ux.contextType=U1;var sf=new WeakMap;function q1({children:r,error:e}){let{basename:t}=G.useContext(di);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=z1(e.digest);if(a){let s=sf.get(e);if(s)throw s;let l=ix(a.location,t);if(nx&&!sf.get(e))if(l.isExternal||a.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:a.replace}));throw sf.set(e,c),c}return G.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function K1({routeContext:r,match:e,children:t}){let a=G.useContext(Gs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(la.Provider,{value:r},t)}function Y1(r,e=[],t=null,a=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Wt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,h=-1;if(t)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.id){let{loaderData:v,errors:b}=t,w=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||w){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let f=t&&a?(g,y)=>{a(g,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:k1(t.matches),errorInfo:y})}:void 0;return l.reduceRight((g,y,v)=>{let b,w=!1,T=null,_=null;t&&(b=c&&y.route.id?c[y.route.id]:void 0,T=y.route.errorElement||j1,d&&(h<0&&v===0?(dx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):h===v&&(w=!0,_=y.route.hydrateFallbackElement||null)));let S=e.concat(l.slice(0,v+1)),x=()=>{let B;return b?B=T:w?B=_:y.route.Component?B=G.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=g,G.createElement(K1,{match:y,routeContext:{outlet:g,matches:S,isDataRoute:t!=null},children:B})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?G.createElement(ux,{location:t.location,revalidation:t.revalidation,component:T,error:b,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:f}):x()},null)}function Rp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J1(r){let e=G.useContext(Gs);return Wt(e,Rp(r)),e}function $1(r){let e=G.useContext(Bu);return Wt(e,Rp(r)),e}function X1(r){let e=G.useContext(la);return Wt(e,Rp(r)),e}function Lp(r){let e=X1(r),t=e.matches[e.matches.length-1];return Wt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Z1(){return Lp("useRouteId")}function Q1(){let r=G.useContext(Ap),e=$1("useRouteError"),t=Lp("useRouteError");return r!==void 0?r:e.errors?.[t]}function eT(){let{router:r}=J1("useNavigate"),e=Lp("useNavigate"),t=G.useRef(!1);return lx(()=>{t.current=!0}),G.useCallback(async(s,l={})=>{Li(t.current,ox),t.current&&(typeof s=="number"?await r.navigate(s):await r.navigate(s,{fromRouteId:e,...l}))},[r,e])}var d0={};function dx(r,e,t){!e&&!d0[r]&&(d0[r]=!0,Li(!1,t))}G.memo(tT);function tT({routes:r,future:e,state:t,onError:a}){return cx(r,void 0,t,a,e)}function mu(r){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nT({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:s,static:l=!1,unstable_useTransitions:c}){Wt(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),h=G.useMemo(()=>({basename:d,navigator:s,static:l,unstable_useTransitions:c,future:{}}),[d,s,l,c]);typeof t=="string"&&(t=Fs(t));let{pathname:f="/",search:g="",hash:y="",state:v=null,key:b="default"}=t,w=G.useMemo(()=>{let T=oa(f,d);return T==null?null:{location:{pathname:T,search:g,hash:y,state:v,key:b},navigationType:a}},[d,f,g,y,v,b,a]);return Li(w!=null,`<Router basename="${d}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:G.createElement(di.Provider,{value:h},G.createElement(gl.Provider,{children:e,value:w}))}function iT({children:r,location:e}){return V1(ap(r),e)}function ap(r,e=[]){let t=[];return G.Children.forEach(r,(a,s)=>{if(!G.isValidElement(a))return;let l=[...e,s];if(a.type===G.Fragment){t.push.apply(t,ap(a.props.children,l));return}Wt(a.type===mu,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=ap(a.props.children,l)),t.push(c)}),t}var gu="get",yu="application/x-www-form-urlencoded";function Du(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function aT(r){return Du(r)&&r.tagName.toLowerCase()==="button"}function rT(r){return Du(r)&&r.tagName.toLowerCase()==="form"}function sT(r){return Du(r)&&r.tagName.toLowerCase()==="input"}function oT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function lT(r,e){return r.button===0&&(!e||e==="_self")&&!oT(r)}var Dc=null;function cT(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var uT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function of(r){return r!=null&&!uT.has(r)?(Li(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yu}"`),null):r}function dT(r,e){let t,a,s,l,c;if(rT(r)){let d=r.getAttribute("action");a=d?oa(d,e):null,t=r.getAttribute("method")||gu,s=of(r.getAttribute("enctype"))||yu,l=new FormData(r)}else if(aT(r)||sT(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||d.getAttribute("action");if(a=h?oa(h,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||gu,s=of(r.getAttribute("formenctype"))||of(d.getAttribute("enctype"))||yu,l=new FormData(d,r),!cT()){let{name:f,type:g,value:y}=r;if(g==="image"){let v=f?`${f}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else f&&l.append(f,y)}}else{if(Du(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gu,a=null,s=yu,c=r}return l&&s==="text/plain"&&(c=l,l=void 0),{action:a,method:t.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function hT(r,e,t,a){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${a}`:s.pathname=`${s.pathname}.${a}`:s.pathname==="/"?s.pathname=`_root.${a}`:e&&oa(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function fT(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function mT(r,e,t){let a=await Promise.all(r.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await fT(l,t);return c.links?c.links():[]}return[]}));return bT(a.flat(1).filter(pT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function h0(r,e,t,a,s,l){let c=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,d=(h,f)=>t[f].pathname!==h.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):l==="data"?e.filter((h,f)=>{let g=a.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function gT(r,e,{includeHydrateFallback:t}={}){return yT(r.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function yT(r){return[...new Set(r)]}function vT(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function bT(r,e){let t=new Set;return new Set(e),r.reduce((a,s)=>{let l=JSON.stringify(vT(s));return t.has(l)||(t.add(l),a.push({key:l,link:s})),a},[])}function hx(){let r=G.useContext(Gs);return kp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xT(){let r=G.useContext(Bu);return kp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Np=G.createContext(void 0);Np.displayName="FrameworkContext";function fx(){let r=G.useContext(Np);return kp(r,"You must render this element inside a <HydratedRouter> element"),r}function wT(r,e){let t=G.useContext(Np),[a,s]=G.useState(!1),[l,c]=G.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:y}=e,v=G.useRef(null);G.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let T=S=>{S.forEach(x=>{c(x.isIntersecting)})},_=new IntersectionObserver(T,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[r]),G.useEffect(()=>{if(a){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[a]);let b=()=>{s(!0)},w=()=>{s(!1),c(!1)};return t?r!=="intent"?[l,v,{}]:[l,v,{onFocus:Fo(d,b),onBlur:Fo(h,w),onMouseEnter:Fo(f,b),onMouseLeave:Fo(g,w),onTouchStart:Fo(y,b)}]:[!1,v,{}]}function Fo(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function ST({page:r,...e}){let{router:t}=hx(),a=G.useMemo(()=>Xb(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?G.createElement(TT,{page:r,matches:a,...e}):null}function MT(r){let{manifest:e,routeModules:t}=fx(),[a,s]=G.useState([]);return G.useEffect(()=>{let l=!1;return mT(r,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[r,e,t]),a}function TT({page:r,matches:e,...t}){let a=Tr(),{future:s,manifest:l,routeModules:c}=fx(),{basename:d}=hx(),{loaderData:h,matches:f}=xT(),g=G.useMemo(()=>h0(r,e,f,l,a,"data"),[r,e,f,l,a]),y=G.useMemo(()=>h0(r,e,f,l,a,"assets"),[r,e,f,l,a]),v=G.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let T=new Set,_=!1;if(e.forEach(x=>{let B=l.routes[x.route.id];!B||!B.hasLoader||(!g.some(O=>O.route.id===x.route.id)&&x.route.id in h&&c[x.route.id]?.shouldRevalidate||B.hasClientLoader?_=!0:T.add(x.route.id))}),T.size===0)return[];let S=hT(r,d,s.unstable_trailingSlashAwareDataRequests,"data");return _&&T.size>0&&S.searchParams.set("_routes",e.filter(x=>T.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[d,s.unstable_trailingSlashAwareDataRequests,h,a,l,g,e,r,c]),b=G.useMemo(()=>gT(y,l),[y,l]),w=MT(y);return G.createElement(G.Fragment,null,v.map(T=>G.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),b.map(T=>G.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),w.map(({key:T,link:_})=>G.createElement("link",{key:T,nonce:t.nonce,..._,crossOrigin:_.crossOrigin??t.crossOrigin})))}function _T(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ET=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ET&&(window.__reactRouterVersion="7.13.0")}catch{}function CT({basename:r,children:e,unstable_useTransitions:t,window:a}){let s=G.useRef();s.current==null&&(s.current=s1({window:a,v5Compat:!0}));let l=s.current,[c,d]=G.useState({action:l.action,location:l.location}),h=G.useCallback(f=>{t===!1?d(f):G.startTransition(()=>d(f))},[t]);return G.useLayoutEffect(()=>l.listen(h),[l,h]),G.createElement(nT,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var px=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mx=G.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:s,reloadDocument:l,replace:c,state:d,target:h,to:f,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v,...b},w){let{basename:T,unstable_useTransitions:_}=G.useContext(di),S=typeof f=="string"&&px.test(f),x=ix(f,T);f=x.to;let B=F1(f,{relative:s}),[O,D,A]=wT(a,b),P=kT(f,{replace:c,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:v,unstable_useTransitions:_});function q(te){e&&e(te),te.defaultPrevented||P(te)}let X=G.createElement("a",{...b,...A,href:x.absoluteURL||B,onClick:x.isExternal||l?e:q,ref:_T(w,D),target:h,"data-discover":!S&&t==="render"?"true":void 0});return O&&!S?G.createElement(G.Fragment,null,X,G.createElement(ST,{page:B})):X});mx.displayName="Link";var AT=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:d,children:h,...f},g){let y=vl(c,{relative:f.relative}),v=Tr(),b=G.useContext(Bu),{navigator:w,basename:T}=G.useContext(di),_=b!=null&&PT(y)&&d===!0,S=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,x=v.pathname,B=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(x=x.toLowerCase(),B=B?B.toLowerCase():null,S=S.toLowerCase()),B&&T&&(B=oa(B,T)||B);const O=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let D=x===S||!s&&x.startsWith(S)&&x.charAt(O)==="/",A=B!=null&&(B===S||!s&&B.startsWith(S)&&B.charAt(S.length)==="/"),P={isActive:D,isPending:A,isTransitioning:_},q=D?e:void 0,X;typeof a=="function"?X=a(P):X=[a,D?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let te=typeof l=="function"?l(P):l;return G.createElement(mx,{...f,"aria-current":q,className:X,ref:g,style:te,to:c,viewTransition:d},typeof h=="function"?h(P):h)});AT.displayName="NavLink";var RT=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:s,state:l,method:c=gu,action:d,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v,...b},w)=>{let{unstable_useTransitions:T}=G.useContext(di),_=BT(),S=DT(d,{relative:f}),x=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&px.test(d),O=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let A=D.nativeEvent.submitter,P=A?.getAttribute("formmethod")||c,q=()=>_(A||D.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:s,state:l,relative:f,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v});T&&t!==!1?G.startTransition(()=>q()):q()};return G.createElement("form",{ref:w,method:x,action:S,onSubmit:a?h:O,...b,"data-discover":!B&&r==="render"?"true":void 0})});RT.displayName="Form";function LT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gx(r){let e=G.useContext(Gs);return Wt(e,LT(r)),e}function kT(r,{target:e,replace:t,state:a,preventScrollReset:s,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let f=G1(),g=Tr(),y=vl(r,{relative:l});return G.useCallback(v=>{if(lT(v,e)){v.preventDefault();let b=t!==void 0?t:cl(g)===cl(y),w=()=>f(r,{replace:b,state:a,preventScrollReset:s,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});h?G.startTransition(()=>w()):w()}},[g,f,y,t,a,e,r,s,l,c,d,h])}var NT=0,UT=()=>`__${String(++NT)}__`;function BT(){let{router:r}=gx("useSubmit"),{basename:e}=G.useContext(di),t=Z1(),a=r.fetch,s=r.navigate;return G.useCallback(async(l,c={})=>{let{action:d,method:h,encType:f,formData:g,body:y}=dT(l,e);if(c.navigate===!1){let v=c.fetcherKey||UT();await a(v,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||h,formEncType:c.encType||f,flushSync:c.flushSync})}else await s(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||h,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,s,e,t])}function DT(r,{relative:e}={}){let{basename:t}=G.useContext(di),a=G.useContext(la);Wt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...vl(r||".",{relative:e})},c=Tr();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();l.search=g?`?${g}`:""}}return(!r||r===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:aa([t,l.pathname])),cl(l)}function PT(r,{relative:e}={}){let t=G.useContext(rx);Wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=gx("useViewTransitionState"),s=vl(r,{relative:e});if(!t.isTransitioning)return!1;let l=oa(t.currentLocation.pathname,a)||t.currentLocation.pathname,c=oa(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Mu(s.pathname,c)!=null||Mu(s.pathname,l)!=null}const gt={Ukraine:{lat:48.38,lng:31.17,flag:"",risk:"catastrophic",region:"Eastern Europe",pop:"39.5M",gdp:"$191B",leader:"Volodymyr Zelenskyy",title:"War & Peace Talks",analysis:{what:"Russia's full-scale invasion, launched in February 2022, continues into its fourth year as the largest military conflict in Europe since WWII. Both sides have suffered hundreds of thousands of casualties. Ukraine has lost approximately 13% of its territory. Active peace negotiations are now underwayGeneva talks in February 2026 ended without a dealdeep divisions persist on territorial questions. A multi-tiered ceasefire plan was proposed with Western support, and France and the UK have pledged to install military hubs in Ukraine. US-Russia talks in Abu Dhabi re-established military dialogue. However, territorial disputes remain the core sticking point, with Russia demanding full control of Donetsk and Luhansk.",why:"This conflict has fundamentally reshaped European security architecture and revitalized NATO. The outcome will define the international order for decades: whether territorial conquest through military force remains viable. Peace negotiations are the most significant diplomatic development since the war began, driven by Trump administration pressure and battlefield exhaustion on both sides.",next:"Active peace talks create the first real possibility of a ceasefire since the war began. Watch for: Geneva negotiation progress, territorial compromise formulas, security guarantee framework, and whether both sides accept monitoring mechanisms. Key variables: Trump's diplomatic leverage, Putin's territorial demands, Zelenskyy's red lines, and European security commitments."},news:[{source:"Reuters",bias:"center",time:"1h ago",headline:"Geneva talks show progress on military ceasefire track",url:"#"},{source:"BBC",bias:"center-left",time:"3h ago",headline:"35-country coalition pledges ceasefire monitoring support",url:"#"},{source:"WSJ",bias:"center-right",time:"6h ago",headline:"Territorial disputes remain core sticking point",url:"#"},{source:"AP",bias:"center",time:"8h ago",headline:"Zelenskyy outlines security guarantee demands",url:"#"}]},Russia:{lat:61.52,lng:105.32,flag:"",risk:"catastrophic",region:"Eastern Europe",pop:"144M",gdp:"$2.54T",leader:"Vladimir Putin",title:"War & Negotiations",analysis:{what:"Russia continues its war in Ukraine while engaging in trilateral peace negotiations with the US and Ukraine. Geneva talks in February 2026 showed progress on military tracks but Russia demands Ukrainian withdrawal from Donbas as a preconditiona non-starter for Kyiv. The country faces unprecedented Western sanctionsover 16,000 measuresbut has adapted through shadow fleet oil sales and trade rerouting via China and India. The war economy consumes 40% of the budget. Military casualties are estimated at 300,000+ killed and wounded. Domestically, Putin has consolidated total authoritarian control.",why:"Russia possesses the world's largest nuclear arsenal and a permanent UN Security Council seat. The invasion has shattered the post-Cold War European security order. Russia's partnership with China, Iran, and North Korea forms a growing axis challenging Western hegemony. The peace negotiations represent the first serious diplomatic opening since the war began.",next:"Russia is negotiating from a position of territorial control but economic strain. Watch for: negotiation posture, territorial demands, sanctions pressure, military-economic sustainability, and whether Putin accepts a ceasefire that falls short of his maximalist demands. The outcome will reshape global power dynamics for decades."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Russia demands Donbas withdrawal as peace precondition",url:"#"},{source:"FT",bias:"center",time:"5h ago",headline:"War economy strains Russian budget as talks continue",url:"#"},{source:"Bloomberg",bias:"center-right",time:"7h ago",headline:"Geneva talks show limited progress on political track",url:"#"}]},Palestine:{lat:30.5,lng:35.2,flag:"",risk:"catastrophic",region:"Middle East",pop:"5.3M",gdp:"$20B",leader:"Mahmoud Abbas (PA) / Hamas (Gaza)",title:"Post-Ceasefire Crisis",analysis:{what:"A ceasefire was reached in January 2025 after Israel's military campaign in Gaza killed over 72,000 Palestinians and displaced 1.9 million. A second ceasefire took effect October 2025, with Phase 2 beginning January 2026. However, violations are extensive1,193+ Israeli violations documented since October, with nearly 500 Palestinians killed despite the ceasefire. Only 43% of allocated aid trucks are entering Gaza. The last Israeli hostage body was recovered in January 2026. In the West Bank, the PA governs limited areas under Israeli occupation while 700,000+ settlers expand into Palestinian territory. Post-war Gaza governance remains unresolved.",why:"The Gaza war and ceasefire process have reshaped Middle East geopolitics. Hezbollah was significantly weakened by Israel's military operations. The humanitarian catastrophe has inflamed global opinion and strained US relations with allies. Palestinian statehood recognition has gained momentum internationally. The ceasefire's fragility threatens a return to full-scale conflict.",next:"Phase 2 negotiations will determine long-term outcomes. Watch for: ceasefire compliance, Gaza reconstruction and governance, humanitarian access, West Bank settler violence, and international recognition moves. The fundamental question of Palestinian statehood remains the core unresolved issue of Middle East politics."},news:[{source:"Al Jazeera",bias:"left",time:"1h ago",headline:"Phase 2 ceasefire faces implementation challenges",url:"#"},{source:"Reuters",bias:"center",time:"3h ago",headline:"Humanitarian aid access remains severely restricted",url:"#"},{source:"BBC",bias:"center-left",time:"5h ago",headline:"West Bank raids continue amid fragile ceasefire",url:"#"},{source:"AP",bias:"center",time:"7h ago",headline:"Gaza reconstruction plans stall over governance disputes",url:"#"}]},Sudan:{lat:12.86,lng:30.22,flag:"",risk:"catastrophic",region:"Africa",pop:"46M",gdp:"$34B",leader:"Disputed",title:"Civil War",analysis:{what:"Civil war erupted in April 2023 between the Sudanese Armed Forces (SAF) led by General al-Burhan and the paramilitary Rapid Support Forces (RSF) led by Hemedti. Fighting has devastated Khartoum and spread across the country, particularly in Darfur where the RSF has captured all five state capitals including El Fasher. An estimated 150,000-400,000 people have been killed and 13.6 million displacedthe world's largest displacement crisis. Mass killings, sexual violence, and ethnic cleansing have been documented. Famine conditions are spreading with hospitals non-functional.",why:"Sudan's collapse threatens to destabilize the entire Horn of Africa and Sahel region. The RSF has links to Wagner Group/Russia and receives UAE support, while SAF has Egyptian and Iranian backingmaking this a proxy battlefield. Sudan controls strategic Red Sea coastline and Nile water resources critical to Egypt. The humanitarian catastrophe rivals Yemen and Gaza in severity but receives far less attention.",next:"Neither side appears capable of decisive military victory, suggesting prolonged conflict. The country may fragment into competing zones of control. Without sustained international pressure and humanitarian access, mass starvation is likely. Long-term scenarios include partition, failed state status, or exhaustion-driven negotiations."},news:[{source:"UN News",bias:"center",time:"2h ago",headline:"Famine officially declared in Darfur camps",url:"#"},{source:"Reuters",bias:"center",time:"4h ago",headline:"RSF advances on key eastern city",url:"#"},{source:"AP",bias:"center",time:"8h ago",headline:"Millions face starvation as aid blocked",url:"#"}]},Myanmar:{lat:21.92,lng:95.96,flag:"",risk:"catastrophic",region:"Southeast Asia",pop:"54M",gdp:"$65B",leader:"Military Junta",title:"Civil War Stalemate",analysis:{what:"Myanmar's civil war following the 2021 military coup has reached a volatile stalemate. The military junta controls only ~21% of Myanmar's territory, with resistance forces holding ~42% and continue advancing toward the Bamar heartland. The military held sham elections from December 2025 to January 2026 in only 263 of 330 townships, widely boycotted and marked by intense violence. The March 2025 earthquake (magnitude 7.7) killed 5,000+ and compounded the crisis. Over 5.2 million people are displaced. The junta has responded with airstrikes on civilians, village burnings, and mass executions. The economy has collapsed.",why:"Myanmar's instability creates refugee flows into Thailand, Bangladesh, and India. The country is a major corridor for drug trafficking. China has significant interests and influence over ethnic armies. The resistance lacks unified political leadership, and public exhaustion is growing. International attention has waned except from China. The conflict economy dominates.",next:"Neither side appears capable of decisive military victory. Watch for: territorial shifts, resistance coordination, Chinese mediation, junta legitimacy efforts through sham elections, and humanitarian access. The junta is adapting strategically while the resistance faces fragmentation challenges."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Junta elections widely boycotted amid ongoing conflict",url:"#"},{source:"BBC",bias:"center-left",time:"6h ago",headline:"Military airstrikes kill civilians in Bago Region",url:"#"},{source:"Nikkei",bias:"center",time:"9h ago",headline:"Resistance controls 38% but faces setbacks",url:"#"}]},Yemen:{lat:15.55,lng:48.52,flag:"",risk:"catastrophic",region:"Middle East",pop:"33M",gdp:"$21B",leader:"Disputed",title:"Fragile Ceasefire",analysis:{what:"Yemen's Houthi movement halted Red Sea shipping attacks after the Gaza ceasefire took effect in October 2025no incidents recorded since September 2025. The US and Houthis agreed to a bilateral ceasefire on May 6, 2025, after the US struck 1,000+ Houthi targets. However, in late January 2026, Houthis threatened new Red Sea attacks as the USS Abraham Lincoln carrier group headed toward the Middle East amid Iran tensions. The underlying civil war continues with 21 million needing humanitarian aid.",why:"Houthi attacks have disrupted 12% of global trade passing through the Red Sea, forcing ships to reroute around Africa. As the Iran-US confrontation intensifies, Houthis could open a major front in any wider conflict. Yemen is a proxy battleground between Iran and Saudi Arabia/US. The conflict destabilizes the Arabian Peninsula and threatens global energy infrastructure.",next:"Yemen is now inextricable from the Iran nuclear crisis. If US-Iran talks fail and military strikes occur, Houthis would likely escalate attacks on shipping and potentially target US military assets. Watch for: Red Sea shipping disruptions, Iran negotiations impact, US military responses, and humanitarian conditions."},news:[{source:"Reuters",bias:"center",time:"1h ago",headline:"Houthis threaten escalation if Iran attacked",url:"#"},{source:"AP",bias:"center",time:"4h ago",headline:"US intensifies airstrikes on Houthi positions",url:"#"},{source:"Al Jazeera",bias:"left",time:"7h ago",headline:"Red Sea shipping disruptions continue",url:"#"}]},Haiti:{lat:18.97,lng:-72.29,flag:"",risk:"catastrophic",region:"Caribbean",pop:"11.6M",gdp:"$20B",leader:"Transitional Council",title:"Gang Violence Crisis",analysis:{what:"Haiti has collapsed into gang rule following the 2021 assassination of President Mose. Armed gangs now control 90% of Port-au-Prince, the capital. Gang violence has killed thousands and displaced over 1.4 million people. The state has effectively ceased to functionhospitals are closed, schools shuttered, and police overwhelmed. The Kenya-led Multinational Security Support (MSS) mission largely failed. In October 2025, the UN Security Council adopted Resolution 2793, creating the Gang Suppression Force (GSF)a 5,500-strong UN-backed force mandated to conduct independent counter-gang operations. The GSF is set to replace the MSS between March-April 2026.",why:"Haiti's collapse creates migration pressure toward the US, Dominican Republic, and Caribbean nations. It demonstrates how quickly state failure can occur. The country is a transit point for drug trafficking. International intervention efforts have repeatedly failed, raising questions about effective responses to fragile states. Regional stability in the Caribbean is affected.",next:"The Gang Suppression Force must succeed where the MSS failed. With 5,500 troops and a stronger mandate, it has better prospects but faces well-armed gangs controlling 90% of the capital. Watch for: GSF deployment effectiveness, gang coordination, migration flows, and humanitarian access. Long-term recovery requires dismantling gang networks and rebuilding institutions from scratcha generational project."},news:[{source:"AP",bias:"center",time:"2h ago",headline:"Gang violence surges despite international mission",url:"#"},{source:"Reuters",bias:"center",time:"5h ago",headline:"Thousands flee Port-au-Prince as fighting intensifies",url:"#"},{source:"Miami Herald",bias:"center",time:"8h ago",headline:"Kenya deploys additional troops to Haiti",url:"#"}]},Afghanistan:{lat:33.94,lng:67.71,flag:"",risk:"extreme",region:"Central Asia",pop:"41M",gdp:"$14B",leader:"Taliban",title:"Humanitarian Crisis",analysis:{what:"The Taliban seized power in August 2021 as US forces withdrew after 20 years of war. The regime has imposed strict Islamic law, banning girls from secondary education and women from most employment. The economy has collapsed with international sanctions and frozen assets. Over 23 million people face acute hunger. ISIS-K conducts attacks against the Taliban and minorities. Resistance movements exist but pose no serious threat to Taliban control.",why:"Afghanistan remains a potential terrorist safe havenAl-Qaeda leader Zawahiri was killed there in 2022. The humanitarian crisis creates refugee pressure on Pakistan and Iran. Women's rights rollback is the most severe in the world. Drug production (opium, methamphetamine) fuels regional trafficking. Neighboring countries face spillover instability.",next:"Taliban rule appears consolidated despite international isolation. No recognition from major powers is likely given women's rights abuses. Watch for: humanitarian conditions, terrorist activity, refugee flows, and any internal Taliban splits. The population faces grinding poverty with no improvement in sight."},news:[{source:"UN News",bias:"center",time:"3h ago",headline:"Millions face starvation as winter approaches",url:"#"},{source:"BBC",bias:"center-left",time:"6h ago",headline:"Taliban expands restrictions on women",url:"#"},{source:"Reuters",bias:"center",time:"10h ago",headline:"ISIS-K claims attack in Kabul province",url:"#"}]},DRC:{lat:-4.04,lng:21.76,flag:"",risk:"extreme",region:"Africa",pop:"99M",gdp:"$65B",leader:"Flix Tshisekedi",title:"M23 Occupation Crisis",analysis:{what:"The eastern DRC crisis escalated dramatically when M23 rebels (backed by Rwanda) captured Goma, the North Kivu capital, in January 2025, followed by Bukavu in South Kivu. Over a year later, M23 still occupies both cities, causing a severe humanitarian crisisover 1 million Goma residents face economic collapse, bank closures, and cash shortages. The Doha Framework Agreement was signed in November 2025, and a ceasefire monitoring mechanism was agreed to on February 2, 2026. The DRC and Rwanda also signed the Washington Agreements in December 2025. Despite diplomatic momentum, fighting continues in some areas. The EU announced $95.8 million in humanitarian aid in February 2026.",why:"DRC holds vast mineral wealth critical to global technologycobalt for batteries, coltan for electronics, gold, and diamonds. M23's control of major cities represents the most significant rebel territorial gains in decades. Rwanda's involvement has been extensively documented despite denials. The humanitarian crisis is among the world's worst with 7+ million displaced.",next:"M23 shows no signs of withdrawing from occupied cities. Watch for: peace talk outcomes, ceasefire compliance, humanitarian access, and international pressure on Rwanda. Without addressing Rwanda's role, the conflict will continue to devastate eastern Congo."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Fighting resumes in eastern DRC despite ceasefire",url:"#"},{source:"UN News",bias:"center",time:"5h ago",headline:"One year under M23 rule: Goma faces deepening crisis",url:"#"},{source:"AP",bias:"center",time:"9h ago",headline:"EU pledges nearly $100M in humanitarian aid",url:"#"}]},Somalia:{lat:5.15,lng:46.2,flag:"",risk:"extreme",region:"Africa",pop:"18M",gdp:"$8B",leader:"Hassan Sheikh Mohamud",title:"Al-Shabaab Threat",analysis:{what:"Somalia has lacked effective central government since 1991. Al-Shabaab, an Al-Qaeda affiliate, controls large rural areas and conducts devastating attacks including car bombings in Mogadishu. President Hassan Sheikh Mohamud launched a major offensive against the group in 2022 with initial success, but Al-Shabaab has regrouped. Drought and famine have killed thousands. Clan politics complicate governance. The African Union mission is drawing down.",why:"Al-Shabaab threatens regional stability, conducting attacks in Kenya and elsewhere. Somalia's coast is strategic for global shipping (Gulf of Aden). Failed state status makes it a potential terrorist haven. Climate change-induced drought creates humanitarian emergencies. Piracy, though reduced, can resurge.",next:"The government offensive has stalled and Al-Shabaab remains potent. Watch for: AU troop withdrawal impacts, Al-Shabaab attacks, drought conditions, and clan reconciliation efforts. Building effective state institutions remains the fundamental challenge."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Al-Shabaab car bomb kills dozens in Mogadishu",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"Drought displaces thousands more families",url:"#"},{source:"BBC",bias:"center-left",time:"10h ago",headline:"Government forces clash with militants in south",url:"#"}]},Israel:{lat:31.5,lng:34.9,flag:"",risk:"extreme",region:"Middle East",pop:"9.5M",gdp:"$525B",leader:"Benjamin Netanyahu",title:"Post-War Tensions",analysis:{what:"Israel's military operations in Gaza following Hamas's October 7, 2023 attack resulted in ceasefires in January and October 2025, with Phase 2 negotiations ongoing. Hezbollah was significantly weakened after Israel killed its top leadership including Nasrallah, with a ceasefire in November 2024. However, Israel has been accused of 11,000+ ceasefire violations in Lebanon and extensive violations in Gaza. Netanyahu's far-right coalition continues pushing controversial policies including West Bank settlement expansion. The economy is recovering from the strain of mobilizing 300,000 reservists.",why:"Israel is the US's closest Middle East ally, receiving $3.8 billion annually in military aid. The post-war period will define the region for decades. Gaza governance remains unresolved. International criticism and ICC warrant requests have increased Israel's diplomatic isolation. Israeli technology remains globally integrated.",next:"Post-war Gaza governance is the critical unresolved question. Watch for: ceasefire compliance, Iran nuclear confrontation, Netanyahu coalition stability, ICC proceedings, and US policy. The long-term trajectory depends on whether a political solution emerges or conflict resumes."},news:[{source:"Times of Israel",bias:"center-right",time:"1h ago",headline:"Phase 2 ceasefire negotiations continue",url:"#"},{source:"Reuters",bias:"center",time:"3h ago",headline:"Lebanon ceasefire holds despite violations",url:"#"},{source:"Haaretz",bias:"center-left",time:"6h ago",headline:"Coalition pushes settlement expansion plans",url:"#"}]},Taiwan:{lat:23.7,lng:120.96,flag:"",risk:"extreme",region:"East Asia",pop:"24M",gdp:"$790B",leader:"Lai Ching-te",title:"Cross-Strait Tensions",analysis:{what:"Cross-strait tensions have reached their highest level in decades. China has dramatically increased military activity around Taiwan with near-daily air defense zone incursions and naval exercises simulating blockade scenarios. In December 2025, China launched its most intense exercise yet100+ aircraft and 27 rockets fired from Fujian, with 10 landing inside Taiwan's 24-nautical-mile contiguous zone. President Lai Ching-te continues the DPP's pro-sovereignty stance. Taiwan has accelerated defense spending, extended conscription, and seeks a proposed $40 billion military spending increase (currently stalled in the legislature due to opposition majority). TSMC manufactures over 90% of the world's most advanced semiconductors.",why:"Taiwan represents the most dangerous potential flashpoint for great-power conflict. A Chinese invasion would likely trigger US intervention, risking war between nuclear powers. The global economy would face catastrophic disruptionsemiconductor shortages would halt production of everything from smartphones to weapons. Japan, South Korea, and the Philippines would be directly affected. Taiwan represents an ideological contest: prosperous democracy versus CCP authoritarianism.",next:'Full-scale invasion unlikely before 2027 as China builds capability. However, "gray zone" coercionblockades, cyber attackscould occur sooner. Watch for: Chinese military exercises, US arms sales, Japanese posture changes. The 2027-2030 window is considered particularly dangerous.'},news:[{source:"Nikkei",bias:"center",time:"2h ago",headline:"China conducts largest Taiwan Strait exercises this year",url:"#"},{source:"Reuters",bias:"center",time:"4h ago",headline:"Taiwan scrambles jets as PLA aircraft approach",url:"#"},{source:"SCMP",bias:"center-right",time:"8h ago",headline:'Beijing warns against "Taiwan independence" moves',url:"#"}]},Iran:{lat:32.43,lng:53.69,flag:"",risk:"extreme",region:"Middle East",pop:"87M",gdp:"$388B",leader:"Ali Khamenei",title:"Nuclear Crisis / US Military Confrontation",analysis:{what:`Massive US military buildup in the Middle East  two aircraft carrier strike groups, 13+ warships, fighter jets, and B-2 bombers deployed. Trump issued Iran a 10-15 day ultimatum to accept a nuclear deal or face "bad things." Iran responded that US bases across the region are "legitimate targets" and conducted live-fire naval drills in the Strait of Hormuz. Iran is repairing and fortifying nuclear sites damaged by previous sabotage, enriching uranium to 60% purity with enough material for multiple bombs. Iran's proxy network  Hezbollah in Lebanon, Houthis in Yemen, Hamas in Gaza, Iraqi Shia militias  remains capable of striking US and Israeli assets across the region. Tensions at highest point since the 2020 Soleimani assassination.`,why:"The Strait of Hormuz carries 20-30% of global oil transit  any conflict spikes energy prices worldwide. Iran is a nuclear threshold state; strikes on nuclear facilities could paradoxically accelerate weapons development. Regional escalation could draw in Israel, Saudi Arabia, and Gulf states. US-Israel coordination on potential strikes is intensifying. This is the closest the US and Iran have come to direct military confrontation. Iranian proxies can open multiple fronts simultaneously  Red Sea shipping (Houthis), northern Israel (Hezbollah), Iraq (Shia militias), potentially closing the Strait itself.",next:"Four scenarios: (1) US/Israeli limited strikes on nuclear facilities with contained Iranian retaliation, (2) last-minute diplomatic deal under extreme pressure, (3) continued posturing and gradual de-escalation, or (4) full-scale regional war if strikes trigger coordinated proxy retaliation across multiple fronts. Key variables: Trump's willingness to authorize strikes, Iran's calculation on negotiating vs. fighting, Israel's independent military action, and oil market reactions. Watch for IAEA inspection access, carrier positioning, and back-channel diplomacy through Oman."},news:[{source:"Reuters",bias:"center",time:"1h ago",headline:"US deploys second carrier strike group to Middle East",url:"#"},{source:"AP",bias:"center",time:"3h ago",headline:"Iran conducts live-fire drills in Strait of Hormuz",url:"#"},{source:"BBC",bias:"center-left",time:"5h ago",headline:"Trump gives Iran ultimatum on nuclear deal",url:"#"}]},"North Korea":{lat:40.34,lng:127.51,flag:"",risk:"extreme",region:"East Asia",pop:"26M",gdp:"$18B",leader:"Kim Jong Un",title:"Nuclear Threats",analysis:{what:'North Korea conducted two missile tests in January 2026ballistic missiles on Jan 4 and the advanced 600mm MLRS on Jan 27. Kim Jong Un oversaw hypersonic missile tests, citing "geopolitical crisis." The nuclear arsenal is estimated at 50+ warheads and growing. Kim Jong Un has declared South Korea a "hostile state" and abandoned reunification as a goal. Military cooperation with Russia has deepened, with North Korea providing ammunition for the Ukraine war in exchange for qualitative military modernization. North Korea is maintaining a non-antagonistic stance toward the US to keep the door open for a Trump summit, suppressing major provocations until after the April 2026 Trump-Xi summit. The population faces chronic food insecurity under strict totalitarian control.',why:"North Korea's nuclear weapons threaten South Korea, Japan, and potentially the US. Proliferation risk is highPyongyang has sold missile technology to Iran and others. Military miscalculation could trigger catastrophic war on the Korean Peninsula. The regime's brutality makes it among the world's worst human rights situations. US troops and alliance commitments in the region are directly affected.",next:"Denuclearization appears impossible given Kim's survival calculus. Watch for: weapons tests (especially nuclear), US-ROK exercises, Russia military cooperation, and any provocations. Crisis management rather than resolution is the realistic focus."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"North Korea fires ballistic missile toward Sea of Japan",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"Kim Jong Un inspects new missile submarine",url:"#"},{source:"Yonhap",bias:"center",time:"9h ago",headline:"Seoul condemns latest DPRK weapons test",url:"#"}]},Syria:{lat:34.8,lng:38.99,flag:"",risk:"extreme",region:"Middle East",pop:"22M",gdp:"$9B",leader:"Ahmad al-Sharaa",title:"Post-Assad Transition",analysis:{what:"Assad was overthrown in December 2024 by HTS rebels led by Ahmad al-Sharaa (Abu Mohammed al-Julani), ending over 50 years of Assad family rule. A provisional constitution was ratified establishing a 5-year transition period (2025-2030). The interim government is working to establish authority but faces enormous challenges: the northeast remains under Kurdish-led SDF control with US military presence, sectarian tensions persist, and ISIS exploits instability. Since January 2026, the Syrian army has been conducting a large-scale offensive against Kurdish SDF forces in the northeast. Over 1.2 million Syrians have returned from abroad and 2 million internally displaced have returned. The economy is devastated and over half the pre-war population remains displaced.",why:`Syria's transition from Assad's authoritarian rule is one of the most significant geopolitical shifts in the Middle East in decades. Russia lost its key Arab ally and Mediterranean military bases. Iran's "land bridge" to Hezbollah was severed. The outcome will determine whether Syria becomes a functioning state or fragments further. Reconstruction will require massive international investment. Millions of refugees may begin returning if stability holds.`,next:"The transitional government must unify a fractured country while managing competing armed factions. Watch for: Kurdish autonomy negotiations, ISIS resurgence, sectarian violence, international reconstruction aid, and whether al-Sharaa can transition from rebel leader to statesman. The 2026 northeastern offensive shows stability is far from assured."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Transitional government faces security challenges in northeast",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"SDF agreement hands provinces to interim authorities",url:"#"},{source:"Al Jazeera",bias:"left",time:"9h ago",headline:"Reconstruction plans stall as funding remains scarce",url:"#"}]},Lebanon:{lat:33.85,lng:35.86,flag:"",risk:"extreme",region:"Middle East",pop:"5.5M",gdp:"$22B",leader:"Joseph Aoun",title:"Post-Ceasefire Recovery",analysis:{what:"Lebanon elected Joseph Aoun as president in January 2025, ending a two-year vacancy. An Israel-Hezbollah ceasefire took effect in November 2024 after devastating Israeli military operations that killed Hezbollah's top leadership including Hassan Nasrallah. Hezbollah was significantly weakened but refuses full disarmament until Israel complies with ceasefire terms. The Lebanese army has begun first phases of Hezbollah disarmament. The economy remains in collapsethe currency lost 98% of value, banks froze deposits, and essential services barely function.",why:"Hezbollah's weakening has created a rare window for Lebanese state-building. But the ceasefire has been extensively violatedIsrael committed 11,000+ violations. Lebanon's recovery depends on institutional reform, Hezbollah's diminished role, and international support. The banking crisis remains unresolved.",next:"President Aoun faces the challenge of rebuilding state authority while managing Hezbollah disarmament. Watch for: ceasefire compliance, Hezbollah's political future, economic reform, and international reconstruction aid. The window for genuine reform may be narrow."},news:[{source:"Reuters",bias:"center",time:"1h ago",headline:"Lebanese army advances Hezbollah disarmament plan",url:"#"},{source:"AP",bias:"center",time:"4h ago",headline:"President Aoun pushes economic reform agenda",url:"#"},{source:"FT",bias:"center",time:"7h ago",headline:"Israel ceasefire violations strain fragile peace",url:"#"}]},Mali:{lat:17.57,lng:-4,flag:"",risk:"extreme",region:"Africa",pop:"22M",gdp:"$19B",leader:"Military Junta",title:"Wagner/Jihadi Conflict",analysis:{what:"Mali has been ruled by a military junta since 2020/2021 coups. French forces withdrew after a decade fighting jihadists, replaced by Russian Wagner Group mercenaries. Jihadi groups (linked to Al-Qaeda and ISIS) control vast northern territories. Wagner forces have been implicated in massacres of civilians. The junta has allied with Russia, expelled Western diplomats, and postponed elections indefinitely. Conflict has displaced millions.",why:"Mali is the epicenter of Sahel instability spreading across West Africa. Wagner presence expands Russian influence in Africa. Jihadi expansion threatens coastal West African states. Migration flows toward Europe originate here. Gold mining finances armed groups. The French withdrawal marks a strategic shift in Africa.",next:"The junta appears stable but faces jihadi resurgence. Watch for: territorial control changes, Wagner activities, refugee flows, and relations with neighbors. Without addressing governance and development, conflict will persist."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Jihadi attack kills dozens in central Mali",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"UN mission completes withdrawal from country",url:"#"},{source:"France24",bias:"center-left",time:"10h ago",headline:"Wagner forces accused of civilian massacres",url:"#"}]},"Burkina Faso":{lat:12.24,lng:-1.56,flag:"",risk:"extreme",region:"Africa",pop:"22M",gdp:"$19B",leader:"Ibrahim Traor",title:"Jihadi Violence",analysis:{what:"Burkina Faso has suffered two coups since 2022 as the military seized power amid security failures. Captain Ibrahim Traor, the world's youngest head of state at 35, expelled French forces and turned to Russia. Jihadi groups now control roughly 40% of the territory. Over 2 million people are displaced. Massacres occur regularly in rural areas. The junta has conscripted volunteers for self-defense.",why:"Burkina Faso's collapse accelerates the spread of Sahel instability toward coastal states like Ghana and Cte d'Ivoire. It demonstrates the limits of military responses to jihadi insurgency. Russian influence expands at French expense. Humanitarian crisis creates migration pressure. Gold mining areas are contested.",next:"The junta faces a worsening security situation despite Russian support. Watch for: territorial losses to jihadists, humanitarian conditions, coup risk, and regional spillover. State collapse is a real possibility."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Jihadi fighters seize town in northern region",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Displacement crisis worsens amid fighting",url:"#"},{source:"BBC",bias:"center-left",time:"9h ago",headline:"Military government extends emergency rule",url:"#"}]},Niger:{lat:17.61,lng:8.08,flag:"",risk:"extreme",region:"Africa",pop:"26M",gdp:"$15B",leader:"Military Junta",title:"Coup Government",analysis:{what:"A military coup in July 2023 overthrew Niger's elected president, ending the last democracy in the Sahel. The junta expelled French and US forces, aligned with Mali and Burkina Faso, and turned toward Russia. ECOWAS threatened intervention but backed down. Jihadi groups are expanding in the southeast. The population is among the world's poorest with severe food insecurity.",why:"Niger was a key Western partner for counterterrorism in the Sahelits loss is a major strategic setback. US drone base and French forces repositioned. Russian influence expands in a uranium-rich country. The coup demonstrates fragility of democracy in the region. Regional instability affects migration routes to Europe.",next:"The junta appears consolidated with regional support. Watch for: jihadi expansion, Russian military presence, humanitarian conditions, and ECOWAS relations. Return to civilian rule appears unlikely near-term."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Junta deepens ties with Russia and Iran",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"US completes military withdrawal",url:"#"},{source:"France24",bias:"center-left",time:"10h ago",headline:"Jihadi attacks increase in southeast",url:"#"}]},China:{lat:35.86,lng:104.2,flag:"",risk:"severe",region:"East Asia",pop:"1.4B",gdp:"$19.4T",leader:"Xi Jinping",title:"Economic Slowdown",analysis:{what:"China faces its most serious economic challenges in decades. The property sector30% of GDPis in crisis with major developers defaulting. Youth unemployment exceeded 20% before data publication stopped. Consumer confidence has collapsed. Deflation concerns have emerged. Local government debt is dangerous. Xi Jinping has consolidated unprecedented power while cracking down on tech giants and civil society. US-China tensions have intensified with semiconductor export controls.",why:"As the world's second-largest economy and largest trading nation, China's slowdown ripples globally. A hard landing could trigger global recession. Geopolitically, China's tech ambitions and military modernization pose the primary strategic challenge to US hegemony. Taiwan remains the most dangerous flashpoint. China's support for Russia and growing influence in the Global South reshape the international order.",next:'Expect gradual stimulus rather than a "bazooka" response. Property will drag for years. Watch for: social stability, consumption shifts, tech self-sufficiency, and Taiwan Strait activity. US-China tensions will remain contentious. Demographic decline poses long-term challenges.'},news:[{source:"FT",bias:"center",time:"1h ago",headline:"Beijing announces largest stimulus package since 2008",url:"#"},{source:"Bloomberg",bias:"center-right",time:"3h ago",headline:"Property sector woes deepen despite government support",url:"#"},{source:"Reuters",bias:"center",time:"6h ago",headline:"US expands chip export restrictions to more Chinese firms",url:"#"},{source:"WSJ",bias:"center-right",time:"9h ago",headline:"Consumer spending remains weak ahead of Lunar New Year",url:"#"}]},Venezuela:{lat:6.42,lng:-66.59,flag:"",risk:"extreme",region:"South America",pop:"28M",gdp:"$92B",leader:"Delcy Rodrguez (Acting)",title:"Post-Maduro Transition",analysis:{what:'On January 3, 2026, the US launched large-scale military strikes on Caracas in "Operation Absolute Resolve," capturing President Maduro and his wife Cilia Flores, removing them to face narco-terrorism charges in New York. Delcy Rodrguez was sworn in as acting president. Military and police have pledged loyalty to the interim government. The situation remains volatile as Venezuela navigates an unprecedented political transition.',why:"Venezuela has the world's largest proven oil reserves. The Maduro capture has created a power vacuum. Over 7 million Venezuelans have fled the country. US intervention has major implications for regional stability and great power competition.",next:"Watch for: stability of Rodrguez government, potential opposition return, US-Venezuela negotiations, and whether democratic transition occurs. Chavista loyalists may resist change."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Opposition leader calls for renewed protests",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Thousands more flee to Colombia amid crackdown",url:"#"},{source:"Bloomberg",bias:"center-right",time:"8h ago",headline:"Oil production edges up despite sanctions",url:"#"}]},Pakistan:{lat:30.38,lng:69.35,flag:"",risk:"severe",region:"South Asia",pop:"231M",gdp:"$350B",leader:"Shehbaz Sharif",title:"Economic & Political Crisis",analysis:{what:"Pakistan faces severe economic crisis with inflation above 30%, IMF bailouts, and depleted foreign reserves. Former PM Imran Khan was jailed on multiple charges his supporters call politically motivated. The military remains the ultimate power broker, engineering Khan's removal and subsequent elections. Terrorism has resurged with TTP attacks from Afghanistan. Climate disasters (2022 floods killed 1,700) add to challenges.",why:"Pakistan is a nuclear-armed state of 230 millioninstability has global implications. Taliban-controlled Afghanistan enables cross-border terrorism. Pakistan's relations with India remain tense. Its economic crisis affects regional trade. The military's political role undermines democratic consolidation.",next:"IMF conditionality will impose painful reforms. Watch for: economic indicators, Khan's legal battles, military-civilian relations, and terrorism. Structural reform is needed but politically difficult."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"IMF approves next loan tranche after reforms",url:"#"},{source:"Dawn",bias:"center",time:"5h ago",headline:"Imran Khan faces new charges in prison",url:"#"},{source:"AP",bias:"center",time:"8h ago",headline:"Terrorist attack kills soldiers near Afghan border",url:"#"}]},Bangladesh:{lat:23.68,lng:90.36,flag:"",risk:"stormy",region:"South Asia",pop:"170M",gdp:"$460B",leader:"Tarique Rahman",title:"New Government",analysis:{what:"BNP won a landslide in the Feb 12 2026 general electionthe first since the 2024 July Revolution ousted Sheikh Hasina. Tarique Rahman was sworn in as PM on February 17, 2026, after BNP secured ~211 of 299 seats. Jamaat-e-Islami won ~70 seats as main opposition. The July Charter constitutional referendum passed with 72.9% approval. Voter turnout was 47.9%.",why:"Bangladesh is a garment manufacturing powerhouse supplying global brandspolitical stability is critical for supply chains. It hosts the world's largest refugee camp. Climate change threatens this low-lying nation of 170 million. The democratic transition's success will influence regional politics and India relations.",next:"Watch for BNP government formation, Tarique Rahman's policy direction, relations with India (complicated by Hasina's exile there), implementation of July Charter reforms, and economic stabilization. Jamaat-e-Islami's role as opposition will shape the political landscape."},news:[{source:"Al Jazeera",bias:"center",time:"2h ago",headline:"BNP wins landslide with ~211 seats in historic election",url:"#"},{source:"Reuters",bias:"center",time:"4h ago",headline:"July Charter referendum passes with 72.9% approval",url:"#"},{source:"BBC",bias:"center-left",time:"6h ago",headline:"Tarique Rahman set to lead Bangladesh after BNP victory",url:"#"}]},Turkey:{lat:38.96,lng:35.24,flag:"",risk:"severe",region:"Middle East",pop:"85M",gdp:"$906B",leader:"Recep Erdoan",title:"Economic Crisis",analysis:{what:"Turkey faces severe economic crisis with inflation exceeding 60%, currency collapse, and unorthodox monetary policy that deterred investment. Erdoan won 2023 elections despite the economy, consolidating power further. Relations with the West are strained over S-400 missiles, Syria policy, and NATO enlargement. Devastating earthquakes in 2023 killed 50,000+. Kurdish conflict continues.",why:"Turkey controls the Bosphorus straits critical to Black Sea shipping. It's a NATO ally but often at odds with Western interests. Turkey hosts 4 million Syrian refugees affecting European migration. Its drone technology is globally significant. Erdoan's balancing between Russia and the West creates uncertainty.",next:"Orthodox economic policy has begun with rate hikes but pain will continue. Watch for: inflation trajectory, Erdoan's health/succession, NATO relations, and Kurdish peace prospects. Structural reform is needed but Erdoan resists liberalization."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Central bank raises rates to combat inflation",url:"#"},{source:"FT",bias:"center",time:"5h ago",headline:"Lira stabilizes after policy shift",url:"#"},{source:"AP",bias:"center",time:"8h ago",headline:"Erdoan meets Putin for talks on Ukraine grain deal",url:"#"}]},Egypt:{lat:26.82,lng:30.8,flag:"",risk:"severe",region:"North Africa",pop:"105M",gdp:"$387B",leader:"Abdel Fattah el-Sisi",title:"Economic Crisis",analysis:{what:"Egypt faces severe foreign currency shortage, forcing multiple devaluations and IMF intervention. Inflation has hit 35%+. Sisi has built megaprojects (new capital city) while debt ballooned. The military controls much of the economy. Repression of dissent is severe with tens of thousands of political prisoners. Gaza conflict has strained relations with Israel while Egypt controls the Rafah crossing.",why:"Egypt controls the Suez Canal12% of global trade. Its 105 million people make it the Arab world's most populous country. It's a key US ally receiving $1.3 billion in annual military aid. Stability matters for Libya, Sudan, and Gaza. Water disputes with Ethiopia over the Nile dam are serious.",next:"UAE investment has provided relief but structural problems remain. Watch for: currency stability, IMF conditions, Gaza spillover, and Nile negotiations. Economic discontent poses medium-term risk to regime stability."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Egypt secures new IMF agreement amid crisis",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Suez Canal revenues drop due to Houthi attacks",url:"#"},{source:"Bloomberg",bias:"center-right",time:"8h ago",headline:"UAE investment helps stabilize pound",url:"#"}]},Argentina:{lat:-38.42,lng:-63.62,flag:"",risk:"severe",region:"South America",pop:"46M",gdp:"$641B",leader:"Javier Milei",title:"Economic Crisis",analysis:{what:"Argentina has suffered chronic economic crisis with inflation exceeding 200%the world's highest. Libertarian President Javier Milei, elected in 2023, is implementing radical austerity: massive spending cuts, devaluation, and deregulation. Poverty has spiked to 50%+. Protests are frequent but Milei retains support among those desperate for change. IMF debt is being restructured.",why:"Argentina is South America's second-largest economy with major agricultural exports. Milei's experiment tests whether shock therapy can break chronic inflation. His alignment with the US and Israel marks a regional shift. Lithium reserves make Argentina important for battery supply chains.",next:"Milei faces the challenge of maintaining support through painful adjustment. Watch for: inflation trends, social unrest, congressional support, and investment flows. Success would validate radical reform; failure could bring backlash."},news:[{source:"Reuters",bias:"center",time:"1h ago",headline:"Milei announces new round of spending cuts",url:"#"},{source:"FT",bias:"center",time:"4h ago",headline:"Inflation shows first signs of slowing",url:"#"},{source:"AP",bias:"center",time:"7h ago",headline:"Thousands protest austerity measures in Buenos Aires",url:"#"}]},Nigeria:{lat:9.08,lng:8.68,flag:"",risk:"severe",region:"Africa",pop:"223M",gdp:"$477B",leader:"Bola Tinubu",title:"Security Crisis",analysis:{what:"Nigeria faces multiple security crises: Boko Haram insurgency in the northeast, banditry in the northwest, separatist agitation in the southeast, and farmer-herder conflicts across the middle belt. President Tinubu removed fuel subsidies causing prices to triple, sparking hardship. The economy struggles with oil theft reducing production, high inflation, and unemployment. Kidnapping for ransom is endemic.",why:"Nigeria is Africa's most populous country (223 million) and largest economy. It's a major oil producer though output has declined. Instability affects the entire West African region. The country is critical for regional peacekeeping. Diaspora remittances are globally significant.",next:"Tinubu faces immense challenges with few resources. Watch for: security situation in each region, economic reforms, oil production recovery, and 2027 election positioning. Structural decline continues without major reforms."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Bandit attack kills dozens in northwest state",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Protests over rising fuel costs spread",url:"#"},{source:"Bloomberg",bias:"center-right",time:"8h ago",headline:"Central bank raises rates to fight inflation",url:"#"}]},Ethiopia:{lat:9.15,lng:40.49,flag:"",risk:"severe",region:"Africa",pop:"126M",gdp:"$126B",leader:"Abiy Ahmed",title:"Post-War Tensions",analysis:{what:"The 2020-2022 Tigray war killed an estimated 600,000 peopleone of the deadliest conflicts this century. A ceasefire holds but tensions remain with Eritrean troops still present. Ethnic conflicts continue in Amhara and Oromia regions. PM Abiy Ahmed, once a Nobel Peace laureate, is now accused of authoritarianism. The economy struggles with debt and inflation. A new Red Sea access deal with Somaliland has angered Somalia.",why:"Ethiopia is Africa's second most populous country and a regional power. The Grand Ethiopian Renaissance Dam affects Egypt's water supply. Instability affects the entire Horn of Africa. It was a key US partner on counterterrorism. The country's trajectory matters for 126 million people.",next:"Post-war reconciliation is incomplete and ethnic tensions persist. Watch for: Tigray integration, regional conflicts, dam negotiations, and economic reforms. Abiy faces the challenge of holding together a fractious federation."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Fighting continues in Amhara region",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"Somalia protests Ethiopia port deal",url:"#"},{source:"BBC",bias:"center-left",time:"9h ago",headline:"Tigray reconstruction faces funding shortfall",url:"#"}]},Iraq:{lat:33.22,lng:43.68,flag:"",risk:"severe",region:"Middle East",pop:"44M",gdp:"$270B",leader:"Mohammed al-Sudani",title:"Fragile Stability",analysis:{what:"Iraq has achieved relative stability after years of war against ISIS. But Iran-backed militias hold significant power, sometimes attacking US forces. PM al-Sudani governs through a coalition including these militias. Oil revenues provide budget but corruption is endemic. Kurdistan region tensions persist. Basic services remain inadequate. Political dysfunction continues with parliament often paralyzed.",why:"Iraq is OPEC's second-largest producer and vital to global energy supply. It's a key arena for US-Iran competition. Stability affects Syria, Jordan, and the Gulf. ISIS could resurge if governance fails. Iranian influence challenges US interests.",next:"The current stability is fragile and dependent on oil prices. Watch for: US-militia tensions, Kurdistan disputes, service delivery, and ISIS remnants. Without addressing corruption and governance, Iraq cannot achieve its potential."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Iran-backed militia attacks US base",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Oil revenues boost budget amid price rise",url:"#"},{source:"Al Jazeera",bias:"left",time:"8h ago",headline:"Protests demand better services in Basra",url:"#"}]},Libya:{lat:26.34,lng:17.23,flag:"",risk:"severe",region:"North Africa",pop:"7M",gdp:"$41B",leader:"Divided",title:"Civil Conflict",analysis:{what:"Libya remains divided between rival governments in Tripoli (west) and Benghazi (east) since the 2011 overthrow of Gaddafi. Armed militias control territory across the country. Oil production fluctuates based on conflict. Turkey backs the western government while Russia, Egypt, and UAE support the east. Migration from sub-Saharan Africa flows through Libya toward Europe. Elections remain blocked.",why:"Libya has Africa's largest proven oil reserves. It's the main departure point for Mediterranean migration to Europe. Russian Wagner forces operate in the east, expanding Moscow's African presence. Instability affects neighbors Tunisia, Egypt, and Niger.",next:"Unification efforts have repeatedly failed. Watch for: oil production disruptions, election attempts, foreign interference, and migration flows. Partition is increasingly the de facto reality."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Oil production halted amid militia clashes",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"UN envoy pushes for delayed elections",url:"#"}]},Algeria:{lat:28.03,lng:1.66,flag:"",risk:"stormy",region:"North Africa",pop:"45M",gdp:"$190B",leader:"Abdelmadjid Tebboune",title:"Post-Bouteflika Era",analysis:{what:"Algeria is Africa's largest country by area. The 2019 Hirak protests forced out longtime leader Bouteflika, but the military-backed system remains. President Tebboune governs with limited reform. Press freedom is restricted and opposition activists face prosecution. The economy depends heavily on oil and gas exports to Europe.",why:"Algeria is a major gas supplier to Europe, gaining leverage after Russia's invasion of Ukraine. It has tense relations with Morocco over Western Sahara. The country is a key player in Sahel security. Youth unemployment and housing shortages fuel discontent.",next:"Watch for: energy deals with Europe, Western Sahara tensions with Morocco, and whether political space opens or further restricts."},news:[{source:"Reuters",bias:"center",time:"4h ago",headline:"Gas exports to Europe increase amid energy crunch",url:"#"},{source:"Al Jazeera",bias:"center-left",time:"8h ago",headline:"Opposition figures call for political reforms",url:"#"}]},Tunisia:{lat:33.89,lng:9.54,flag:"",risk:"severe",region:"North Africa",pop:"12M",gdp:"$47B",leader:"Kais Saied",title:"Democratic Backsliding",analysis:{what:"President Kais Saied has dismantled Tunisia's democracythe only success of the Arab Springby suspending parliament, rewriting the constitution, and jailing opponents. The economy is in crisis requiring IMF intervention. Migration to Europe has surged. Critics and journalists face prosecution. The opposition is fragmented and suppressed.",why:"Tunisia's democratic collapse is a cautionary tale for the region. Migration pressure affects Europe. Economic failure creates instability near Libya. The country was seen as proof that Arab democracy was possible.",next:"Saied appears secure despite economic failure. Watch for: IMF negotiations, repression levels, migration flows, and any protest emergence. Democratic reversal appears unlikely near-term."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"IMF talks stall over subsidy reforms",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Opposition figures arrested in crackdown",url:"#"}]},Ecuador:{lat:-1.83,lng:-78.18,flag:"",risk:"severe",region:"South America",pop:"18M",gdp:"$107B",leader:"Daniel Noboa",title:"Gang Violence Surge",analysis:{what:"Ecuador has experienced explosive gang violence, transforming from one of Latin America's safest countries to among its most dangerous. Drug trafficking organizations have taken over prisons and cities. The murder rate has quadrupled since 2018. Young President Daniel Noboa declared a state of emergency and deployed the military. A TV station was stormed live on air by gunmen.",why:"Ecuador's collapse shows how quickly drug trafficking can destabilize a country. It's now a major cocaine transit point between Colombia and the US/Europe. Regional crime networks are interconnected. Tourism has collapsed.",next:"Noboa faces gangs that may be more powerful than the state. Watch for: violence levels, military effectiveness, prison control, and whether cartels can be pushed back. The country's future hangs in the balance."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Gang attacks continue despite military deployment",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Noboa extends state of emergency",url:"#"}]},Georgia:{lat:42.32,lng:43.36,flag:"",risk:"severe",region:"Caucasus",pop:"3.7M",gdp:"$25B",leader:"Salome Zourabichvili",title:"Pro-Russia Turn",analysis:{what:`Georgia's ruling Georgian Dream party has shifted toward Russia, passing a "foreign agents" law modeled on Russian legislation and cracking down on protests. The EU froze Georgia's membership candidacy. Mass protests erupted but were suppressed. President Zourabichvili opposes the government but has limited power. The 2024 elections were disputed.`,why:"Georgia was a pro-Western success story in the post-Soviet spaceits reversal is significant. It borders Russia, which occupies 20% of its territory. The shift affects the South Caucasus corridor between Europe and Asia.",next:"The government appears committed to its pro-Russia turn despite public opposition. Watch for: protest dynamics, EU relations, Russian influence, and any political change. Democratic backsliding continues."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"EU freezes Georgia membership talks",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Opposition protests continue in Tbilisi",url:"#"}]},Armenia:{lat:40.07,lng:45.04,flag:"",risk:"severe",region:"Caucasus",pop:"2.8M",gdp:"$20B",leader:"Nikol Pashinyan",title:"Post-Karabakh Crisis",analysis:{what:"Armenia suffered a devastating defeat in the 2020 Nagorno-Karabakh war and lost the territory entirely in 2023 when Azerbaijan seized it, forcing 100,000 Armenians to flee. PM Pashinyan faces anger over the losses. Relations with Russia have soured as Moscow failed to protect Armenia. The country is pivoting toward the West. Azerbaijan may push for further concessions.",why:"The Karabakh outcome shows the limits of Russian security guaranteessignificant for other post-Soviet states. Armenia's Western pivot could reshape South Caucasus geopolitics. The humanitarian crisis of displaced Karabakh Armenians is ongoing.",next:"Armenia faces an emboldened Azerbaijan and uncertain Russian support. Watch for: border negotiations, peace treaty prospects, domestic politics, and Western integration. The country is in strategic transition."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Armenia-Azerbaijan peace talks resume",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"Karabakh refugees struggle to rebuild",url:"#"}]},Belarus:{lat:53.71,lng:27.95,flag:"",risk:"severe",region:"Eastern Europe",pop:"9M",gdp:"$73B",leader:"Lukashenko",title:"Russian Ally",analysis:{what:"Alexander Lukashenko brutally suppressed 2020 protests against his disputed election, remaining in power with Russian support. Belarus has become a Russian military platform, hosting troops and allowing invasion of Ukraine from its territory. Western sanctions are severe. Opposition leaders are jailed or exiled. The economy is propped up by Russian subsidies.",why:"Belarus is effectively a Russian satellite state on NATO's border. It hosts Russian nuclear weapons. The country's airspace and territory are used against Ukraine. Opposition to Lukashenko represents potential future instability.",next:"Lukashenko appears secure as long as Russia supports him. Watch for: his health (age 70), succession planning, Russian demands, and migr opposition activities. True independence seems impossible while Russia is strong."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Belarus extends military cooperation with Russia",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"Opposition leader sentenced to 18 years",url:"#"}]},Moldova:{lat:47.41,lng:28.37,flag:"",risk:"severe",region:"Eastern Europe",pop:"2.6M",gdp:"$15B",leader:"Maia Sandu",title:"Russia Pressure",analysis:{what:"Pro-European President Maia Sandu faces Russian destabilization efforts including: support for separatist Transnistria, energy blackmail, disinformation campaigns, and alleged coup plots. Moldova gained EU candidate status but faces challenges implementing reforms. The Transnistria region hosts Russian troops. Economic dependence on remittances makes the country vulnerable.",why:"Moldova is a frontline state in the Russia-West confrontation, sandwiched between Ukraine and NATO member Romania. Its EU integration would be a strategic defeat for Moscow. Russian troops in Transnistria are 50km from Odesa.",next:"Sandu won reelection despite Russian interference but faces continued pressure. Watch for: EU integration progress, Transnistria negotiations, Russian hybrid attacks, and energy security. The country's Western path is contested."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Moldova accuses Russia of election interference",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"EU approves next step in membership talks",url:"#"}]},Cuba:{lat:21.52,lng:-77.78,flag:"",risk:"severe",region:"Caribbean",pop:"11M",gdp:"$107B",leader:"Daz-Canel",title:"Economic Crisis",analysis:{what:'Cuba faces its worst economic crisis since the 1990s "Special Period." Food and medicine shortages are severe. Power blackouts are frequent. Inflation has surged. Mass protests in 2021 were suppressed with hundreds jailed. Migration to the US has surged to record levels. The government blames US sanctions while critics cite mismanagement.',why:"Cuba's crisis drives record migration to the US, a major political issue. The country's trajectory affects Latin American left politics. US-Cuba relations remain frozen. The island's location gives it strategic significance.",next:"The regime appears stable despite the crisis, but emigration provides a safety valve. Watch for: economic conditions, migration flows, any political opening, and US policy changes. Significant reform seems unlikely under current leadership."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Power grid collapses again leaving millions without electricity",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"Record number of Cubans reach US border",url:"#"}]},Nicaragua:{lat:12.87,lng:-85.21,flag:"",risk:"severe",region:"Central America",pop:"7M",gdp:"$15B",leader:"Daniel Ortega",title:"Authoritarian Rule",analysis:{what:"Daniel Ortega has transformed Nicaragua into a family dictatorship. Opposition leaders have been jailed or exiled. NGOs and media have been shut down. The Catholic Church is persecuted with bishops imprisoned. Elections are shams. The country has aligned with Russia, China, and Iran. Thousands have fled.",why:"Nicaragua's authoritarian consolidation is complete, joining Cuba and Venezuela as regional dictatorships. Its alignment with US adversaries is concerning. Migration affects Central American stability. Democratic norms in the region are weakened.",next:"Ortega faces no serious internal challenge. Watch for: succession planning (his wife is VP), relations with adversaries, migration trends, and regional responses. The dictatorship appears durable."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Ortega expels more NGOs from country",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"Catholic bishop sentenced to 26 years",url:"#"}]},"United States":{lat:37.09,lng:-95.71,flag:"",risk:"stormy",region:"North America",pop:"335M",gdp:"$30.6T",leader:"Donald Trump",title:"Assertive Foreign Policy",analysis:{what:"Trump's second term has reshaped US foreign policy with aggressive unilateral action: the capture of Venezuelan President Maduro in January 2026, an Iran nuclear ultimatum with massive military buildup, and brokering Ukraine-Russia peace talks in Geneva. Domestically, mass deportations and federal spending cuts have been polarizing. Trade wars have escalated with tariffs on allies and adversaries alike. The economy shows resilience but tariff uncertainty rattles markets.",why:"As the world's largest economy (25% of global GDP), dominant military power, and linchpin of the Western alliance, American decisions reverberate globally. Trump's transactional approach to alliances has unsettled traditional partners. US-brokered Ukraine talks represent the most significant peace effort since the war began. The Iran confrontation could trigger a regional war.",next:"The 2026 midterm elections will determine Congressional control. Watch for: Iran nuclear standoff, Ukraine peace negotiations, Venezuela stability, tariff impacts on global trade, and whether Trump's aggressive foreign policy yields lasting results or new conflicts."},news:[{source:"AP",bias:"center",time:"1h ago",headline:"Geneva talks on Ukraine show incremental progress",url:"#"},{source:"Reuters",bias:"center",time:"3h ago",headline:"Iran ultimatum deadline approaches amid military buildup",url:"#"},{source:"WSJ",bias:"center-right",time:"5h ago",headline:"Tariff uncertainty rattles global markets",url:"#"},{source:"NYT",bias:"center-left",time:"7h ago",headline:"Federal spending cuts face legal challenges",url:"#"}]},France:{lat:46.23,lng:2.21,flag:"",risk:"stormy",region:"Western Europe",pop:"68M",gdp:"$3.4T",leader:"Emmanuel Macron",title:"Political Fragmentation",analysis:{what:"France faces severe political instability. The 2024 snap elections produced a hung parliament, and France has cycled through multiple PMsFranois Bayrou fell in September 2025 over the budget, and Sbastien Lecornu was appointed, briefly resigned, and was re-appointed in October 2025. Macron's centrist coalition is weakened with both the far-right (Le Pen) and far-left (Mlenchon) gaining ground. The economy struggles with high debt and sluggish growth.",why:"France is the EU's second-largest economy and a nuclear power with global reach. The political paralysis hampers EU decision-making. France has committed troops to a potential Ukraine ceasefire monitoring force. Far-right gains would significantly impact EU and NATO.",next:"Macron is a lame duck until 2027 elections. Watch for: PM Lecornu's survival, Le Pen's positioning, budget battles, and EU leadership role. France's political instability is increasingly a European problem."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"PM Lecornu faces budget pressure from opposition",url:"#"},{source:"Le Monde",bias:"center-left",time:"5h ago",headline:"Le Pen consolidates far-right support",url:"#"},{source:"FT",bias:"center",time:"8h ago",headline:"France pledges troops for Ukraine monitoring force",url:"#"}]},Germany:{lat:51.17,lng:10.45,flag:"",risk:"stormy",region:"Western Europe",pop:"84M",gdp:"$5.0T",leader:"Friedrich Merz",title:"New Government",analysis:{what:"Friedrich Merz (CDU/CSU) became chancellor in May 2025 after winning the February 2025 election with the highest voter turnout since reunification (82.5%). He leads a grand coalition with the SPD. Germany faces structural economic challenges as its industrial modelbased on cheap Russian energy and exports to Chinahas unraveled. The economy has stagnated. Energy transition costs are high. The far-right AfD remains a significant political force. Immigration and defense spending dominate policy debates.",why:"Germany is Europe's largest economy and the EU's de facto leader. German industry is central to European supply chains. Merz has signaled a more assertive foreign policy and increased defense spending. Political shifts here reshape the entire EU. Germany's economic recovery is critical for European stability.",next:"Merz must revive the economy while managing coalition tensions with the SPD. Watch for: economic indicators, defense spending increases, AfD's trajectory, and EU leadership on Ukraine. Germany faces generational challenges requiring structural reform."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Merz government unveils economic reform package",url:"#"},{source:"FT",bias:"center",time:"5h ago",headline:"Germany increases defense budget significantly",url:"#"},{source:"DW",bias:"center",time:"8h ago",headline:"Grand coalition faces first policy tests",url:"#"}]},Brazil:{lat:-14.24,lng:-51.93,flag:"",risk:"stormy",region:"South America",pop:"215M",gdp:"$2.26T",leader:"Lula da Silva",title:"Amazon & Politics",analysis:{what:"President Lula returned to power in 2023 after defeating Bolsonaro, whose supporters stormed government buildings. Amazon deforestation has declined under Lula's policies. The economy is growing moderately with inflation controlled. But political polarization remains intense and Bolsonaro retains significant support despite legal troubles.",why:"Brazil is the world's largest rainforest nationits Amazon policies affect global climate. It's Latin America's largest economy. Lula has sought to rebuild Brazil's global diplomatic role. Political stability here affects the entire region.",next:"Lula faces challenges balancing environmental goals with development. Watch for: Amazon policy, economic performance, Bolsonaro's legal fate, and 2026 election positioning. Polarization will persist."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Amazon deforestation hits five-year low",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Bolsonaro charged in coup investigation",url:"#"},{source:"Bloomberg",bias:"center-right",time:"8h ago",headline:"Central bank signals rate cuts ahead",url:"#"}]},Mexico:{lat:23.63,lng:-102.55,flag:"",risk:"stormy",region:"North America",pop:"130M",gdp:"$1.3T",leader:"Claudia Sheinbaum",title:"Cartel Violence",analysis:{what:`Mexico faces entrenched cartel violence with over 30,000 homicides annually. President Sheinbaum, the first female president, continues her predecessor's "hugs not bullets" approach despite criticism. Fentanyl trafficking to the US dominates bilateral relations. Nearshoring is boosting manufacturing as companies leave China. Democratic institutions face pressure.`,why:"Mexico is the US's largest trading partner and shares a 2,000-mile border. Migration and drug trafficking are central to US politics. Nearshoring makes Mexico increasingly important to supply chains. Instability would directly affect the US.",next:"Sheinbaum must address security while maintaining economic growth. Watch for: cartel violence, US relations, nearshoring investment, and judicial reforms. The relationship with the US will remain complex."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Cartel violence surges in Sinaloa state",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"US presses Mexico on fentanyl trafficking",url:"#"},{source:"WSJ",bias:"center-right",time:"8h ago",headline:"Manufacturers flock to Mexico amid nearshoring boom",url:"#"}]},India:{lat:20.59,lng:78.96,flag:"",risk:"stormy",region:"South Asia",pop:"1.4B",gdp:"$4.13T",leader:"Narendra Modi",title:"Rising Power",analysis:{what:"India is the world's fastest-growing major economy and most populous country. PM Modi won a third term but with reduced majority, requiring coalition partners. Hindu nationalism has risen, with concerns about Muslim minority treatment. Relations with China remain tense after border clashes. India is courted by both the US and Russia.",why:"India is a crucial swing state in great power competitionboth the US and China seek its partnership. Its massive market and young population offer economic potential. It's a nuclear power and major military force. Indian diaspora is globally influential.",next:"Modi must balance growth with inclusion while navigating between great powers. Watch for: economic reforms, religious tensions, China border, and strategic alignments. India's trajectory will shape this century."},news:[{source:"Reuters",bias:"center",time:"1h ago",headline:"India GDP growth exceeds expectations",url:"#"},{source:"AP",bias:"center",time:"4h ago",headline:"Modi meets with US officials on defense ties",url:"#"},{source:"BBC",bias:"center-left",time:"7h ago",headline:"Religious tensions flare in multiple states",url:"#"}]},"South Korea":{lat:35.91,lng:127.77,flag:"",risk:"stormy",region:"East Asia",pop:"52M",gdp:"$1.87T",leader:"Lee Jae-myung",title:"Post-Crisis Recovery",analysis:{what:"South Korea experienced its most severe constitutional crisis since democratization when President Yoon Suk Yeol declared martial law in December 2024, quickly reversed by parliament. He was impeached (204 of 300 votes), the Constitutional Court upheld removal unanimously in April 2025, and in February 2026 Yoon was sentenced to life in prison for insurrection. Lee Jae-myung won the June 2025 snap election and has worked to restore stability. The economy remains a technological powerhouse but faces headwinds from China's slowdown.",why:"South Korea is a major economy, technological powerhouse (Samsung, semiconductors), and crucial US ally. It hosts 28,000 US troops facing North Korea. The democratic system proved resilientmartial law was reversed in hours, impeachment proceeded through institutions, and peaceful elections followed. Korean pop culture has global reach.",next:"Lee Jae-myung must rebuild institutional trust and manage North Korean threats. Watch for: economic performance, North Korea policy, US alliance management, and political reconciliation. South Korea's democracy emerged strengthened from its greatest test."},news:[{source:"Reuters",bias:"center",time:"1h ago",headline:"Yoon sentenced to life in prison for insurrection",url:"#"},{source:"Yonhap",bias:"center",time:"4h ago",headline:"Lee government focuses on economic recovery",url:"#"},{source:"AP",bias:"center",time:"7h ago",headline:"South Korea strengthens semiconductor investments",url:"#"}]},"Saudi Arabia":{lat:23.89,lng:45.08,flag:"",risk:"stormy",region:"Middle East",pop:"36M",gdp:"$1.1T",leader:"MBS",title:"Vision 2030",analysis:{what:"Crown Prince Mohammed bin Salman (MBS) is rapidly transforming Saudi Arabia through Vision 2030diversifying away from oil dependence. Megaprojects like NEOM ($500B futuristic city), sports investments (LIV Golf, Newcastle FC), and entertainment liberalization mark dramatic changes. But the murder of journalist Khashoggi, Yemen war involvement, and suppression of dissent continue. Oil production decisions heavily influence global energy markets.",why:"Saudi Arabia is the world's swing oil producer, able to influence global prices. It controls Islam's holiest sites. MBS's regional policiesYemen war, Qatar blockade (now ended), Abraham Accords negotiationsreshape the Middle East. The kingdom's sovereign wealth fund is one of the world's largest, acquiring global assets.",next:"Vision 2030's success is uncertain given oil price volatility and ambitious spending. Watch for: oil production decisions, normalization with Israel (paused after Gaza), succession dynamics, and social reform pace. The transformation is real but faces significant headwinds."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"OPEC+ maintains production cuts amid demand concerns",url:"#"},{source:"FT",bias:"center",time:"5h ago",headline:"NEOM faces delays and cost overruns",url:"#"}]},"South Africa":{lat:-30.56,lng:22.94,flag:"",risk:"stormy",region:"Africa",pop:"60M",gdp:"$399B",leader:"Ramaphosa",title:"Coalition Government",analysis:{what:"The ANC lost its majority for the first time since 1994, forced into coalition with the DA and others. President Ramaphosa continues but with weakened mandate. The economy struggles with load shedding (power cuts), high unemployment (32%), and infrastructure decay. Crime is severe. Corruption scandals have eroded trust.",why:"South Africa is Africa's most industrialized economy and a regional anchor. Its trajectory affects the entire southern African region. The country's stance on Russia and Palestine puts it at odds with Western allies. Its financial markets are Africa's most developed.",next:"The coalition government faces the challenge of reform while maintaining stability. Watch for: power crisis resolution, economic reforms, corruption prosecutions, and coalition dynamics. The country is at an inflection point."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Load shedding eases as new power plants come online",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"Coalition tensions flare over cabinet posts",url:"#"}]},Kenya:{lat:-.02,lng:37.91,flag:"",risk:"stormy",region:"Africa",pop:"54M",gdp:"$113B",leader:"William Ruto",title:"Protests & Debt",analysis:{what:'Mass youth-led protests in 2024 forced President Ruto to withdraw a controversial tax bill and reshuffle his cabinet. The economy is strained by high debt servicing costsnearly half of revenue goes to debt payments. Kenya leads the Haiti security mission despite domestic challenges. Tech sector ("Silicon Savannah") remains a bright spot.',why:"Kenya is East Africa's largest economy and a key US security partner in the region. It's a hub for regional business and technology. The youth protest movement could inspire similar actions across Africa. Kenya's debt distress mirrors broader emerging market challenges.",next:"Ruto faces the difficult balance of fiscal reform versus public anger. Watch for: debt restructuring, protest dynamics, Haiti mission progress, and 2027 election positioning. The government's reform agenda faces significant headwinds."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Kenya secures debt relief from creditors",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Youth activists maintain pressure on government",url:"#"}]},Colombia:{lat:4.57,lng:-74.3,flag:"",risk:"stormy",region:"South America",pop:"52M",gdp:"$314B",leader:"Gustavo Petro",title:"Peace Process",analysis:{what:`President Petro, Colombia's first leftist leader, has pursued "total peace"negotiations with multiple armed groups. Results are mixed: talks with ELN guerrillas have stalled, while some groups have demobilized. Coca production remains at record levels. Relations with the US are strained. Economic reforms have been controversial.`,why:"Colombia is the world's largest cocaine producer. Its stability affects the entire region. The country hosts 2+ million Venezuelan refugees. US-Colombia relations are historically close but now tested. The peace process outcome will determine security for decades.",next:"Petro's ambitious agenda faces congressional opposition and armed group intransigence. Watch for: peace negotiations, coca policy, economic reforms, and 2026 elections. The country's direction depends on peace process success."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"ELN peace talks resume after breakdown",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"Coca production hits new record despite eradication efforts",url:"#"}]},Peru:{lat:-9.19,lng:-75.02,flag:"",risk:"stormy",region:"South America",pop:"34M",gdp:"$242B",leader:"Dina Boluarte",title:"Political Instability",analysis:{what:"Peru has cycled through multiple presidents in recent years amid political chaos. President Boluarte faces very low approval after taking power when Castillo was impeached and arrested for attempting a self-coup. Protests killed dozens. Mining remains the economic backbone but faces social opposition. Corruption scandals have touched virtually every political figure.",why:"Peru is the world's second-largest copper producer, critical for the energy transition. Political instability deters investment in a resource-rich country. Regional drug trafficking flows through Peru. The pattern of presidential dysfunction weakens democratic institutions.",next:"Boluarte will likely serve until 2026 elections but with minimal legitimacy. Watch for: mining investment, social conflicts, corruption prosecutions, and electoral dynamics. Structural political reform seems unlikely."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Mining protests block major copper operations",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Boluarte approval ratings hit new low",url:"#"}]},Thailand:{lat:15.87,lng:100.99,flag:"",risk:"stormy",region:"Southeast Asia",pop:"70M",gdp:"$495B",leader:"Paetongtarn",title:"Political Uncertainty",analysis:{what:"Thailand's politics remain turbulent despite a new government led by Paetongtarn Shinawatra, daughter of exiled former PM Thaksin. The progressive Move Forward party was dissolved by constitutional court despite winning the most seats. The military and monarchy retain enormous influence. Economic growth has lagged regional peers. Tourism has recovered post-COVID.",why:"Thailand is Southeast Asia's second-largest economy and a major tourist destination. The monarchy is deeply revered but succession creates uncertainty. The country's position between US and China shapes regional dynamics. Its political instability (19 coups since 1932) affects investment.",next:"The Shinawatra-linked government faces military and conservative establishment skepticism. Watch for: coalition stability, economic reforms, lse-majest prosecutions, and relations with progressive opposition. Another political disruption cannot be ruled out."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"New government faces constitutional court challenges",url:"#"},{source:"Nikkei",bias:"center",time:"5h ago",headline:"Tourism revenues approach pre-COVID levels",url:"#"}]},Philippines:{lat:12.88,lng:121.77,flag:"",risk:"stormy",region:"Southeast Asia",pop:"115M",gdp:"$404B",leader:"Marcos Jr",title:"China Tensions",analysis:{what:"President Marcos Jr has shifted from his predecessor Duterte's China-friendly stance, strengthening US alliance ties amid South China Sea tensions. Chinese vessels regularly confront Philippine boats at disputed reefs. The Visiting Forces Agreement with the US was renewed, and new base access granted. A rift has developed between Marcos and VP Sara Duterte (daughter of the former president).",why:"The Philippines sits on critical South China Sea shipping lanes where $3 trillion in trade passes annually. It's a key US ally hosting military facilities. The confrontational dynamics with China could escalate to armed conflict. The large overseas Filipino worker population sends significant remittances.",next:"Tensions with China will likely persist and potentially escalate. Watch for: South China Sea incidents, US military cooperation, Marcos-Duterte political split, and economic development. The country is increasingly on the frontline of US-China competition."},news:[{source:"Reuters",bias:"center",time:"1h ago",headline:"Chinese vessels block Philippine boats at disputed reef",url:"#"},{source:"AP",bias:"center",time:"4h ago",headline:"US announces new military cooperation package",url:"#"}]},Hungary:{lat:47.16,lng:19.5,flag:"",risk:"stormy",region:"Eastern Europe",pop:"10M",gdp:"$188B",leader:"Viktor Orbn",title:"Democratic Backsliding",analysis:{what:'PM Viktor Orbn has built what he calls "illiberal democracy"concentrating power, capturing media, and undermining judicial independence. Hungary regularly clashes with the EU over rule of law, blocking Ukraine aid and migration policies. Orbn maintains close ties with Putin and has visited Moscow. The economy struggles with high inflation and EU funding freezes.',why:"Hungary demonstrates democratic backsliding within the EU, challenging the bloc's values. Its veto power blocks EU decisions on Ukraine and other issues. Orbn is a model for right-wing populists globally. Hungary's position complicates NATO unity.",next:"Orbn appears secure domestically but faces increasing EU isolation. Watch for: EU funding negotiations, Ukraine policy, and any opposition consolidation. Hungary will continue to be the EU's most difficult member."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"EU freezes more funds over rule of law concerns",url:"#"},{source:"FT",bias:"center",time:"5h ago",headline:"Orbn blocks joint EU statement on Ukraine",url:"#"}]},Serbia:{lat:44.02,lng:21.01,flag:"",risk:"stormy",region:"Balkans",pop:"7M",gdp:"$63B",leader:"Aleksandar Vui",title:"Kosovo Tensions",analysis:{what:"President Vui maintains strong grip on power with control over media and institutions. Serbia refuses to recognize Kosovo's independence and tensions remain high, including recent violent incidents. The country seeks EU membership but won't align with sanctions on Russia. It has close ties with both Russia and China while negotiating with the West.",why:"Serbia's relations with Kosovo are a potential flashpoint in Europe. Its balancing act between East and West complicates regional integration. Weapons flowing from Serbia have appeared in various conflicts. The country is key to Balkan stability.",next:"The Kosovo issue appears intractable without significant compromise. Watch for: Kosovo-Serbia negotiations, EU accession progress, and Russian influence. Vui will try to maintain his balancing act indefinitely."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"EU-mediated talks with Kosovo make limited progress",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"Serbia maintains neutrality on Russia sanctions",url:"#"}]},"El Salvador":{lat:13.79,lng:-88.9,flag:"",risk:"stormy",region:"Central America",pop:"6.5M",gdp:"$33B",leader:"Nayib Bukele",title:"Gang Crackdown",analysis:{what:"President Bukele has achieved dramatic reduction in gang violence through a state of emergency, mass arrests (80,000+), and harsh conditions that have drawn human rights criticism. Homicides dropped from world's highest to among lowest in the Americas. He won reelection overwhelmingly despite constitutional concerns. Bitcoin adoption as legal tender has been rocky.",why:"Bukele's gang suppression model is being watched by other violence-plagued countries. His popularity despite authoritarian methods challenges democratic norms. The Bitcoin experiment tests cryptocurrency's viability as national currency. Migration from El Salvador significantly affects the US.",next:"Bukele faces the challenge of sustaining security gains and economic development. Watch for: human rights concerns, economic indicators, Bitcoin project, and whether the security model is replicable. His approach is a test case for the region."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Homicide rate remains at historic low",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Human rights groups condemn prison conditions",url:"#"}]},"Sri Lanka":{lat:7.87,lng:80.77,flag:"",risk:"stormy",region:"South Asia",pop:"22M",gdp:"$75B",leader:"Anura Kumara",title:"Economic Recovery",analysis:{what:"Sri Lanka experienced complete economic collapse in 2022defaulting on debt, running out of fuel and medicine, and seeing the president flee the country amid mass protests. A new leftist president won elections promising reform. IMF bailout conditions are being implemented with painful austerity. Tourism is recovering slowly.",why:"Sri Lanka's collapse was a warning about debt distress in developing countries. Its strategic location in the Indian Ocean makes it important to India and China (which built the controversial Hambantota port). The recovery's success will influence how other struggling nations are treated.",next:"The new government must balance IMF conditions with public patience. Watch for: economic indicators, tourism recovery, debt restructuring, and India-China competition. Recovery will be long and painful but appears on track."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"IMF approves next bailout tranche",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"Tourism arrivals show steady recovery",url:"#"}]},Bolivia:{lat:-16.29,lng:-63.59,flag:"",risk:"stormy",region:"South America",pop:"12M",gdp:"$44B",leader:"Rodrigo Paz",title:"New Presidency",analysis:{what:"Bolivia faces political division between President Arce and his former mentor Evo Morales, splitting the ruling MAS party. A failed coup attempt in 2024 (or what critics called a staged event) added confusion. Economic challenges mount as natural gas revenues decline. Indigenous politics remain central. Lithium reserves offer potential.",why:"Bolivia has among the world's largest lithium reserves, crucial for battery production. The MAS movement's internal conflict affects regional left politics. The country demonstrates tensions between democratic norms and populist movements.",next:"The Arce-Morales split will dominate politics heading toward 2025 elections. Watch for: economic conditions, lithium development, and political violence risk. The outcome will shape Bolivia's direction for years."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Morales announces presidential bid despite controversy",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Natural gas exports continue decline",url:"#"}]},Guyana:{lat:4.86,lng:-58.93,flag:"",risk:"stormy",region:"South America",pop:"0.8M",gdp:"$15B",leader:"Irfaan Ali",title:"Oil Boom",analysis:{what:"Guyana has experienced the world's fastest economic growth due to massive offshore oil discoveriesexpected to produce over 1 million barrels per day by 2027. This tiny country of 800,000 people faces the challenge of managing sudden wealth. Venezuela claims two-thirds of Guyana's territory (Essequibo) and has made threatening moves.",why:"Guyana's oil boom is one of the most dramatic economic transformations in history. The Venezuela territorial dispute could escalate to conflict. How Guyana manages its windfall will be studied as a development case. Caribbean stability is affected.",next:`The key challenge is using oil wealth wisely to avoid the "resource curse." Watch for: Venezuela tensions, governance quality, infrastructure development, and wealth distribution. The country's transformation is just beginning.`},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Oil production exceeds projections",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Venezuela continues military posturing on border",url:"#"}]},"United Kingdom":{lat:55.38,lng:-3.44,flag:"",risk:"cloudy",region:"Western Europe",pop:"67M",gdp:"$3.1T",leader:"Keir Starmer",title:"Post-Brexit Adjustment",analysis:{what:"Labour's Keir Starmer won a landslide election in 2024, ending 14 years of Conservative rule. He inherits an economy still adjusting to Brexit with sluggish growth, strained public services, and high debt. Relations with Europe are being reset, though not rejoining the EU. Immigration policy and small boat crossings remain contentious.",why:`The UK is Europe's second-largest economy and a permanent UN Security Council member. Its global financial center status continues despite Brexit. The "special relationship" with the US remains important. The UK is a key NATO contributor.`,next:"Starmer faces the challenge of delivering change with limited fiscal room. Watch for: economic growth, EU relationship, immigration policy, and public service reform. The honeymoon period will be tested quickly."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Starmer announces EU cooperation initiatives",url:"#"},{source:"BBC",bias:"center-left",time:"5h ago",headline:"NHS waiting lists remain at record levels",url:"#"}]},Italy:{lat:41.87,lng:12.57,flag:"",risk:"cloudy",region:"Western Europe",pop:"59M",gdp:"$2.1T",leader:"Giorgia Meloni",title:"Right-Wing Government",analysis:{what:"PM Giorgia Meloni leads the most right-wing government since WWII, but has proven more pragmatic than fearedmaintaining EU relations and supporting Ukraine. Economic growth is modest. Debt remains very high at 140% of GDP. Migration from Africa is a central issue. Her Brothers of Italy party has post-fascist roots.",why:"Italy is the eurozone's third-largest economyits debt levels affect European financial stability. Meloni's pragmatism has surprised observers and influences how other right-wing leaders govern. Italian migration policy affects EU-wide approaches. Italy is a key NATO member.",next:"Meloni's popularity has held but economic challenges persist. Watch for: debt dynamics, migration deals, EU relations, and coalition stability. Italy demonstrates right-wing governance within EU constraints."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Meloni meets EU leaders on migration deal",url:"#"},{source:"FT",bias:"center",time:"5h ago",headline:"Italian bonds stable despite high debt",url:"#"}]},Poland:{lat:51.92,lng:19.15,flag:"",risk:"cloudy",region:"Eastern Europe",pop:"38M",gdp:"$688B",leader:"Donald Tusk",title:"Democratic Recovery",analysis:{what:"PM Donald Tusk returned to power in 2023, ending 8 years of PiS rule that had eroded judicial independence and clashed with the EU. The new government is working to restore rule of law and unlock frozen EU funds. Poland hosts millions of Ukrainian refugees and is a major defense spender. Relations with the EU are normalizing.",why:"Poland is the largest Central European economy and NATO's eastern anchor. It borders Ukraine and Russia's Kaliningrad exclave. Its democratic recovery is significant for EU cohesion. Poland has become a major military power with 4% of GDP defense spending.",next:"Tusk faces the challenge of reforming captured institutions while maintaining stability. Watch for: judicial reforms, EU funding, Ukraine support, and relations with President Duda. Democratic restoration is a long process."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"EU releases frozen funds after reform progress",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Poland hosts major NATO exercises near Belarus border",url:"#"}]},Spain:{lat:40.46,lng:-3.75,flag:"",risk:"cloudy",region:"Western Europe",pop:"48M",gdp:"$1.4T",leader:"Pedro Snchez",title:"Coalition Politics",analysis:{what:"PM Snchez leads a fragile minority government dependent on regional parties including Catalan separatists. An amnesty for Catalan independence leaders was passed amid controversy. The economy has performed better than eurozone peers. Housing affordability is a growing issue. Devastating floods in Valencia highlighted climate vulnerabilities.",why:"Spain is the eurozone's fourth-largest economy. The Catalan independence issue creates precedent for separatist movements elsewhere. Spanish is spoken by 500+ million people globally. Tourism makes Spain a major European destination.",next:"Snchez's coalition is unstable and could collapse. Watch for: Catalan negotiations, economic performance, housing protests, and snap election risk. The government's survival is not assured."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Catalan amnesty law faces constitutional challenge",url:"#"},{source:"El Pas",bias:"center-left",time:"5h ago",headline:"Housing protests spread to major cities",url:"#"}]},Netherlands:{lat:52.13,lng:5.29,flag:"",risk:"cloudy",region:"Western Europe",pop:"18M",gdp:"$991B",leader:"Dick Schoof",title:"Right-Wing Shift",analysis:{what:"Geert Wilders' far-right PVV won elections but couldn't form government directlya coalition with moderate parties installed technocrat PM Schoof. The government has adopted the toughest asylum policy in Dutch history. Economic concerns include housing shortage and agricultural transition. The Netherlands remains Europe's largest port.",why:"The Netherlands is a major EU economy and home to Rotterdam, Europe's largest port. Its political shift rightward reflects broader European trends. Dutch agriculture and tech sectors are globally significant. Shell and other major multinationals are headquartered there.",next:"The coalition's stability will be tested by Wilders' ambitions and policy compromises. Watch for: asylum policy implementation, EU relations, and farmer protests. The rightward shift may continue."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Government announces strictest asylum rules in history",url:"#"},{source:"FT",bias:"center",time:"5h ago",headline:"Dutch ports see record trade volumes",url:"#"}]},Indonesia:{lat:-.79,lng:113.92,flag:"",risk:"cloudy",region:"Southeast Asia",pop:"277M",gdp:"$1.3T",leader:"Prabowo",title:"New Leadership",analysis:{what:"New President Prabowo Subianto, a former general once accused of human rights abuses, won elections with Jokowi's backing. He has announced ambitious programs including free school meals. Indonesia is building a new capital (Nusantara) in Borneo. The economy grows steadily with nickel processing driving investment. Democratic backsliding concerns exist.",why:"Indonesia is the world's fourth most populous country and ASEAN's largest economy. It has vast mineral resources crucial for batteries (nickel, cobalt). The country's stability affects Southeast Asian regional dynamics. Its moderate Islam influences global Muslim communities.",next:"Prabowo's leadership style and policies are still being defined. Watch for: democratic institutions, economic policy, environmental concerns (deforestation), and foreign policy direction. The transition marks a significant shift."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Prabowo announces major infrastructure investments",url:"#"},{source:"Nikkei",bias:"center",time:"5h ago",headline:"Nickel processing attracts Chinese investment",url:"#"}]},Vietnam:{lat:14.06,lng:108.28,flag:"",risk:"cloudy",region:"Southeast Asia",pop:"100M",gdp:"$409B",leader:"T Lm",title:"Manufacturing Hub",analysis:{what:"Vietnam has emerged as a major manufacturing hub, benefiting from supply chain diversification away from China. GDP growth exceeds 6% annually. A sweeping anti-corruption campaign has reshuffled leadership including the president. The one-party communist state maintains stability while gradually opening the economy.",why:'Vietnam is one of the fastest-growing economies and a key beneficiary of "China+1" supply chain strategies. Major tech companies (Samsung, Apple suppliers) have significant operations there. The country balances relations with the US and China despite historical conflicts with both.',next:"Manufacturing growth should continue as companies diversify from China. Watch for: US-Vietnam relations, anti-corruption campaign impacts, and infrastructure development. Vietnam's rise as a manufacturing power will accelerate."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Manufacturing exports hit new record",url:"#"},{source:"Nikkei",bias:"center",time:"5h ago",headline:"Apple expands supplier operations in Vietnam",url:"#"}]},Japan:{lat:36.2,lng:138.25,flag:"",risk:"clear",region:"East Asia",pop:"125M",gdp:"$4.2T",leader:"Sanae Takaichi",title:"Defense Buildup",analysis:{what:"PM Sanae Takaichi won a major election victory in February 2026, forming a coalition government with the Japan Innovation Party. Japan has undertaken its most significant defense transformation since WWII, doubling military spending and acquiring counterstrike capabilities in response to China and North Korea. The economy has finally exited decades of deflation with wages rising. Demographic decline (population shrinking by 500,000/year) poses long-term challenges.",why:"Japan is the world's third-largest economy and crucial US ally. Its defense buildup reshapes Asian security dynamics. Japanese technology and manufacturing remain globally important. Takaichi is Japan's first female PM and has taken a more assertive stance on defense and economic nationalism.",next:`The defense transformation will continue as regional tensions persist. Watch for: China relations, US alliance management, economic normalization, and demographic policies. Japan is becoming a more "normal" military power under Takaichi's leadership.`},news:[{source:"Reuters",bias:"center",time:"1h ago",headline:"Takaichi forms second cabinet after election victory",url:"#"},{source:"Nikkei",bias:"center",time:"4h ago",headline:"Defense budget reaches record levels",url:"#"}]},Canada:{lat:56.13,lng:-106.35,flag:"",risk:"clear",region:"North America",pop:"40M",gdp:"$2.1T",leader:"Mark Carney",title:"Stable Democracy",analysis:{what:"Canada has experienced political transition with new Liberal leadership. Relations with the US have been tested by trade tensions and border security debates. Housing affordability remains a major domestic issue with prices among the world's highest. Immigration levels are high but face public skepticism. The country is a major energy producer.",why:"Canada is America's largest trading partner and close ally. Its energy resources (oil sands, hydropower) are globally significant. Canadian stability contrasts with US polarization. Arctic sovereignty is increasingly important as ice melts.",next:"Trade relations with the US will be the dominant concern. Watch for: US tariff threats, housing policy, immigration levels, and energy sector development. Canadian-US relations face unusual uncertainty."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"New government faces US trade pressure",url:"#"},{source:"Globe and Mail",bias:"center",time:"5h ago",headline:"Housing starts increase as prices moderate",url:"#"}]},Australia:{lat:-25.27,lng:133.78,flag:"",risk:"clear",region:"Oceania",pop:"26M",gdp:"$1.7T",leader:"Anthony Albanese",title:"AUKUS Partner",analysis:{what:"Australia is implementing the AUKUS agreement to acquire nuclear-powered submarines, the largest defense investment in its history. Relations with China have thawed after years of tension, though strategic competition continues. The economy benefits from mining exports but faces housing affordability challenges. Labor government balances alliance commitments with regional engagement.",why:"Australia is a key US ally in the Indo-Pacific, hosting military facilities and participating in the Quad. Its mineral exports (iron ore, lithium, coal) are globally crucial, especially for China. The AUKUS submarines represent a major shift in regional military balance.",next:"The AUKUS implementation faces technical and political challenges. Watch for: China relations, submarine program progress, Pacific Island engagement, and domestic politics. Australia's strategic importance will grow."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"AUKUS submarine construction begins",url:"#"},{source:"ABC",bias:"center-left",time:"5h ago",headline:"Trade with China reaches new highs",url:"#"}]},Singapore:{lat:1.35,lng:103.82,flag:"",risk:"clear",region:"Southeast Asia",pop:"6M",gdp:"$424B",leader:"Lawrence Wong",title:"Leadership Transition",analysis:{what:"Singapore has completed its leadership transition from Lee Hsien Loong to Lawrence Wong, only the fourth prime minister since independence. The city-state remains Southeast Asia's financial hub with one of the world's highest GDPs per capita. It balances relations with the US and China while maintaining authoritarian political control. Housing costs and inequality are domestic concerns.",why:"Singapore is a global financial center and trading hub. Its political stability model influences regional governance. The country's port is among the world's busiest. Singapore's policies on technology and finance set regional standards.",next:"Wong must maintain Singapore's success while addressing inequality and political expectations. Watch for: US-China positioning, financial sector developments, and any political liberalization. The city-state's model will be tested."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Singapore GDP growth exceeds forecasts",url:"#"},{source:"Straits Times",bias:"center-right",time:"5h ago",headline:"PM Wong outlines new housing initiatives",url:"#"}]},UAE:{lat:23.42,lng:53.85,flag:"",risk:"clear",region:"Middle East",pop:"10M",gdp:"$509B",leader:"Mohamed bin Zayed",title:"Regional Hub",analysis:{what:"The UAE has emerged as the Middle East's business and logistics hub, with Dubai hosting global events and Abu Dhabi investing massively through sovereign wealth funds. It signed the Abraham Accords normalizing relations with Israel. Energy transition investments are significant. The country maintains influence through strategic investments and regional diplomacy.",why:"The UAE is a major global investor through funds like ADIA and Mubadala. Dubai is a global aviation and tourism hub. The country bridges East and West commercially. Its regional influence extends through investments, media, and military interventions.",next:"Economic diversification will continue as oil importance declines. Watch for: regional diplomatic role, investment patterns, and post-MBZ succession planning. The UAE model of authoritarian modernization will be tested."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"UAE sovereign fund announces major tech investments",url:"#"},{source:"Bloomberg",bias:"center-right",time:"5h ago",headline:"Dubai real estate prices continue rising",url:"#"}]},Switzerland:{lat:46.82,lng:8.23,flag:"",risk:"clear",region:"Western Europe",pop:"9M",gdp:"$808B",leader:"Federal Council",title:"Neutral & Stable",analysis:{what:"Switzerland has navigated the Ukraine war while maintaining modified neutralityadopting EU sanctions despite its neutral status. The banking sector faced upheaval with Credit Suisse's collapse and forced merger with UBS. Relations with the EU remain complex with no framework agreement. The direct democracy system continues to function well.",why:"Switzerland is a global financial center and headquarters for many international organizations. Its neutrality has been a cornerstone of European diplomacy. Swiss technology and pharmaceutical sectors are globally significant. The country's stability attracts wealth from worldwide.",next:"EU relations and neutrality policy will continue to evolve post-Ukraine. Watch for: banking sector stability, EU framework negotiations, and any neutrality debates. Switzerland's model faces 21st-century pressures."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Swiss banks report strong profits after consolidation",url:"#"},{source:"SWI",bias:"center",time:"5h ago",headline:"EU talks resume on bilateral framework",url:"#"}]},Norway:{lat:60.47,lng:8.47,flag:"",risk:"clear",region:"Northern Europe",pop:"5M",gdp:"$579B",leader:"Jonas Stre",title:"Energy Superpower",analysis:{what:"Norway has benefited enormously from high energy prices following Russia's invasion of Ukraine, with gas exports to Europe surging. The sovereign wealth fund (world's largest at $1.6 trillion) continues to grow. NATO's northern flank has increased importance. Arctic sovereignty is a growing focus. The country debates its role as a fossil fuel exporter amid climate concerns.",why:"Norway is Europe's largest gas supplier since Russia's decline. Its sovereign wealth fund's investments affect global markets. The country's Arctic expertise is increasingly valuable. Norway's NATO role has gained importance.",next:"The tension between fossil fuel wealth and climate goals will intensify. Watch for: energy policy, Arctic developments, NATO contributions, and sovereign fund decisions. Norway's choices have outsized global impact."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Sovereign wealth fund reaches new record high",url:"#"},{source:"FT",bias:"center",time:"5h ago",headline:"Norway gas exports stabilize European energy markets",url:"#"}]},Malaysia:{lat:4.21,lng:101.98,flag:"",risk:"cloudy",region:"Southeast Asia",pop:"34M",gdp:"$407B",leader:"Anwar Ibrahim",title:"Coalition Politics",analysis:{what:"PM Anwar Ibrahim leads a unity government after decades of waiting for power. The economy is stable with electronics and palm oil exports. Political coalitions remain fragile with ethnic and religious tensions. The 1MDB corruption scandal continues to echo. Malaysia balances relations with China and Western powers.",why:"Malaysia controls the Strait of Malacca, one of the world's busiest shipping lanes. It's a major electronics manufacturing hub. The country's multiethnic balance influences regional politics. Palm oil exports affect global food and fuel markets.",next:"Anwar must maintain coalition unity while addressing economic inequality. Watch for: coalition stability, ethnic relations, and China engagement. Malaysia's political direction remains uncertain."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Electronics exports drive economic growth",url:"#"},{source:"Nikkei",bias:"center",time:"5h ago",headline:"Coalition partners debate economic policy",url:"#"}]},Romania:{lat:45.94,lng:24.97,flag:"",risk:"cloudy",region:"Eastern Europe",pop:"19M",gdp:"$301B",leader:"Disputed",title:"NATO Frontline",analysis:{what:"Romania faces political uncertainty after a far-right candidate won the first round of presidential elections before it was annulled over alleged Russian interference. The country is a key NATO member bordering Ukraine, hosting US troops and missile defense. Economic growth has been strong but faces fiscal challenges.",why:"Romania is on NATO's eastern flank, directly bordering Ukraine and Moldova. It hosts major US military facilities. The Black Sea coast is strategically important. Romanian politics serve as a bellwether for Russian influence operations in the EU.",next:"The political crisis will take time to resolve with new elections. Watch for: Russian interference, NATO posture, and EU relations. Romania's stability matters for regional security."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Constitutional court schedules new elections",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"NATO reinforces Black Sea presence",url:"#"}]},Greece:{lat:39.07,lng:21.82,flag:"",risk:"cloudy",region:"Southern Europe",pop:"10M",gdp:"$219B",leader:"Mitsotakis",title:"Economic Recovery",analysis:{what:"Greece has achieved remarkable recovery after its debt crisis, with investment-grade credit restored and tourism booming. PM Mitsotakis won a strong mandate for continued reforms. Relations with Turkey remain tense over maritime boundaries and Cyprus. Wildfires have become more devastating with climate change.",why:"Greece's recovery from near-default is a success story for eurozone crisis management. The country occupies strategic position at Europe's southeastern corner. Greek-Turkish tensions affect NATO cohesion. Tourism is vital to the Mediterranean economy.",next:"Economic momentum should continue but structural challenges remain. Watch for: Turkey relations, migration pressures, and climate impacts. Greece has turned a corner but faces ongoing challenges."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Tourism revenues exceed pre-pandemic levels",url:"#"},{source:"FT",bias:"center",time:"5h ago",headline:"Greece repays more crisis-era debt early",url:"#"}]},Sweden:{lat:60.13,lng:18.64,flag:"",risk:"cloudy",region:"Northern Europe",pop:"10M",gdp:"$585B",leader:"Ulf Kristersson",title:"NATO Member",analysis:{what:"Sweden ended over 200 years of neutrality by joining NATO in 2024, a historic shift prompted by Russia's invasion of Ukraine. The right-wing government relies on far-right support while maintaining centrist policies. Gang violence has become a major concern with shootings and bombings. The economy is stable with strong tech sector.",why:"Sweden's NATO membership fundamentally changes Baltic Sea security dynamics. The country's defense industry (Saab) is globally significant. Sweden's experience with gang violence offers lessons for other countries. Nordic cooperation is strengthening.",next:"NATO integration will deepen while addressing domestic security. Watch for: military investments, gang violence response, and Russia relations. Sweden's security posture has been transformed."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Sweden hosts first NATO exercises since joining",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Gang violence crackdown shows mixed results",url:"#"}]},Finland:{lat:61.92,lng:25.75,flag:"",risk:"cloudy",region:"Northern Europe",pop:"6M",gdp:"$281B",leader:"Petteri Orpo",title:"New NATO Member",analysis:{what:`Finland joined NATO in 2023, ending decades of "Finlandization" following Russia's invasion of Ukraine. This doubled NATO's border with Russia. The economy faces challenges with Nokia's decline and low growth. The right-wing coalition government has implemented budget cuts. Border security with Russia has required enhanced measures.`,why:"Finland's 1,340km border with Russia is NATO's longest. Finnish military capabilities and Arctic expertise are significant NATO additions. The country's transformation shows how Russia's aggression has backfired. Nordic defense cooperation has intensified.",next:"NATO integration and border security will remain priorities. Watch for: Russia relations, Arctic developments, and economic reforms. Finland's strategic position has gained new importance."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Finland reinforces eastern border defenses",url:"#"},{source:"YLE",bias:"center",time:"5h ago",headline:"Government announces new defense investments",url:"#"}]},Austria:{lat:47.52,lng:14.55,flag:"",risk:"cloudy",region:"Western Europe",pop:"9M",gdp:"$471B",leader:"Christian Stocker",title:"Three-Party Coalition",analysis:{what:"The far-right FP won the 2024 election but Herbert Kickl failed to form a government as other parties refused to coalition with him. Chancellor Christian Stocker was sworn in March 2025 leading an unprecedented three-party coalition (VP + SPD + Neos)the first tripartite government since 1949. Austria maintains neutrality while being surrounded by NATO members. The economy has emerged from recession with growth resuming in 2026.",why:"Austria's political shifts reflect broader European far-right trends, though the centrist coalition blocked FP from power. The country's neutrality creates complications for European defense. Austrian banking has historical ties to Eastern Europe. The country is a transit point for migration.",next:"The three-party coalition faces the challenge of maintaining unity across different ideological positions. Watch for: coalition stability, FP opposition pressure, Russia policy, and migration debates. The next election will test whether the far-right can be contained."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Three-party coalition navigates policy differences",url:"#"},{source:"FT",bias:"center",time:"5h ago",headline:"Austrian economy shows signs of recovery",url:"#"}]},Chile:{lat:-35.68,lng:-71.54,flag:"",risk:"cloudy",region:"South America",pop:"19M",gdp:"$301B",leader:"Jose Antonio Kast",title:"Presidential Transition",analysis:{what:"President Boric leads a left-wing government that has struggled to deliver promised reforms after two constitutional referendums failed. The economy is stable but growth is weak. Migration from Venezuela and Haiti has strained services. Chile remains the world's largest copper producer with lithium reserves gaining importance.",why:"Chile is critical to the global copper supply, essential for electrification and green energy. Its lithium reserves are among the world's largest. The country has been Latin America's most stable economy. Chilean political shifts influence regional trends.",next:"Boric faces challenging path to 2025 midterms. Watch for: mining policy, constitutional debates, and economic performance. Chile's reform agenda has stalled but stability continues."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Copper prices boost fiscal revenues",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Lithium nationalization debate continues",url:"#"}]},Morocco:{lat:31.79,lng:-7.09,flag:"",risk:"cloudy",region:"North Africa",pop:"37M",gdp:"$132B",leader:"King Mohammed VI",title:"Western Sahara",analysis:{what:"Morocco has gained international recognition for its sovereignty over Western Sahara, including from the US and increasingly from European states. The economy is diversifying into automotive and aerospace manufacturing. The 2023 earthquake killed nearly 3,000 and recovery continues. Relations with Algeria remain frozen.",why:"Morocco controls key Atlantic shipping lanes and is Africa's gateway to Europe. Its Western Sahara claim affects regional dynamics. The country is a major agricultural exporter to Europe. Morocco's stability contrasts with regional turmoil.",next:"Western Sahara recognition momentum may continue. Watch for: EU relations, economic development, and Algeria tensions. Morocco is consolidating its regional position."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"France recognizes Morocco Western Sahara sovereignty",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Earthquake reconstruction proceeds",url:"#"}]},Senegal:{lat:14.5,lng:-14.45,flag:"",risk:"cloudy",region:"Africa",pop:"18M",gdp:"$28B",leader:"Bassirou Faye",title:"Democratic Transition",analysis:{what:"Senegal achieved a remarkable democratic transition when opposition candidate Bassirou Faye won the presidency after his predecessor's attempt to delay elections failed. The new government promises anti-corruption reforms. Oil and gas production is beginning. The country remains West Africa's most stable democracy.",why:"Senegal's democratic transition is a positive example for Africa amid coups elsewhere. New oil/gas revenues could transform the economy. The country is a key regional partner for the West. Senegal hosts significant foreign investment.",next:"The new government must deliver on reform promises while managing oil wealth. Watch for: governance reforms, oil production ramp-up, and regional influence. Senegal's success matters for African democracy."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"New government launches anti-corruption probe",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"First oil exports begin from offshore fields",url:"#"}]},Tanzania:{lat:-6.37,lng:34.89,flag:"",risk:"cloudy",region:"Africa",pop:"65M",gdp:"$76B",leader:"Samia Hassan",title:"Stable Growth",analysis:{what:"President Samia Hassan, Africa's only female head of state, has reversed her predecessor's controversial policies including COVID denialism. The economy grows steadily with tourism and mining driving development. Democratic space remains constrained but has improved. Tanzania mediates regional conflicts.",why:"Tanzania is one of Africa's largest and most stable countries. It hosts refugees from multiple neighboring conflicts. The country's tourism (Serengeti, Zanzibar) is globally significant. Tanzania mediates in DRC and other regional disputes.",next:"Gradual reform and economic growth should continue. Watch for: 2025 elections, mining development, and regional diplomatic role. Tanzania is quietly becoming more influential."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Tourism revenues reach new record",url:"#"},{source:"AP",bias:"center",time:"5h ago",headline:"Tanzania hosts regional peace talks",url:"#"}]},"New Zealand":{lat:-40.9,lng:174.89,flag:"",risk:"clear",region:"Oceania",pop:"5M",gdp:"$247B",leader:"Christopher Luxon",title:"Stable",analysis:{what:"The center-right government elected in 2023 has reversed some previous progressive policies while maintaining overall stability. The economy faces challenges from high interest rates and housing costs. New Zealand maintains close ties with Australia through AUKUS adjacent arrangements. Pacific Islands engagement remains important.",why:"New Zealand punches above its weight diplomatically, particularly in Pacific Islands affairs. Its agricultural exports are globally significant. The country is part of Five Eyes intelligence sharing. New Zealand's clean image supports tourism and exports.",next:"Economic challenges will dominate domestic politics. Watch for: housing policy, Pacific engagement, and China relations. New Zealand remains stable and well-governed."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Interest rates begin to ease as inflation falls",url:"#"},{source:"RNZ",bias:"center",time:"6h ago",headline:"Pacific partnerships strengthened",url:"#"}]},Denmark:{lat:56.26,lng:9.5,flag:"",risk:"clear",region:"Northern Europe",pop:"6M",gdp:"$395B",leader:"Mette Frederiksen",title:"Greenland Focus",analysis:{what:"Denmark has faced increased attention due to US interest in Greenland, which it governs. PM Frederiksen has firmly rejected any sale while increasing defense spending for Greenland. The economy is strong with major pharmaceutical and shipping industries. Denmark leads in wind energy and green transition.",why:"Greenland's strategic location and resources (rare earths, oil) have gained geopolitical importance. Denmark controls key Arctic approaches. Danish shipping giant Maersk is globally significant. The country's renewable energy expertise is exported worldwide.",next:"Greenland's status will remain in focus given Arctic competition. Watch for: US relations, Arctic defense investments, and Greenland autonomy debates. Denmark's small size belies its strategic importance."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Denmark increases Greenland defense spending",url:"#"},{source:"FT",bias:"center",time:"5h ago",headline:"Pharmaceutical exports drive trade surplus",url:"#"}]},Greenland:{lat:71.71,lng:-42.6,flag:"",risk:"stormy",region:"Arctic / North Atlantic",pop:"57K",gdp:"$3.1B",leader:"Mte B. Egede",title:"Arctic Sovereignty Dispute",analysis:{what:"Greenland, an autonomous territory of Denmark, has become a focal point of US foreign policy under President Trump, who has repeatedly expressed interest in acquiring the island. Prime Minister Mte Egede has pushed back firmly, stating Greenland is not for sale while simultaneously advancing the independence debate. Denmark has responded by increasing defense spending in the Arctic and strengthening its military presence on the island.",why:"Greenland sits at the intersection of several major geopolitical trends. The Arctic is opening up due to climate change, creating new shipping routes between Asia and Europe that could reshape global trade. The island holds vast untapped mineral deposits including rare earth elements critical to technology and defense manufacturing. Its geographic position also makes it strategically important for missile defense and North Atlantic monitoring. As competition between the US, China, and Russia intensifies in the Arctic, Greenland's status has moved from a diplomatic curiosity to a serious geopolitical question.",next:"The independence movement in Greenland is accelerating, with Egede's government exploring options for full sovereignty from Denmark. Watch for continued US pressure, potential Chinese investment bids for mining operations, NATO Arctic defense expansion, and the outcome of Greenland's internal constitutional discussions. The island's future will be shaped by the broader Arctic great power competition."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Trump renews call for US acquisition of Greenland",url:"#"},{source:"BBC",bias:"center",time:"6h ago",headline:"Greenland PM rejects sale talk, pushes independence",url:"#"},{source:"Financial Times",bias:"center",time:"1d ago",headline:"Rare earth deposits fuel Arctic geopolitical competition",url:"#"}]},Ireland:{lat:53.14,lng:-7.69,flag:"",risk:"clear",region:"Western Europe",pop:"5M",gdp:"$533B",leader:"Simon Harris",title:"Tech Hub",analysis:{what:"Ireland is a major European tech hub, hosting headquarters for Apple, Google, Microsoft, and others drawn by low corporate taxes. GDP figures are distorted by multinational accounting but genuine prosperity is high. Housing and healthcare face serious challenges. Relations with Britain have stabilized post-Brexit.",why:"Ireland's tax policies have made it crucial to global tech and pharmaceutical supply chains. The border with Northern Ireland affects UK-EU relations. Irish-American ties influence US politics. Dublin has emerged as a post-Brexit financial center alternative.",next:"Pressure on corporate tax arrangements will continue. Watch for: housing crisis, corporate tax changes, and EU relations. Ireland's economic model faces challenges but remains robust."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Apple announces expanded Irish operations",url:"#"},{source:"Irish Times",bias:"center",time:"5h ago",headline:"Housing crisis dominates political agenda",url:"#"}]},Portugal:{lat:39.4,lng:-8.22,flag:"",risk:"clear",region:"Western Europe",pop:"10M",gdp:"$252B",leader:"Lus Montenegro",title:"Stable",analysis:{what:"Portugal has achieved strong economic recovery, attracting digital nomads and investment. Tourism is booming, sometimes to excess. The center-right government faces challenges from housing costs and public services. Relations with former colonies in Africa remain important. Renewable energy progress is significant.",why:"Portugal has become a model for economic recovery and tech-friendly policies. The country is strategically located for Atlantic shipping. Portuguese language connects 260 million speakers globally. Tourism and real estate have transformed the economy.",next:"Balancing growth with livability is the key challenge. Watch for: housing policy, public service reform, and tourism management. Portugal's success story faces sustainability questions."},news:[{source:"Reuters",bias:"center",time:"2h ago",headline:"Tourism arrivals set new record",url:"#"},{source:"FT",bias:"center",time:"5h ago",headline:"Housing affordability measures debated",url:"#"}]},Qatar:{lat:25.35,lng:51.18,flag:"",risk:"clear",region:"Middle East",pop:"3M",gdp:"$221B",leader:"Sheikh Tamim",title:"Diplomatic Hub",analysis:{what:"Qatar has emerged as a crucial diplomatic mediator, hosting Hamas political office and facilitating Gaza negotiations. The country is the world's largest LNG exporter, benefiting from energy crisis. Post-World Cup infrastructure remains. Relations with neighbors have normalized after the 2017 blockade.",why:"Qatar is the world's largest LNG exporter, crucial to European and Asian energy security. Its diplomatic role in conflicts from Gaza to Afghanistan is significant. Al Jazeera provides influential media reach. The sovereign wealth fund is a major global investor.",next:"Diplomatic and energy roles will continue expanding. Watch for: Gaza mediation, LNG contracts, and regional positioning. Qatar's small size and enormous influence create unique dynamics."},news:[{source:"Reuters",bias:"center",time:"1h ago",headline:"Qatar mediates new phase of Gaza talks",url:"#"},{source:"FT",bias:"center",time:"4h ago",headline:"LNG exports reach record levels",url:"#"}]},"Costa Rica":{lat:9.75,lng:-83.75,flag:"",risk:"clear",region:"Central America",pop:"5M",gdp:"$69B",leader:"Rodrigo Chaves",title:"Stable Democracy",analysis:{what:"Costa Rica remains Central America's most stable democracy with no military since 1948. The economy is diverse with tech, medical devices, and tourism. Environmental leadership continues with 99% renewable electricity. Relations with Nicaragua are strained. Social services face funding pressures.",why:"Costa Rica is a model of stability and environmental leadership in a troubled region. It hosts significant international institutions. Ecotourism leadership offers lessons for conservation. The country's development model contrasts with neighbors.",next:"Maintaining the Costa Rican model faces fiscal challenges. Watch for: environmental policy, regional migration, and economic diversification. Costa Rica's exceptionalism faces tests."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Tech exports drive economic growth",url:"#"},{source:"Tico Times",bias:"center",time:"6h ago",headline:"Renewable energy investments continue",url:"#"}]},Uruguay:{lat:-32.52,lng:-55.77,flag:"",risk:"clear",region:"South America",pop:"3.5M",gdp:"$71B",leader:"Yamand Orsi",title:"Stable Democracy",analysis:{what:"Uruguay remains South America's most stable and democratic country with strong institutions and low corruption. President Yamand Orsi (Broad Front, center-left) took office in March 2025 after winning the November 2024 election, marking a peaceful transfer of power. The economy depends on agriculture and services. Progressive social policies continue. The small population limits influence but enables nimble governance.",why:"Uruguay is a model of stability and good governance for Latin America. Its banking system attracts regional deposits. Progressive policies influence debates elsewhere. The peaceful left-right power alternation demonstrates democratic maturity rare in the region.",next:"Orsi must strengthen social safety nets while maintaining fiscal discipline. Watch for: economic policy, regional relations, and social reform agenda. Uruguay's stability should continue as institutions remain robust."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Orsi government outlines social reform priorities",url:"#"},{source:"El Observador",bias:"center",time:"6h ago",headline:"Agricultural exports strong amid global demand",url:"#"}]},Botswana:{lat:-22.33,lng:24.68,flag:"",risk:"clear",region:"Africa",pop:"2.6M",gdp:"$19B",leader:"Duma Boko",title:"Stable Democracy",analysis:{what:"Botswana achieved a peaceful transfer of power in 2024 electionsrare in African history. The economy depends on diamond mining with De Beers partnership. Governance is among Africa's best with low corruption. Wildlife conservation is a major focus. Diversification away from diamonds remains a challenge.",why:"Botswana is Africa's longest continuous democracy and governance model. Diamond revenues have funded development. The country's wildlife tourism is globally significant. Botswana shows that resource wealth can support good governance.",next:"The new government must diversify the economy as diamond demand evolves. Watch for: economic reforms, conservation policy, and democratic consolidation. Botswana's success story should continue."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"New government outlines diversification plans",url:"#"},{source:"AP",bias:"center",time:"6h ago",headline:"Diamond sector faces global demand changes",url:"#"}]},Estonia:{lat:58.6,lng:25.01,flag:"",risk:"cloudy",region:"Baltic",pop:"1.4M",gdp:"$38B",leader:"Kristen Michal",title:"Digital Pioneer",analysis:{what:"Estonia is a digital governance pioneer with e-residency programs and online voting. As a NATO frontline state bordering Russia, defense is paramount. The economy is tech-focused with high digital adoption. Russian minority relations require careful management.",why:"Estonia demonstrates how small states can leverage technology. Its border with Russia makes it NATO's northeastern anchor. Cybersecurity expertise is globally recognized. The country hosts NATO cyber defense center.",next:"Digital leadership and security focus will continue. Watch for: Russia relations, tech sector growth, and NATO posture."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Estonia increases defense spending to 3.5% of GDP",url:"#"}]},Latvia:{lat:56.88,lng:24.6,flag:"",risk:"cloudy",region:"Baltic",pop:"1.9M",gdp:"$41B",leader:"Evika Silia",title:"NATO Frontline",analysis:{what:"Latvia is a NATO frontline state with significant Russian-speaking minority. Defense spending has increased dramatically. The economy is recovering from energy price shocks. Democratic institutions are solid. The country hosts NATO battlegroup.",why:"Latvia's strategic position between Russia and NATO makes it crucial to alliance defense. Managing ethnic Russian population while countering Russian influence is challenging. Baltic cooperation is strengthening.",next:"Security will remain the dominant concern. Watch for: defense investments, integration policies, and NATO presence."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"NATO reinforces Baltic air patrols",url:"#"}]},Lithuania:{lat:55.17,lng:23.88,flag:"",risk:"cloudy",region:"Baltic",pop:"2.8M",gdp:"$70B",leader:"Ingrida imonyt",title:"Belarus Border",analysis:{what:"Lithuania has taken a strong stance against Belarus and Russia, hosting opposition figures and breaking with China over Taiwan. The economy is growing despite regional tensions. The Suwalki Gap (land connection to NATO) is a strategic vulnerability.",why:"Lithuania's position adjacent to Russian exclave Kaliningrad and Belarus makes it NATO's most exposed member. Its principled foreign policy has made it a target for authoritarian pressure. The country is vocal on human rights.",next:"Strategic exposure will continue requiring allied attention. Watch for: Belarus border situation, China relations, and defense buildup."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"US troops reinforce Suwalki corridor",url:"#"}]},"Czech Republic":{lat:49.82,lng:15.47,flag:"",risk:"clear",region:"Eastern Europe",pop:"10M",gdp:"$290B",leader:"Petr Fiala",title:"Stable",analysis:{what:"The Czech Republic is among Central Europe's most stable democracies with strong institutions. The economy is manufacturing-heavy, integrated with German supply chains. Support for Ukraine has been strong. Housing costs are a domestic concern.",why:"The Czech economy is closely tied to German industry, especially automotive. Prague is a major tourism and business center. The country's pro-Western stance is firm. Arms supplies to Ukraine have been significant.",next:"Stability and EU integration will continue. Watch for: economic performance, elections, and continued Ukraine support."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Czech ammunition initiative for Ukraine expands",url:"#"}]},Belgium:{lat:50.5,lng:4.47,flag:"",risk:"clear",region:"Western Europe",pop:"12M",gdp:"$582B",leader:"Alexander De Croo",title:"EU Capital",analysis:{what:"Belgium hosts EU and NATO headquarters, giving it outsized international importance. Complex federal structure divides Dutch and French-speaking regions. The economy is diverse with pharmaceuticals and chemicals prominent. Governance is often complicated by linguistic politics.",why:"Brussels is effectively the capital of Europe, hosting major institutions. Belgium's port of Antwerp is among Europe's largest. The country's internal divisions mirror broader European tensions. Intelligence services track terrorist threats.",next:"Belgium's role as institutional host will continue. Watch for: federal politics, economic performance, and EU developments."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"EU summit addresses Ukraine support",url:"#"}]},Croatia:{lat:45.1,lng:15.2,flag:"",risk:"clear",region:"Southern Europe",pop:"4M",gdp:"$71B",leader:"Andrej Plenkovi",title:"Eurozone Member",analysis:{what:"Croatia joined the eurozone and Schengen in 2023, completing EU integration. Tourism drives the economy, particularly along the Adriatic coast. Relations with Serbia and Bosnia require management. Emigration to Western Europe is a demographic challenge.",why:"Croatia's EU integration path is complete, making it a model for Western Balkan aspirants. Its Adriatic coast is strategically and economically important. The country bridges Central Europe and the Balkans.",next:"Building on EU integration will be the focus. Watch for: tourism, demographics, and regional relations."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Eurozone membership boosts tourism investment",url:"#"}]},Slovenia:{lat:46.15,lng:14.99,flag:"",risk:"clear",region:"Southern Europe",pop:"2M",gdp:"$62B",leader:"Robert Golob",title:"Stable",analysis:{what:"Slovenia is among Europe's most developed post-communist states. The economy is export-oriented with pharmaceuticals and automotive. Progressive social policies include same-sex marriage. Brief populist interlude under Jana has ended.",why:"Slovenia shows successful EU integration path. The country bridges Germanic and Slavic Europe. Its stability contrasts with Balkan neighbors. The port of Koper serves landlocked Central Europe.",next:"Continued stability and development. Watch for: economic performance and EU engagement."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Slovenia leads EU renewable energy growth",url:"#"}]},Luxembourg:{lat:49.82,lng:6.13,flag:"",risk:"clear",region:"Western Europe",pop:"0.7M",gdp:"$87B",leader:"Luc Frieden",title:"Financial Hub",analysis:{what:"Luxembourg has the world's highest GDP per capita, driven by financial services. It hosts major EU institutions including the European Court of Justice. Tax policies have faced criticism but remain attractive. The tiny country punches above its weight.",why:"Luxembourg is a major financial center with trillions in managed assets. Its EU institutional role gives influence. The country demonstrates how small states can thrive. Space industry ambitions are growing.",next:"Financial services dominance will continue despite pressure. Watch for: tax policy changes and EU relations."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Luxembourg fund industry reaches new highs",url:"#"}]},Oman:{lat:21.47,lng:55.98,flag:"",risk:"clear",region:"Middle East",pop:"5M",gdp:"$104B",leader:"Sultan Haitham",title:"Neutral Mediator",analysis:{what:"Oman maintains neutrality in regional conflicts, often serving as a diplomatic back channel. Sultan Haitham continues modernization while preserving stability. The economy is diversifying from oil through tourism and logistics. Relations with all regional powers are maintained.",why:"Oman's neutrality makes it invaluable for diplomacyUS-Iran talks often use Omani channels. The Strait of Hormuz gives strategic importance. The country balances Saudi, Iranian, and Western relationships uniquely.",next:"Mediating role will continue to be valuable. Watch for: economic diversification, succession stability, and diplomatic initiatives."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Oman facilitates regional dialogue",url:"#"}]},Iceland:{lat:64.96,lng:-19.02,flag:"",risk:"clear",region:"Northern Europe",pop:"0.4M",gdp:"$27B",leader:"Bjarni Benediktsson",title:"Volcanic Activity",analysis:{what:"Iceland has experienced significant volcanic activity with eruptions near Grindavk. The economy is driven by tourism, fishing, and geothermal energy. NATO member hosting US facilities. Financial recovery from 2008 crisis is complete.",why:"Iceland controls strategic North Atlantic approaches. Its renewable energy model is globally studied. Fishing rights remain important. Volcanic activity affects global aviation.",next:"Managing volcanic risks while maintaining tourism growth. Watch for: geological activity and Arctic positioning."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Volcanic activity continues near Grindavk",url:"#"}]},Malta:{lat:35.94,lng:14.38,flag:"",risk:"clear",region:"Mediterranean",pop:"0.5M",gdp:"$18B",leader:"Robert Abela",title:"Stable",analysis:{what:"Malta is a prosperous island nation with gaming, financial services, and tourism. EU membership has brought growth. Governance concerns exist around citizenship sales and journalist murder investigation. Mediterranean migration routes affect the island.",why:"Malta's strategic Mediterranean position has historical and current importance. Its gaming and fintech sectors are significant. The country hosts NATO naval facilities.",next:"Continued prosperity with governance questions. Watch for: migration pressures and rule of law concerns."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Malta gaming sector continues growth",url:"#"}]},Mongolia:{lat:46.86,lng:103.85,flag:"",risk:"clear",region:"East Asia",pop:"3.4M",gdp:"$17B",leader:"Khrelskh",title:"Stable Democracy",analysis:{what:'Mongolia is a rare democracy sandwiched between Russia and China. Mining (copper, coal) drives the economy but creates environmental concerns. "Third neighbor" policy seeks ties with US, Japan, South Korea. Traditional nomadic culture persists alongside modernization.',why:"Mongolia's democracy in a challenging neighborhood is remarkable. Its mineral resources are vast. The country provides a buffer between great powers. Traditional practices offer cultural heritage.",next:"Balancing great power relations while developing resources. Watch for: mining development, democratic resilience, and neighbor relations."},news:[{source:"Reuters",bias:"center",time:"3h ago",headline:"Mining exports drive economic growth",url:"#"}]},Jamaica:{lat:18.11,lng:-77.3,flag:"",risk:"cloudy",region:"Caribbean",pop:"3M",gdp:"$17B",leader:"Holness",title:"Tourism Economy",analysis:{what:"Jamaica faces high crime rates and gang violence despite being a popular tourist destination. The economy relies heavily on tourism, remittances, and bauxite mining.",why:"Jamaica is culturally influential globally through music and sports. Its strategic Caribbean location matters for US interests.",next:"Addressing crime while growing tourism. Watch for: anti-gang initiatives and economic diversification."},news:[{source:"Jamaica Observer",bias:"center",time:"4h ago",headline:"Tourism numbers continue recovery",url:"#"}]},"Dominican Republic":{lat:18.74,lng:-70.16,flag:"",risk:"cloudy",region:"Caribbean",pop:"11M",gdp:"$114B",leader:"Abinader",title:"Growing Economy",analysis:{what:"The Dominican Republic has one of the fastest-growing economies in Latin America. Tourism and free trade zones drive growth. Haitian migration creates social tensions.",why:"Strong growth makes it a regional success story. Relations with Haiti affect regional stability.",next:"Sustaining growth while managing migration. Watch for: Haitian border issues and tourism development."},news:[{source:"Reuters",bias:"center",time:"5h ago",headline:"Economic growth outpaces regional average",url:"#"}]},"Trinidad and Tobago":{lat:10.69,lng:-61.22,flag:"",risk:"cloudy",region:"Caribbean",pop:"1.4M",gdp:"$28B",leader:"Rowley",title:"Energy Exporter",analysis:{what:"Trinidad and Tobago is the Caribbean's largest oil and gas producer. The economy is heavily dependent on energy exports. Crime and gang violence are growing concerns.",why:"Energy resources make it relatively wealthy for the region. Venezuelan migration has increased.",next:"Diversifying beyond energy while addressing crime."},news:[{source:"Reuters",bias:"center",time:"6h ago",headline:"Energy sector drives budget surplus",url:"#"}]},Bahamas:{lat:25.03,lng:-77.4,flag:"",risk:"clear",region:"Caribbean",pop:"400K",gdp:"$14B",leader:"Davis",title:"Tourism Hub",analysis:{what:"The Bahamas economy depends almost entirely on tourism and financial services. Climate change and hurricanes pose existential threats to the low-lying islands.",why:"Proximity to US makes it a major tourist destination. Climate vulnerability is among the highest globally.",next:"Building climate resilience while growing tourism."},news:[{source:"Tribune",bias:"center",time:"4h ago",headline:"Cruise tourism hits record numbers",url:"#"}]},Barbados:{lat:13.19,lng:-59.54,flag:"",risk:"clear",region:"Caribbean",pop:"288K",gdp:"$6B",leader:"Mottley",title:"Climate Advocate",analysis:{what:"Barbados became a republic in 2021. PM Mottley is a global voice on climate finance and debt restructuring for developing nations.",why:"Mottley's climate advocacy gives it outsized influence. The Bridgetown Initiative on climate finance has global impact.",next:"Leading climate finance reform efforts."},news:[{source:"Barbados Today",bias:"center",time:"5h ago",headline:"Climate finance initiative gains support",url:"#"}]},Guatemala:{lat:15.78,lng:-90.23,flag:"",risk:"stormy",region:"Central America",pop:"17M",gdp:"$95B",leader:"Arvalo",title:"Democratic Transition",analysis:{what:"President Arvalo took office in 2024 after attempts to block his inauguration. Corruption remains endemic. Guatemala is a major source of US-bound migration.",why:"Democratic backsliding threatened but was resisted. Migration flows affect US politics.",next:"Testing whether reforms can succeed against entrenched interests."},news:[{source:"Reuters",bias:"center",time:"4h ago",headline:"New president pushes anti-corruption agenda",url:"#"}]},Honduras:{lat:14.08,lng:-87.21,flag:"",risk:"stormy",region:"Central America",pop:"10M",gdp:"$32B",leader:"Nasry Asfura",title:"Reform Efforts",analysis:{what:"President Xiomara Castro is the first female president, elected on anti-corruption platform. Gang violence remains severe.",why:"High violence drives migration northward. China switch affects regional geopolitics.",next:"Reducing violence and corruption."},news:[{source:"Reuters",bias:"center",time:"5h ago",headline:"Government announces anti-gang measures",url:"#"}]},Belize:{lat:17.19,lng:-88.5,flag:"",risk:"cloudy",region:"Central America",pop:"430K",gdp:"$3.3B",leader:"Briceo",title:"Diverse Nation",analysis:{what:"Belize is the only English-speaking Central American country. Tourism and agriculture drive the economy apply.",why:"Barrier reef is a major tourist attraction and environmental concern.",next:"Protecting environment while growing economy."},news:[{source:"Amandala",bias:"center",time:"6h ago",headline:"Reef conservation efforts intensify",url:"#"}]},Panama:{lat:9.1,lng:-79.4,flag:"",risk:"cloudy",region:"Central America",pop:"4.4M",gdp:"$77B",leader:"Mulino",title:"Canal State",analysis:{what:"The Panama Canal is essential to global trade. Drought has restricted canal capacity. Darien Gap migration surges.",why:"Canal disruptions affect global supply chains. Darien migration is a humanitarian crisis.",next:"Managing water resources and migration."},news:[{source:"Reuters",bias:"center",time:"4h ago",headline:"Canal drought restrictions continue",url:"#"}]},Paraguay:{lat:-23.44,lng:-58.44,flag:"",risk:"cloudy",region:"South America",pop:"7M",gdp:"$44B",leader:"Pea",title:"Landlocked Nation",analysis:{what:"Paraguay is landlocked and dependent on hydroelectric exports. Soy and beef are major exports. The country maintains relations with Taiwan.",why:"Hydroelectric partnership with Brazil is significant. Taiwan recognition makes it geopolitically notable.",next:"Balancing development and environment."},news:[{source:"ABC",bias:"center",time:"5h ago",headline:"Hydroelectric exports boost revenues",url:"#"}]},Suriname:{lat:3.92,lng:-56.03,flag:"",risk:"cloudy",region:"South America",pop:"620K",gdp:"$4B",leader:"Santokhi",title:"Oil Potential",analysis:{what:"Major offshore oil discoveries could transform Suriname's economy. The former Dutch colony is ethnically diverse.",why:"Oil discoveries make it potentially wealthy. Democratic transition from Bouterse era is important.",next:"Managing potential oil wealth responsibly."},news:[{source:"Starnieuws",bias:"center",time:"6h ago",headline:"Oil development plans advance",url:"#"}]},Albania:{lat:41.33,lng:19.82,flag:"",risk:"cloudy",region:"Europe",pop:"2.8M",gdp:"$23B",leader:"Rama",title:"EU Aspirant",analysis:{what:"Albania is pursuing EU membership and has made reforms. Tourism is growing. Organized crime and corruption remain challenges.",why:"EU accession process drives reforms. Strategic location on Adriatic.",next:"Continuing EU accession path."},news:[{source:"Exit News",bias:"center",time:"5h ago",headline:"EU integration talks continue",url:"#"}]},"North Macedonia":{lat:41.51,lng:21.75,flag:"",risk:"cloudy",region:"Europe",pop:"2.1M",gdp:"$15B",leader:"Siljanovska-Davkova",title:"NATO Member",analysis:{what:"Joined NATO in 2020 after name change agreement with Greece. EU membership blocked by Bulgaria over historical disputes.",why:"Name dispute resolution was historic achievement. EU path blocked creates frustration.",next:"Resolving Bulgaria dispute for EU path."},news:[{source:"MIA",bias:"center",time:"6h ago",headline:"EU membership negotiations stalled",url:"#"}]},Montenegro:{lat:42.44,lng:19.26,flag:"",risk:"cloudy",region:"Europe",pop:"620K",gdp:"$7B",leader:"Milatovi",title:"NATO Member",analysis:{what:"Montenegro joined NATO in 2017 and seeks EU membership. Russian influence and investment has been significant.",why:"NATO membership despite Russian pressure was notable. EU frontrunner in Western Balkans.",next:"Advancing EU accession while managing influences."},news:[{source:"Vijesti",bias:"center",time:"5h ago",headline:"EU accession talks progress",url:"#"}]},Kosovo:{lat:42.57,lng:20.9,flag:"",risk:"stormy",region:"Europe",pop:"1.8M",gdp:"$10B",leader:"Osmani",title:"Disputed Territory",analysis:{what:"Kosovo declared independence from Serbia in 2008 but is not universally recognized. Tensions with Serbia remain high.",why:"Serbia-Kosovo tensions risk regional instability. Recognition dispute affects international participation.",next:"Normalizing Serbia relations remains key."},news:[{source:"Prishtina Insight",bias:"center",time:"4h ago",headline:"EU-mediated talks with Serbia resume",url:"#"}]},"Bosnia and Herzegovina":{lat:43.92,lng:17.68,flag:"",risk:"stormy",region:"Europe",pop:"3.2M",gdp:"$28B",leader:"Beirovi",title:"Complex State",analysis:{what:"Bosnia's Dayton Agreement structure creates dysfunction. Republika Srpska leader Dodik threatens secession.",why:"Secession threats risk renewed conflict. EU path blocked by political dysfunction.",next:"Preventing further fragmentation."},news:[{source:"Klix",bias:"center",time:"5h ago",headline:"Political tensions remain high",url:"#"}]},Cyprus:{lat:35.17,lng:33.36,flag:"",risk:"cloudy",region:"Europe",pop:"1.3M",gdp:"$32B",leader:"Christodoulides",title:"Divided Island",analysis:{what:"Cyprus remains divided between Greek south and Turkish-occupied north. Reunification talks have repeatedly failed.",why:"Division affects EU-Turkey relations. Gas discoveries in eastern Mediterranean raise stakes.",next:"Reunification prospects remain dim."},news:[{source:"Cyprus Mail",bias:"center",time:"6h ago",headline:"Reunification talks show no progress",url:"#"}]},Bulgaria:{lat:42.73,lng:25.49,flag:"",risk:"cloudy",region:"Europe",pop:"6.5M",gdp:"$100B",leader:"Zhelezkov",title:"EU Member",analysis:{what:"Bulgaria has faced repeated political instability with multiple elections. Corruption remains endemic.",why:"Poorest EU member struggles with rule of law. Russian influence historically significant.",next:"Achieving political stability."},news:[{source:"Novinite",bias:"center",time:"5h ago",headline:"Political negotiations continue",url:"#"}]},Slovakia:{lat:48.67,lng:19.7,flag:"",risk:"cloudy",region:"Europe",pop:"5.4M",gdp:"$133B",leader:"Fico",title:"EU Dissent",analysis:{what:"PM Fico returned to power with pro-Russian rhetoric and opposition to Ukraine aid. Assassination attempt in 2024 shocked the country.",why:"Breaking EU consensus on Ukraine matters. Rule of law concerns affect EU relations.",next:"Watching democratic trajectory."},news:[{source:"SME",bias:"center",time:"4h ago",headline:"Government faces EU criticism",url:"#"}]},Cameroon:{lat:5.95,lng:10.15,flag:"",risk:"severe",region:"Africa",pop:"28M",gdp:"$46B",leader:"Biya",title:"Anglophone Crisis",analysis:{what:"President Biya has ruled since 1982. Anglophone regions face violent separatist conflict.",why:"Anglophone crisis has killed thousands and displaced millions. Biya's age creates succession uncertainty.",next:"Succession planning is overdue."},news:[{source:"Journal du Cameroun",bias:"center",time:"5h ago",headline:"Anglophone crisis continues",url:"#"}]},Chad:{lat:15.45,lng:18.73,flag:"",risk:"severe",region:"Africa",pop:"18M",gdp:"$13B",leader:"Dby",title:"Military Rule",analysis:{what:"Mahamat Dby took power after his father was killed in 2021. The country hosts French and US military bases.",why:"Strategic importance for Sahel counterterrorism is high. Refugee flows from Sudan add pressure.",next:"Watching promised democratic transition."},news:[{source:"Alwihda",bias:"center",time:"6h ago",headline:"Transition government extends timeline",url:"#"}]},"Central African Republic":{lat:6.61,lng:20.94,flag:"",risk:"severe",region:"Africa",pop:"5M",gdp:"$2.5B",leader:"Touadra",title:"Wagner Presence",analysis:{what:"CAR has been in civil war since 2012. Russian Wagner forces support the government and exploit resources.",why:"Wagner expansion model was tested here. Humanitarian crisis affects most of population.",next:"Continued instability likely."},news:[{source:"RFI",bias:"center",time:"5h ago",headline:"Security situation remains fragile",url:"#"}]},"Republic of Congo":{lat:-4.27,lng:15.28,flag:"",risk:"stormy",region:"Africa",pop:"6M",gdp:"$13B",leader:"Sassou Nguesso",title:"Oil State",analysis:{what:"President Sassou Nguesso has ruled for most of the period since 1979. Oil revenue dominates but benefits few.",why:"Oil dependence creates boom-bust cycles. Chinese debt is significant.",next:"Managing oil decline and debt."},news:[{source:"AFP",bias:"center",time:"6h ago",headline:"Oil production declines continue",url:"#"}]},Gabon:{lat:-.8,lng:11.61,flag:"",risk:"stormy",region:"Africa",pop:"2.4M",gdp:"$21B",leader:"Oligui Nguema",title:"Post-Coup Transition",analysis:{what:"Military coup in 2023 ended the Bongo family's 56-year rule. Junta promises democratic transition.",why:"Coup shows fragility of dynastic rule in Africa. Transition timeline uncertain.",next:"Watching promised democratization."},news:[{source:"Gabon Review",bias:"center",time:"5h ago",headline:"Transition government announces reforms",url:"#"}]},"Equatorial Guinea":{lat:1.65,lng:10.27,flag:"",risk:"stormy",region:"Africa",pop:"1.7M",gdp:"$12B",leader:"Obiang",title:"Oil Dictatorship",analysis:{what:"Teodoro Obiang has ruled since 1979, making him the world's longest-ruling president. Oil wealth benefits the elite.",why:"Extreme inequality despite oil wealth is stark. Human rights abuses are severe.",next:"Continued authoritarian rule expected."},news:[{source:"EG Justice",bias:"center",time:"6h ago",headline:"Human rights concerns persist",url:"#"}]},Eritrea:{lat:15.33,lng:38.93,flag:"",risk:"severe",region:"Africa",pop:"3.6M",gdp:"$2.3B",leader:"Isaias",title:"Isolated State",analysis:{what:"Eritrea is one of the world's most repressive states with no elections since independence. Indefinite military conscription drives mass emigration.",why:"Tigray involvement showed regional destabilization capacity. No constitution or independent media.",next:"Continued isolation and repression likely."},news:[{source:"Eritrea Hub",bias:"center",time:"5h ago",headline:"International isolation continues",url:"#"}]},Djibouti:{lat:11.59,lng:43.15,flag:"",risk:"cloudy",region:"Africa",pop:"1M",gdp:"$4B",leader:"Guelleh",title:"Strategic Port",analysis:{what:"Djibouti hosts military bases from US, France, China, Japan, and others. Its port handles most of Ethiopia's trade.",why:"Strategic location at Bab el-Mandeb strait is vital. Chinese base was their first overseas.",next:"Maintaining strategic balancing act."},news:[{source:"La Nation",bias:"center",time:"6h ago",headline:"Port expansion plans announced",url:"#"}]},Rwanda:{lat:-1.94,lng:29.87,flag:"",risk:"stormy",region:"Africa",pop:"14M",gdp:"$14B",leader:"Kagame",title:"Development Model",analysis:{what:"Rwanda has achieved remarkable development under Kagame but with authoritarian control. The country is accused of backing M23 rebels in DRC.",why:"Development success comes with democratic concerns. DRC involvement risks regional war.",next:"Balancing development and rights."},news:[{source:"The New Times",bias:"center",time:"5h ago",headline:"Economic growth continues",url:"#"}]},Burundi:{lat:-3.37,lng:29.36,flag:"",risk:"severe",region:"Africa",pop:"13M",gdp:"$3B",leader:"Ndayishimiye",title:"Post-Crisis State",analysis:{what:"Burundi faced political crisis in 2015. Current President has slightly eased repression. Extreme poverty persists.",why:"Ethnic tensions mirror Rwanda's history. Among world's poorest countries.",next:"Gradual opening or renewed repression."},news:[{source:"Iwacu",bias:"center",time:"6h ago",headline:"Government eases some restrictions",url:"#"}]},Uganda:{lat:1.37,lng:32.29,flag:"",risk:"stormy",region:"Africa",pop:"48M",gdp:"$50B",leader:"Museveni",title:"Long-Term Rule",analysis:{what:"Museveni has ruled since 1986. Anti-LGBTQ law drew international sanctions. Oil production is beginning.",why:"Anti-LGBTQ law affected aid and investment. Young population could drive unrest.",next:"Succession planning for aging ruler."},news:[{source:"Daily Monitor",bias:"center",time:"5h ago",headline:"Oil production ramp-up continues",url:"#"}]},"South Sudan":{lat:6.88,lng:31.31,flag:"",risk:"extreme",region:"Africa",pop:"11M",gdp:"$4B",leader:"Kiir",title:"Failed State",analysis:{what:"The world's newest country has been in civil war most of its existence. Peace deal has not been fully implemented.",why:"Humanitarian crisis affects millions. State barely functions outside capital.",next:"Elections repeatedly delayed."},news:[{source:"Radio Tamazuj",bias:"center",time:"4h ago",headline:"Elections delayed again",url:"#"}]},Mauritania:{lat:18.09,lng:-15.98,flag:"",risk:"cloudy",region:"Africa",pop:"5M",gdp:"$10B",leader:"Ghazouani",title:"Sahel Stability",analysis:{what:"Mauritania has avoided the coups and jihadi violence affecting neighbors. Growing gas production could transform economy.",why:"Relative stability in unstable region is notable. Gas potential could be transformative.",next:"Maintaining stability amid regional turmoil."},news:[{source:"Sahara Mdias",bias:"center",time:"6h ago",headline:"Gas development plans advance",url:"#"}]},Gambia:{lat:13.44,lng:-16.69,flag:"",risk:"cloudy",region:"Africa",pop:"2.7M",gdp:"$2.4B",leader:"Barrow",title:"Democratic Transition",analysis:{what:"Gambia transitioned from Jammeh's dictatorship in 2017 after he refused to accept election defeat.",why:"Democratic transition was remarkable. Truth and reconciliation process ongoing.",next:"Consolidating democracy."},news:[{source:"The Point",bias:"center",time:"5h ago",headline:"Truth commission releases findings",url:"#"}]},Guinea:{lat:9.95,lng:-9.7,flag:"",risk:"stormy",region:"Africa",pop:"14M",gdp:"$21B",leader:"Doumbouya",title:"Military Junta",analysis:{what:"Military coup in 2021 overthrew President Cond. Massive bauxite and iron ore reserves attract Chinese investment.",why:"Mining resources make it strategically important. Democratic transition timeline is unclear.",next:"Watching promised transition."},news:[{source:"Guinee7",bias:"center",time:"6h ago",headline:"Opposition protests face crackdown",url:"#"}]},"Guinea-Bissau":{lat:11.86,lng:-15.6,flag:"",risk:"stormy",region:"Africa",pop:"2.1M",gdp:"$2B",leader:"Embal",title:"Narco State",analysis:{what:"Guinea-Bissau is a major cocaine transit point to Europe. Political instability and coup attempts are frequent.",why:"Drug trafficking corrupts state institutions. Among world's poorest countries.",next:"Breaking the instability cycle."},news:[{source:"RFI",bias:"center",time:"5h ago",headline:"Drug trafficking concerns persist",url:"#"}]},"Sierra Leone":{lat:8.48,lng:-13.23,flag:"",risk:"cloudy",region:"Africa",pop:"8.6M",gdp:"$4.5B",leader:"Bio",title:"Post-War Recovery",analysis:{what:"Sierra Leone has rebuilt since the brutal civil war ended in 2002. 2023 election was disputed by opposition.",why:"Post-war stability shows recovery is possible. Development indicators remain very low.",next:"Resolving political tensions."},news:[{source:"Awoko",bias:"center",time:"6h ago",headline:"Post-election tensions ease",url:"#"}]},Liberia:{lat:6.43,lng:-9.43,flag:"",risk:"cloudy",region:"Africa",pop:"5.4M",gdp:"$4B",leader:"Boakai",title:"New Leadership",analysis:{what:"Joseph Boakai won 2023 election, defeating incumbent Weah. Founded by freed American slaves, Liberia has US ties.",why:"Peaceful transfer of power was democratic milestone. US historical ties are unique in Africa.",next:"New government faces development challenges."},news:[{source:"Front Page Africa",bias:"center",time:"5h ago",headline:"New government announces priorities",url:"#"}]},"Ivory Coast":{lat:7.54,lng:-5.55,flag:"",risk:"cloudy",region:"Africa",pop:"29M",gdp:"$80B",leader:"Ouattara",title:"Economic Leader",analysis:{what:"Ivory Coast is the world's largest cocoa producer and West Africa's largest economy.",why:"Economic importance to region is significant. Cocoa industry faces sustainability challenges.",next:"Managing succession and economic growth."},news:[{source:"Abidjan.net",bias:"center",time:"6h ago",headline:"Economic growth remains strong",url:"#"}]},Togo:{lat:6.17,lng:1.23,flag:"",risk:"stormy",region:"Africa",pop:"9M",gdp:"$9B",leader:"Gnassingb",title:"Dynasty Rule",analysis:{what:"The Gnassingb family has ruled since 1967. Constitutional changes in 2024 extended presidential power.",why:"Dynastic rule shows authoritarian persistence. Democratic space is very limited.",next:"Continued family rule expected."},news:[{source:"Togo First",bias:"center",time:"5h ago",headline:"Constitutional changes implemented",url:"#"}]},Benin:{lat:9.31,lng:2.32,flag:"",risk:"cloudy",region:"Africa",pop:"13M",gdp:"$19B",leader:"Talon",title:"Democratic Backslide",analysis:{what:"Once a democratic model, Benin has seen backsliding under President Talon. Opposition leaders imprisoned or exiled.",why:"Democratic decline in former model is concerning. Opposition space has shrunk dramatically.",next:"Watching political trajectory."},news:[{source:"La Nation",bias:"center",time:"6h ago",headline:"Economic reforms continue",url:"#"}]},Ghana:{lat:7.95,lng:-1.02,flag:"",risk:"cloudy",region:"Africa",pop:"34M",gdp:"$79B",leader:"Mahama",title:"Democratic Model",analysis:{what:"Ghana is considered one of Africa's most stable democracies. Economic crisis led to IMF bailout.",why:"Democratic stability makes it regional anchor. Peaceful elections are regular occurrence.",next:"Economic recovery under new government."},news:[{source:"GhanaWeb",bias:"center",time:"5h ago",headline:"New government tackles economic crisis",url:"#"}]},"Cape Verde":{lat:15.12,lng:-23.61,flag:"",risk:"clear",region:"Africa",pop:"600K",gdp:"$2.5B",leader:"Neves",title:"Island Democracy",analysis:{what:"Cape Verde is one of Africa's most stable democracies. Tourism drives the economy.",why:"Democratic stability is exemplary for region. Geographic isolation limits options.",next:"Diversifying tourism-dependent economy."},news:[{source:"A Semana",bias:"center",time:"6h ago",headline:"Tourism sector expands",url:"#"}]},Madagascar:{lat:-18.77,lng:46.87,flag:"",risk:"stormy",region:"Africa",pop:"30M",gdp:"$16B",leader:"Rajoelina",title:"Biodiversity Hotspot",analysis:{what:"Madagascar has unique biodiversity found nowhere else. Deforestation threatens endemic species. Poverty is widespread.",why:"Environmental destruction is irreversible loss. Unique wildlife draws conservation attention.",next:"Balancing development and conservation."},news:[{source:"L'Express de Madagascar",bias:"center",time:"5h ago",headline:"Conservation challenges continue",url:"#"}]},Mauritius:{lat:-20.35,lng:57.55,flag:"",risk:"clear",region:"Africa",pop:"1.3M",gdp:"$15B",leader:"Ramgoolam",title:"Success Story",analysis:{what:"Mauritius transformed from sugar monoculture to diversified economy with tourism, textiles, and financial services.",why:"Economic success model for small islands. Democratic stability is exceptional for region.",next:"Sustaining economic diversification."},news:[{source:"L'Express",bias:"center",time:"6h ago",headline:"Financial sector continues growth",url:"#"}]},Seychelles:{lat:-4.68,lng:55.49,flag:"",risk:"clear",region:"Africa",pop:"100K",gdp:"$1.7B",leader:"Patrick Herminie",title:"Tourism Paradise",analysis:{what:"Seychelles has the highest GDP per capita in Africa. Tourism and fishing drive the economy.",why:"Economic success shows small state potential. Environmental vulnerability is extreme.",next:"Adapting to climate change."},news:[{source:"Seychelles News Agency",bias:"center",time:"5h ago",headline:"Marine conservation efforts expand",url:"#"}]},Malawi:{lat:-13.97,lng:33.79,flag:"",risk:"cloudy",region:"Africa",pop:"21M",gdp:"$14B",leader:"Peter Mutharika",title:"Landlocked Struggle",analysis:{what:"Malawi overturned a fraudulent election in 2020, a democratic milestone. The landlocked country is one of the world's poorest.",why:"Election overturn was remarkable democratic moment. Poverty and underdevelopment are severe.",next:"Building on democratic gains."},news:[{source:"Nyasa Times",bias:"center",time:"6h ago",headline:"Government pushes development agenda",url:"#"}]},Zambia:{lat:-15.39,lng:28.32,flag:"",risk:"cloudy",region:"Africa",pop:"20M",gdp:"$29B",leader:"Hichilema",title:"Copper Economy",analysis:{what:"Zambia defaulted on debt in 2020. New president Hichilema is pursuing reforms and debt restructuring.",why:"Debt restructuring tests international mechanisms. Copper demand for green transition is rising.",next:"Managing debt and copper opportunity."},news:[{source:"Lusaka Times",bias:"center",time:"5h ago",headline:"Debt restructuring advances",url:"#"}]},Zimbabwe:{lat:-19.02,lng:29.15,flag:"",risk:"stormy",region:"Africa",pop:"16M",gdp:"$35B",leader:"Mnangagwa",title:"Economic Crisis",analysis:{what:"Zimbabwe continues to face economic crisis with hyperinflation. Lithium resources attract interest.",why:"Economic collapse has devastated population. Elections are not free or fair.",next:"Economic stabilization remains elusive."},news:[{source:"NewsDay",bias:"center",time:"6h ago",headline:"Economic challenges persist",url:"#"}]},Mozambique:{lat:-18.67,lng:35.53,flag:"",risk:"severe",region:"Africa",pop:"33M",gdp:"$20B",leader:"Nyusi",title:"Insurgency Threat",analysis:{what:"Mozambique faces ISIS-linked insurgency in gas-rich Cabo Delgado. Massive LNG projects are delayed by insecurity.",why:"Gas resources could transform economy if security achieved. Election violence shows political fragility.",next:"Security situation determines gas future."},news:[{source:"Club of Mozambique",bias:"center",time:"5h ago",headline:"Security concerns affect gas projects",url:"#"}]},Namibia:{lat:-22.96,lng:18.49,flag:"",risk:"clear",region:"Africa",pop:"2.6M",gdp:"$14B",leader:"Nandi-Ndaitwah",title:"Stable Democracy",analysis:{what:"Namibia is one of Africa's most stable democracies. First female president elected in 2024.",why:"Democratic stability is exemplary. First female president is milestone.",next:"New leadership era begins."},news:[{source:"The Namibian",bias:"center",time:"6h ago",headline:"New president outlines priorities",url:"#"}]},Angola:{lat:-11.2,lng:17.87,flag:"",risk:"stormy",region:"Africa",pop:"36M",gdp:"$118B",leader:"Loureno",title:"Oil Giant",analysis:{what:"Angola is Africa's second-largest oil producer. President Loureno has pursued anti-corruption campaign.",why:"Oil revenues haven't reduced poverty. Economic diversification urgently needed.",next:"Managing oil decline and debt."},news:[{source:"Club-K",bias:"center",time:"5h ago",headline:"Anti-corruption campaign continues",url:"#"}]},Jordan:{lat:31.95,lng:35.93,flag:"",risk:"cloudy",region:"Middle East",pop:"11M",gdp:"$51B",leader:"Abdullah II",title:"Regional Stability",analysis:{what:"Jordan hosts millions of refugees from neighboring conflicts. Water scarcity is critical.",why:"Refugee burden is enormous for resources. Strategic importance for regional stability.",next:"Managing scarce resources amid regional turmoil."},news:[{source:"Jordan Times",bias:"center",time:"5h ago",headline:"Water conservation measures intensify",url:"#"}]},Kuwait:{lat:29.38,lng:47.99,flag:"",risk:"clear",region:"Middle East",pop:"4.3M",gdp:"$165B",leader:"Mishal",title:"Oil Wealth",analysis:{what:"Kuwait has massive oil wealth and relatively open politics for the Gulf. Parliament often clashes with government.",why:"Oil reserves ensure continued wealth. More political freedom than Gulf neighbors.",next:"Managing oil transition and political tensions."},news:[{source:"Kuwait Times",bias:"center",time:"6h ago",headline:"Budget projects oil revenue growth",url:"#"}]},Bahrain:{lat:26.23,lng:50.59,flag:"",risk:"cloudy",region:"Middle East",pop:"1.5M",gdp:"$46B",leader:"Hamad",title:"Small Kingdom",analysis:{what:"Bahrain crushed Arab Spring protests in 2011 with Saudi help. Sunni monarchy rules over Shia majority.",why:"Sectarian tensions simmer beneath surface. US Navy Fifth Fleet headquartered here.",next:"Managing sectarian balance and economic transition."},news:[{source:"GDN Online",bias:"center",time:"5h ago",headline:"Financial sector expansion continues",url:"#"}]},Kazakhstan:{lat:48.02,lng:66.92,flag:"",risk:"cloudy",region:"Central Asia",pop:"20M",gdp:"$260B",leader:"Tokayev",title:"Energy Giant",analysis:{what:"Kazakhstan is Central Asia's largest economy with vast oil and mineral resources. 2022 unrest required Russian intervention.",why:"Energy resources make it strategically important. Balancing Russia and West is challenging.",next:"Navigating between great powers."},news:[{source:"Astana Times",bias:"center",time:"6h ago",headline:"Oil exports to Europe increase",url:"#"}]},Uzbekistan:{lat:41.38,lng:64.59,flag:"",risk:"cloudy",region:"Central Asia",pop:"36M",gdp:"$92B",leader:"Mirziyoyev",title:"Opening Up",analysis:{what:"Uzbekistan has liberalized significantly since 2016. Cotton forced labor has been reduced.",why:"Reform trajectory contrasts with neighbors. Largest Central Asian population.",next:"Sustaining reform momentum."},news:[{source:"Kun.uz",bias:"center",time:"5h ago",headline:"Economic reforms attract investment",url:"#"}]},Turkmenistan:{lat:38.97,lng:59.56,flag:"",risk:"stormy",region:"Central Asia",pop:"6.5M",gdp:"$60B",leader:"Berdimuhamedow",title:"Isolated State",analysis:{what:"Turkmenistan is one of the world's most repressive and isolated states. Massive gas reserves but only exports to China.",why:"Gas dependence on China is total. Reliable information barely exists.",next:"Continued isolation likely."},news:[{source:"Chronicles of Turkmenistan",bias:"center",time:"6h ago",headline:"Economic situation unclear",url:"#"}]},Tajikistan:{lat:38.86,lng:71.28,flag:"",risk:"stormy",region:"Central Asia",pop:"10M",gdp:"$12B",leader:"Rahmon",title:"Authoritarian Rule",analysis:{what:"President Rahmon has ruled since 1994. Taliban control of Afghanistan border raises security concerns.",why:"Border with Taliban Afghanistan is risk. Remittances from Russia crucial.",next:"Managing Afghanistan spillover risks."},news:[{source:"Asia-Plus",bias:"center",time:"5h ago",headline:"Border security measures increase",url:"#"}]},Kyrgyzstan:{lat:41.2,lng:74.77,flag:"",risk:"stormy",region:"Central Asia",pop:"7M",gdp:"$12B",leader:"Japarov",title:"Populist Rule",analysis:{what:"Kyrgyzstan has had multiple revolutions. Border clashes with Tajikistan are recurring.",why:"Most open society in Central Asia now closing. Border disputes risk regional stability.",next:"Political trajectory uncertain."},news:[{source:"Kloop",bias:"center",time:"6h ago",headline:"Border tensions with Tajikistan continue",url:"#"}]},Nepal:{lat:28.39,lng:84.12,flag:"",risk:"cloudy",region:"South Asia",pop:"30M",gdp:"$42B",leader:"Oli",title:"Himalayan Nation",analysis:{what:"Nepal transitioned from monarchy to republic in 2008. Caught between China and India.",why:"Strategic location between giants shapes policy. Hydropower potential is vast.",next:"Balancing China-India relations."},news:[{source:"Kathmandu Post",bias:"center",time:"5h ago",headline:"Government navigates regional pressures",url:"#"}]},Bhutan:{lat:27.51,lng:90.43,flag:"",risk:"clear",region:"South Asia",pop:"780K",gdp:"$3B",leader:"Tshering",title:"Happiness Index",analysis:{what:"Bhutan measures Gross National Happiness alongside GDP. The Buddhist kingdom has carefully managed modernization.",why:"Alternative development model draws attention. Carbon negative country.",next:"Maintaining unique development path."},news:[{source:"Kuensel",bias:"center",time:"6h ago",headline:"Happiness indicators remain stable",url:"#"}]},Maldives:{lat:3.2,lng:73.22,flag:"",risk:"cloudy",region:"South Asia",pop:"520K",gdp:"$7B",leader:"Muizzu",title:"Climate Frontline",analysis:{what:"The Maldives faces existential threat from rising seas. New president shifted toward China from India.",why:"Climate vulnerability is extreme. India-China competition plays out here.",next:"Adapting to climate change or relocating."},news:[{source:"Maldives Independent",bias:"center",time:"5h ago",headline:"Climate adaptation projects advance",url:"#"}]},Cambodia:{lat:12.57,lng:104.99,flag:"",risk:"stormy",region:"Southeast Asia",pop:"17M",gdp:"$32B",leader:"Hun Manet",title:"Dynastic Succession",analysis:{what:"Hun Sen ruled for 38 years before handing power to son Hun Manet. Opposition is crushed.",why:"Dynastic succession consolidates family power. Democratic space has vanished.",next:"Continued authoritarian rule under new generation."},news:[{source:"VOD",bias:"center",time:"6h ago",headline:"New leader consolidates power",url:"#"}]},Laos:{lat:17.97,lng:102.63,flag:"",risk:"stormy",region:"Southeast Asia",pop:"7.5M",gdp:"$15B",leader:"Sonexay",title:"Debt Trapped",analysis:{what:"Laos has massive Chinese debt from infrastructure projects. The communist state is one of few remaining.",why:"Debt trap diplomacy concerns are real. Hydropower creates regional dependencies.",next:"Managing unsustainable debt."},news:[{source:"Vientiane Times",bias:"center",time:"5h ago",headline:"Debt management discussions continue",url:"#"}]},Brunei:{lat:4.54,lng:114.73,flag:"",risk:"clear",region:"Southeast Asia",pop:"450K",gdp:"$18B",leader:"Hassanal Bolkiah",title:"Oil Sultanate",analysis:{what:"Brunei is an absolute monarchy with oil wealth. Sultan has ruled since 1967.",why:"Oil wealth enables generous welfare state. Sharia law implementation drew criticism.",next:"Diversifying before oil runs out."},news:[{source:"Borneo Bulletin",bias:"center",time:"6h ago",headline:"Economic diversification efforts continue",url:"#"}]},"Timor-Leste":{lat:-8.87,lng:125.73,flag:"",risk:"cloudy",region:"Southeast Asia",pop:"1.4M",gdp:"$3B",leader:"Ramos-Horta",title:"Young Nation",analysis:{what:"Asia's youngest nation gained independence from Indonesia in 2002 after brutal occupation.",why:"Nation-building from trauma is ongoing. Petroleum fund management is crucial.",next:"Preparing for post-oil economy."},news:[{source:"Tatoli",bias:"center",time:"5h ago",headline:"ASEAN membership talks advance",url:"#"}]},"Papua New Guinea":{lat:-6.31,lng:143.96,flag:"",risk:"stormy",region:"Oceania",pop:"10M",gdp:"$32B",leader:"Marape",title:"Resource Rich",analysis:{what:"PNG has vast natural resources but limited development. Tribal violence has increased dramatically.",why:"Resource wealth hasn't reduced poverty. Strategic competition between China and West.",next:"Managing resources and violence."},news:[{source:"Post-Courier",bias:"center",time:"6h ago",headline:"Tribal violence concerns grow",url:"#"}]},Fiji:{lat:-17.71,lng:178.07,flag:"",risk:"cloudy",region:"Oceania",pop:"930K",gdp:"$5B",leader:"Rabuka",title:"Pacific Hub",analysis:{what:"Fiji has had multiple coups but returned to democracy. Climate change threatens low-lying areas.",why:"Pacific regional leadership role is significant. Democratic stability improving.",next:"Leading Pacific climate advocacy."},news:[{source:"Fiji Times",bias:"center",time:"5h ago",headline:"Climate conference preparations advance",url:"#"}]},"Solomon Islands":{lat:-9.43,lng:160.02,flag:"",risk:"stormy",region:"Oceania",pop:"720K",gdp:"$1.6B",leader:"Manele",title:"China Pivot",analysis:{what:"Solomon Islands switched to China in 2019 and signed security pact. Ethnic tensions led to 2021 riots.",why:"China security pact alarmed Australia and US. Strategic location in Pacific.",next:"Managing great power competition."},news:[{source:"Solomon Star",bias:"center",time:"6h ago",headline:"Infrastructure projects advance",url:"#"}]},Vanuatu:{lat:-15.38,lng:166.96,flag:"",risk:"cloudy",region:"Oceania",pop:"330K",gdp:"$1B",leader:"Kalsakau",title:"Climate Vulnerable",analysis:{what:"Vanuatu is extremely vulnerable to cyclones. The country sought ICJ advisory opinion on climate obligations.",why:"Climate legal action sets precedent. Cyclone vulnerability is extreme.",next:"Leading climate litigation efforts."},news:[{source:"Vanuatu Daily Post",bias:"center",time:"5h ago",headline:"Climate adaptation measures expand",url:"#"}]},Samoa:{lat:-13.83,lng:-171.76,flag:"",risk:"clear",region:"Oceania",pop:"220K",gdp:"$800M",leader:"Fiame",title:"Stable Nation",analysis:{what:"Samoa has stable democracy and strong cultural traditions. First female PM elected in 2021.",why:"First female PM was milestone. Cultural traditions remain strong.",next:"Maintaining stability and culture."},news:[{source:"Samoa Observer",bias:"center",time:"6h ago",headline:"Cultural preservation efforts continue",url:"#"}]},Tonga:{lat:-21.18,lng:-175.2,flag:"",risk:"clear",region:"Oceania",pop:"106K",gdp:"$500M",leader:"Tupou VI",title:"Pacific Kingdom",analysis:{what:"Tonga is the only Pacific monarchy. 2022 volcanic eruption caused major damage.",why:"Volcanic eruption showed extreme vulnerability. Monarchy is constitutionally evolving.",next:"Recovering from natural disaster."},news:[{source:"Matangi Tonga",bias:"center",time:"5h ago",headline:"Post-eruption reconstruction continues",url:"#"}]},Kiribati:{lat:1.87,lng:-157.36,flag:"",risk:"severe",region:"Oceania",pop:"130K",gdp:"$200M",leader:"Maamau",title:"Sinking Nation",analysis:{what:"Kiribati faces existential threat from sea level rise. Government purchased land in Fiji for potential relocation.",why:"Nation may become uninhabitable within decades. Climate frontline state.",next:"Planning for potential national relocation."},news:[{source:"Pacific Islands Report",bias:"center",time:"6h ago",headline:"Sea level rise accelerates",url:"#"}]},"Marshall Islands":{lat:7.13,lng:171.18,flag:"",risk:"cloudy",region:"Oceania",pop:"60K",gdp:"$270M",leader:"Heine",title:"Nuclear Legacy",analysis:{what:"The Marshall Islands suffers from legacy of US nuclear testing. Compact of Free Association with US provides funding.",why:"Nuclear testing legacy creates ongoing health issues. Climate vulnerability extreme.",next:"Addressing nuclear legacy and climate."},news:[{source:"Marshall Islands Journal",bias:"center",time:"5h ago",headline:"Compact negotiations continue",url:"#"}]},Micronesia:{lat:6.89,lng:158.22,flag:"",risk:"cloudy",region:"Oceania",pop:"115K",gdp:"$400M",leader:"Simina",title:"Island Federation",analysis:{what:"The Federated States of Micronesia has Compact of Free Association with US.",why:"Strategic location for US Pacific presence. Climate change threatens low islands.",next:"Implementing renewed US compact."},news:[{source:"Kaselehlie Press",bias:"center",time:"6h ago",headline:"US compact implementation begins",url:"#"}]},Palau:{lat:7.51,lng:134.58,flag:"",risk:"clear",region:"Oceania",pop:"18K",gdp:"$280M",leader:"Whipps Jr.",title:"Marine Sanctuary",analysis:{what:"Palau created one of world's largest marine sanctuaries. Maintains Taiwan recognition.",why:"Marine conservation is globally significant. US military access expanding.",next:"Balancing conservation and development."},news:[{source:"Island Times",bias:"center",time:"5h ago",headline:"Marine sanctuary expansion proposed",url:"#"}]},Nauru:{lat:-.52,lng:166.93,flag:"",risk:"cloudy",region:"Oceania",pop:"11K",gdp:"$150M",leader:"Adeang",title:"Smallest Republic",analysis:{what:"Nauru depleted its phosphate resources and now hosts Australian migrant detention center.",why:"Cautionary tale of resource depletion. Australian detention arrangement is controversial.",next:"Finding sustainable economic path."},news:[{source:"Pacific Islands Report",bias:"center",time:"6h ago",headline:"Economic diversification efforts continue",url:"#"}]},Tuvalu:{lat:-7.48,lng:179.2,flag:"",risk:"severe",region:"Oceania",pop:"11K",gdp:"$60M",leader:"Teo",title:"Disappearing Nation",analysis:{what:"Tuvalu will likely be submerged by rising seas this century. Australia offered residency rights.",why:"Most vulnerable nation to climate change. Digital revenue from .tv domain is creative solution.",next:"Preserving nationhood amid disappearance."},news:[{source:"Pacific Islands Report",bias:"center",time:"5h ago",headline:"Australia migration agreement implemented",url:"#"}]},Andorra:{lat:42.51,lng:1.52,flag:"",risk:"clear",region:"Europe",pop:"80K",gdp:"$3.4B",leader:"Xavier Espot",title:"Pyrenees Microstate",analysis:{what:"Andorra is a small principality between France and Spain. Tourism and banking drive the economy. Not an EU member but uses the euro.",why:"Tax haven status attracts business. Ski tourism is major industry.",next:"Maintaining economic model amid international tax reforms."},news:[{source:"Diari d'Andorra",bias:"center",time:"6h ago",headline:"Tourism season exceeds expectations",url:"#"}]},"Antigua and Barbuda":{lat:17.06,lng:-61.8,flag:"",risk:"cloudy",region:"Caribbean",pop:"100K",gdp:"$2B",leader:"Gaston Browne",title:"Island Paradise",analysis:{what:"Antigua and Barbuda depends heavily on tourism. Hurricane Irma devastated Barbuda in 2017.",why:"Climate vulnerability threatens island nations. Citizenship by investment program draws attention.",next:"Building climate resilience."},news:[{source:"Antigua Observer",bias:"center",time:"5h ago",headline:"Tourism recovery continues",url:"#"}]},Comoros:{lat:-11.65,lng:43.33,flag:"",risk:"stormy",region:"Africa",pop:"900K",gdp:"$1.3B",leader:"Azali Assoumani",title:"Island Instability",analysis:{what:"Comoros has experienced numerous coups since independence. The island nation claims Mayotte, held by France.",why:"Political instability undermines development. Mayotte dispute affects French relations.",next:"Achieving political stability."},news:[{source:"Al-Watwan",bias:"center",time:"6h ago",headline:"Political tensions remain",url:"#"}]},Dominica:{lat:15.42,lng:-61.35,flag:"",risk:"cloudy",region:"Caribbean",pop:"72K",gdp:"$600M",leader:"Roosevelt Skerrit",title:"Nature Isle",analysis:{what:"Dominica markets itself as the Nature Isle of the Caribbean. Hurricane Maria caused catastrophic damage in 2017.",why:"Climate resilience building is essential. Eco-tourism potential is significant.",next:"Building back better from hurricanes."},news:[{source:"Dominica News Online",bias:"center",time:"5h ago",headline:"Climate resilience projects advance",url:"#"}]},Eswatini:{lat:-26.52,lng:31.47,flag:"",risk:"stormy",region:"Africa",pop:"1.2M",gdp:"$5B",leader:"King Mswati III",title:"Absolute Monarchy",analysis:{what:"Eswatini (formerly Swaziland) is Africa's last absolute monarchy. Pro-democracy protests in 2021 were met with violence.",why:"Democratic demands challenge royal control. HIV prevalence among world's highest.",next:"Managing reform pressure."},news:[{source:"Swazi Observer",bias:"center",time:"6h ago",headline:"Economic reforms announced",url:"#"}]},Grenada:{lat:12.12,lng:-61.67,flag:"",risk:"clear",region:"Caribbean",pop:"125K",gdp:"$1.3B",leader:"Dickon Mitchell",title:"Spice Isle",analysis:{what:"Grenada is known for nutmeg production. The US invaded in 1983. Tourism now dominates the economy.",why:"Tourism recovery post-COVID was strong. Climate vulnerability remains concern.",next:"Diversifying beyond tourism."},news:[{source:"NOW Grenada",bias:"center",time:"5h ago",headline:"Tourism numbers continue growth",url:"#"}]},Lesotho:{lat:-29.61,lng:28.23,flag:"",risk:"stormy",region:"Africa",pop:"2.3M",gdp:"$2.5B",leader:"Sam Matekane",title:"Mountain Kingdom",analysis:{what:"Lesotho is completely surrounded by South Africa. Water exports to SA are vital. Political instability and poverty persist.",why:"Unique geographic situation creates dependencies. High HIV rates affect population.",next:"Reducing South Africa dependence."},news:[{source:"Lesotho Times",bias:"center",time:"6h ago",headline:"Water project expansion planned",url:"#"}]},Liechtenstein:{lat:47.17,lng:9.55,flag:"",risk:"clear",region:"Europe",pop:"40K",gdp:"$7B",leader:"Prince Hans-Adam II",title:"Alpine Microstate",analysis:{what:"Liechtenstein is one of the world's wealthiest countries per capita. Banking and manufacturing drive economy.",why:"Financial services attract international business. Swiss customs union provides stability.",next:"Maintaining prosperity."},news:[{source:"Vaterland",bias:"center",time:"5h ago",headline:"Financial sector remains strong",url:"#"}]},Monaco:{lat:43.73,lng:7.42,flag:"",risk:"clear",region:"Europe",pop:"40K",gdp:"$8.6B",leader:"Prince Albert II",title:"Luxury Enclave",analysis:{what:"Monaco is the world's most densely populated country. No income tax attracts the ultra-wealthy. Famous for Grand Prix and casinos.",why:"Tax haven status attracts global elite. Environmental initiatives under Prince Albert.",next:"Balancing growth with limited space."},news:[{source:"Monaco Tribune",bias:"center",time:"6h ago",headline:"Real estate prices reach new highs",url:"#"}]},"San Marino":{lat:43.94,lng:12.46,flag:"",risk:"clear",region:"Europe",pop:"34K",gdp:"$1.9B",leader:"Captains Regent",title:"Oldest Republic",analysis:{what:"San Marino claims to be the world's oldest republic, founded in 301 AD. Surrounded entirely by Italy.",why:"Historical significance draws tourists. Unique dual head of state system.",next:"Maintaining independence and traditions."},news:[{source:"San Marino RTV",bias:"center",time:"5h ago",headline:"Tourism contributes to growth",url:"#"}]},"Sao Tome and Principe":{lat:.33,lng:6.73,flag:"",risk:"cloudy",region:"Africa",pop:"225K",gdp:"$600M",leader:"Carlos Vila Nova",title:"Gulf of Guinea Islands",analysis:{what:"Sao Tome and Principe are islands in the Gulf of Guinea. Offshore oil potential could transform the economy.",why:"Oil prospects attract international interest. Small size limits development options.",next:"Managing potential oil wealth."},news:[{source:"Tela Non",bias:"center",time:"6h ago",headline:"Oil exploration continues",url:"#"}]},"Saint Kitts and Nevis":{lat:17.36,lng:-62.78,flag:"",risk:"clear",region:"Caribbean",pop:"55K",gdp:"$1.1B",leader:"Terrance Drew",title:"Federation",analysis:{what:"Saint Kitts and Nevis is a two-island federation. Tourism and citizenship by investment drive economy.",why:"Citizenship program attracts wealthy applicants. Sugar industry ended in 2005.",next:"Diversifying economic base."},news:[{source:"SKN Vibes",bias:"center",time:"5h ago",headline:"Citizenship program reforms announced",url:"#"}]},"Saint Lucia":{lat:13.91,lng:-60.98,flag:"",risk:"clear",region:"Caribbean",pop:"180K",gdp:"$2.1B",leader:"Philip Pierre",title:"Volcanic Beauty",analysis:{what:"Saint Lucia is known for its twin Pitons volcanic spires. Tourism dominates the economy. Banana exports have declined.",why:"Tourism is primary revenue source. Climate vulnerability threatens future.",next:"Developing sustainable tourism."},news:[{source:"St. Lucia Times",bias:"center",time:"6h ago",headline:"Tourism arrivals exceed targets",url:"#"}]},"Saint Vincent and the Grenadines":{lat:13.25,lng:-61.2,flag:"",risk:"cloudy",region:"Caribbean",pop:"110K",gdp:"$900M",leader:"Ralph Gonsalves",title:"Volcanic Islands",analysis:{what:"La Soufrire volcano erupted in 2021 causing evacuations. Tourism and agriculture drive economy.",why:"Volcanic activity poses ongoing risk. Post-eruption recovery ongoing.",next:"Rebuilding after volcanic eruption."},news:[{source:"iWitness News",bias:"center",time:"5h ago",headline:"Volcanic monitoring continues",url:"#"}]}},lf=[{flag:"",country:"Bangladesh",date:"Feb 2026",type:"General Election & Referendum",winner:"Tarique Rahman - BNP (Center-Right)",result:"BNP wins landslide (~211/299 seats)",summary:"First election since 2024 July Revolution ousted Hasina. BNP wins majority; Jamaat-e-Islami (~70 seats) becomes main opposition. July Charter referendum passes with 72.9% approval. 47.9% turnout."},{flag:"",country:"Japan",date:"Feb 2026",type:"Snap Election",winner:"Sanae Takaichi - LDP (Right Wing)",result:"LDP wins majority",summary:"First female PM. Nationalist conservative takes power after snap election landslide."},{flag:"",country:"Portugal",date:"Jan 2026",type:"Presidential Election",winner:"Ana Gomes - PS (Left Wing)",result:"Leftist victory",summary:"Defeated far-right surge. Chega party gains but falls short."},{flag:"",country:"Thailand",date:"Jan 2026",type:"Senate Elections",winner:"Move Forward (Left Wing)",result:"Progressive gains",summary:"Reformist senators elected. Military influence declining."}],OT=[{flag:"",country:"Vietnam",date:"Mar 2026",type:"Legislative Elections",stakes:"Communist Party to affirm control. Economic reform direction at stake."},{flag:"",country:"Australia",date:"May 2026",type:"Federal Election",stakes:"Labor seeks second term. Cost of living and housing key issues."},{flag:"",country:"Colombia",date:"May 2026",type:"Presidential Election",stakes:"Petro barred from re-election. Test of Latin America's left turn."},{flag:"",country:"Lebanon",date:"May 2026",type:"Parliamentary Election",stakes:"First test for new government. Hezbollah's role in question post-Gaza war."},{flag:"",country:"Israel",date:"Oct 2026",type:"General Election",stakes:"Netanyahu coalition faces pressure. Could trigger early if budget fails."},{flag:"",country:"Hungary",date:"Oct 2026",type:"Parliamentary Election",stakes:"Orban faces toughest challenge from Tisza Party. EU relations at stake."},{flag:"",country:"Bosnia",date:"Oct 2026",type:"General Elections",stakes:"Ethnic tensions persist. Serb separatism and EU path in balance."},{flag:"",country:"Brazil",date:"Oct 2026",type:"General Elections",stakes:"Lula vs Bolsonaro family rematch. Democracy and Amazon at stake."},{flag:"",country:"United States",date:"Nov 2026",type:"Midterm Elections",stakes:"Control of Congress at stake. All 435 House seats and 35 Senate seats."},{flag:"",country:"France",date:"Apr 2027",type:"Presidential Election",stakes:"Macron term-limited. Le Pen favored amid political fragmentation."},{flag:"",country:"South Korea",date:"Mar 2027",type:"Presidential Election",stakes:"Political crisis aftermath. Conservative vs progressive showdown."}],zT=[{region:"Eastern Europe",risk:"catastrophic",current:"Active warfare continues in Ukraine with no ceasefire in sight. Western support remains crucial but faces domestic political challenges.",forecast:"Expect continued attritional warfare through winter. Watch for potential diplomatic windows in Q2 2026 as ammunition constraints affect both sides.",indicators:[{text:"Conflict Intensity",dir:"up"},{text:"Western Unity",dir:"down"},{text:"Negotiations",dir:"stable"}]},{region:"Middle East",risk:"extreme",current:"Multi-front regional tensions involving Israel, Iran, and proxy forces. Humanitarian crisis in Gaza continues.",forecast:"High risk of wider escalation. Iran nuclear timeline accelerating. Watch for Hezbollah calculus and US election impact on policy.",indicators:[{text:"Escalation Risk",dir:"up"},{text:"Diplomacy",dir:"down"},{text:"Oil Prices",dir:"up"}]},{region:"East Asia",risk:"severe",current:"Taiwan Strait tensions elevated. North Korea missile tests continue. US-China competition intensifying.",forecast:"Near-term conflict unlikely but risks rising. Semiconductor decoupling accelerates. Watch for military incidents in South China Sea.",indicators:[{text:"Military Activity",dir:"up"},{text:"Trade Ties",dir:"down"},{text:"Tech War",dir:"up"}]},{region:"Sahel Africa",risk:"extreme",current:"Military coups across region. Wagner/Africa Corps presence expanding. Jihadi groups gaining ground.",forecast:"Further destabilization likely. Western influence declining. Watch for spillover effects into coastal West Africa.",indicators:[{text:"Instability",dir:"up"},{text:"Terrorism",dir:"up"},{text:"Migration",dir:"up"}]},{region:"Global Economy",risk:"stormy",current:"Mixed signals with inflation cooling but debt concerns rising. China slowdown affects global growth.",forecast:"Soft landing increasingly likely in US/EU. China structural challenges persist. Watch for emerging market debt crises.",indicators:[{text:"Inflation",dir:"down"},{text:"Growth",dir:"stable"},{text:"Debt Risk",dir:"up"}]},{region:"Climate Hotspots",risk:"severe",current:"Record temperatures, extreme weather events increasing. COP commitments falling short.",forecast:"More frequent climate disasters expected. Watch for climate migration from vulnerable regions and food security impacts.",indicators:[{text:"Extreme Weather",dir:"up"},{text:"Adaptation",dir:"stable"},{text:"Emissions",dir:"up"}]}],f0=[{date:"2026-02-05",name:"New START Treaty Expiration",location:"Global",category:"treaty",description:"US-Russia nuclear arms treaty expires  first time since 1970s with no binding limits on strategic nuclear forces"},{date:"2026-02-12",name:"Bangladesh Election  BNP Wins Landslide",location:"Dhaka, Bangladesh",category:"election",description:"RESULT: BNP wins ~211/299 seats. Tarique Rahman to lead government. Jamaat-e-Islami (~70 seats) becomes opposition. July Charter referendum passes with 72.9% approval."},{date:"2026-02-12",name:"EU Informal Leaders Retreat",location:"Brussels, EU",category:"summit",description:"EU leaders convene to discuss single market strengthening and economic competitiveness strategy"},{date:"2026-02-14",name:"African Union Assembly (39th Summit)",location:"Addis Ababa, Ethiopia",category:"summit",description:"Annual AU heads-of-state summit focusing on Agenda 2063 development priorities across the continent"},{date:"2026-02-15",name:"France Municipal Elections (Round 1)",location:"France",category:"election",description:"First round of mayoral elections across French municipalities  key indicator ahead of 2027 presidential race"},{date:"2026-02-22",name:"France Municipal Elections (Round 2)",location:"France",category:"election",description:"Final round determining new mayors in major French cities with national political implications"},{date:"2026-02-23",name:"ICC Duterte Confirmation Hearing",location:"The Hague, Netherlands",category:"treaty",description:"International Criminal Court hearing on charges against former Philippine President Rodrigo Duterte"},{date:"2026-03-08",name:"Colombia Parliamentary Elections",location:"Bogot, Colombia",category:"election",description:"Election of 188 House members with primaries determining presidential candidates for May vote"},{date:"2026-03-19",name:"European Council Summit",location:"Brussels, EU",category:"summit",description:"Quarterly meeting of EU heads of state setting strategic direction on defense, trade, and enlargement"},{date:"2026-04-13",name:"IMF / World Bank Spring Meetings",location:"Washington D.C., USA",category:"economic",description:"Annual spring meetings addressing global economic outlook, debt sustainability, and development finance"},{date:"2026-04-27",name:"NPT Review Conference Opens",location:"New York, USA",category:"treaty",description:"Eleventh Nuclear Non-Proliferation Treaty review  critical amid New START expiration and rising nuclear tensions"},{date:"2026-05-08",name:"48th ASEAN Leaders Summit",location:"Cebu, Philippines",category:"summit",description:"ASEAN summit under Philippine chairmanship addressing South China Sea disputes and economic integration"},{date:"2026-05-10",name:"Lebanese Parliamentary Elections",location:"Beirut, Lebanon",category:"election",description:"First parliamentary elections since Hezbollah's weakening  128 seats contested amid political realignment"},{date:"2026-05-22",name:"NPT Review Conference Concludes",location:"New York, USA",category:"treaty",description:"Final negotiated outcome on nuclear disarmament and non-proliferation commitments for the next cycle"},{date:"2026-05-31",name:"Colombia Presidential Election",location:"Bogot, Colombia",category:"election",description:"Presidential vote where incumbent Petro is barred from re-election  direction of Latin American left at stake"},{date:"2026-06-01",name:"Ethiopia General Election",location:"Addis Ababa, Ethiopia",category:"election",description:"Seventh national election with digital voter registration amid ongoing post-Tigray recovery efforts"},{date:"2026-06-07",name:"Armenia Parliamentary Election",location:"Yerevan, Armenia",category:"election",description:"Parliamentary elections under PM Pashinyan  crucial for South Caucasus stability and Russia-West alignment"},{date:"2026-06-15",name:"52nd G7 Summit",location:"vian-les-Bains, France",category:"summit",description:"Leaders of advanced democracies convene on Ukraine, China trade, AI governance, and climate commitments"},{date:"2026-06-26",name:"RIMPAC 2026 Begins",location:"Hawaii, USA",category:"military",description:"World's largest multinational maritime exercise  29 nations, 25,000+ personnel signaling Indo-Pacific readiness"},{date:"2026-06-30",name:"UK-EU TCA Energy & Fishing Provisions Expire",location:"Global",category:"treaty",description:"Brexit-era energy cooperation and fishing access provisions expire  renewal negotiations critical for both sides"},{date:"2026-07-01",name:"USMCA Six-Year Review Window Opens",location:"Global",category:"economic",description:"Mandatory review of US-Mexico-Canada free trade agreement begins  potential renegotiation of key provisions"},{date:"2026-07-07",name:"NATO Summit",location:"Ankara, Turkey",category:"summit",description:"Alliance leaders summit at Betepe Presidential Complex addressing defense spending, Ukraine, and Arctic strategy"},{date:"2026-08-01",name:"BRICS Summit (Expected)",location:"New Delhi, India",category:"summit",description:"18th BRICS leaders summit under Indian chairmanship  expanded bloc testing cohesion on trade and dedollarization"},{date:"2026-08-13",name:"Zambia General Election",location:"Lusaka, Zambia",category:"election",description:"Presidential, parliamentary, and local elections  test of democratic consolidation in Southern Africa"},{date:"2026-08-30",name:"Haiti Presidential Election (Round 1)",location:"Port-au-Prince, Haiti",category:"election",description:"Haiti's first general election in a decade amid ongoing gang violence and security crisis"},{date:"2026-09-13",name:"Sweden General Election",location:"Stockholm, Sweden",category:"election",description:"Riksdag election with 349 seats  test of right-wing coalition and NATO-era defense priorities"},{date:"2026-09-15",name:"UN General Assembly (81st Session Opens)",location:"New York, USA",category:"summit",description:"Annual UNGA high-level segment with world leaders addressing conflicts, climate, and reform of multilateral institutions"},{date:"2026-09-18",name:"Russia State Duma Elections Begin",location:"Moscow, Russia",category:"election",description:"Three-day voting for State Duma and 39 regional assemblies  managed elections amid ongoing Ukraine war"},{date:"2026-10-04",name:"Brazil General Election (Round 1)",location:"Braslia, Brazil",category:"election",description:"Presidential, congressional, and gubernatorial elections  Lula seeks fourth term amid polarized electorate"},{date:"2026-10-09",name:"IMF / World Bank Annual Meetings",location:"Bangkok, Thailand",category:"economic",description:"Annual meetings addressing global financial stability, emerging market debt, and development priorities"},{date:"2026-10-09",name:"EU Russia Sanctions Renewal Deadline",location:"Brussels, EU",category:"sanctions",description:"Expiration deadline for EU restrictive measures on Russian destabilizing actions  renewal vote required"},{date:"2026-10-25",name:"Brazil General Election (Runoff)",location:"Braslia, Brazil",category:"election",description:"Presidential and gubernatorial runoff if no first-round majority  could reshape Latin America's largest economy"},{date:"2026-10-31",name:"EU ISIL/Al-Qaeda Sanctions Renewal",location:"Brussels, EU",category:"sanctions",description:"Renewal deadline for EU counterterrorism sanctions regime targeting ISIL (Da'esh) and Al-Qaeda networks"},{date:"2026-11-03",name:"United States Midterm Elections",location:"United States",category:"election",description:"All 435 House seats and 35 Senate seats contested  referendum on Trump's second term and Congressional control"},{date:"2026-11-09",name:"COP31 Climate Conference Opens",location:"Antalya, Turkey",category:"summit",description:"UN Climate Change Conference with Australia leading negotiations on emissions targets and climate finance"},{date:"2026-11-10",name:"49th ASEAN Leaders Summit",location:"Manila, Philippines",category:"summit",description:"Second ASEAN summit of the year addressing regional security architecture and economic integration"},{date:"2026-11-18",name:"APEC Economic Leaders Meeting",location:"Shenzhen, China",category:"summit",description:"Asia-Pacific summit in China's tech hub  US-China dynamics and trade architecture in focus"},{date:"2026-11-20",name:"COP31 Climate Conference Concludes",location:"Antalya, Turkey",category:"summit",description:"Final negotiated climate commitments expected on emissions reduction timelines and developing nation finance"},{date:"2026-12-06",name:"Haiti Presidential Election (Runoff)",location:"Port-au-Prince, Haiti",category:"election",description:"Runoff round to determine Haiti's first elected president in years  stability of Caribbean at stake"},{date:"2026-12-14",name:"G20 Leaders Summit",location:"Miami, USA",category:"summit",description:"Summit of world's largest economies under US presidency  trade, AI regulation, and development on the agenda"},{date:"2027-01-01",name:"EU Russian LNG Ban Takes Full Effect",location:"EU",category:"sanctions",description:"Complete ban on Russian LNG imports for long-term contracts  reshapes European energy supply chains"},{date:"2027-02-07",name:"Haiti Presidential Inauguration",location:"Port-au-Prince, Haiti",category:"election",description:"Inauguration of newly elected Haitian president  first democratic transfer of power in over a decade"}],rp={Europe:["Ukraine","Russia","Belarus","Moldova","Poland","Romania","Hungary","Balkans","UK","Britain","France","Germany","Italy","Spain","NATO","EU","European","Serbia","Kosovo","Greece","Turkey","Ankara","Istanbul","Sweden","Finland","Norway","Denmark","Greenland","Arctic","Netherlands","Belgium","Austria","Switzerland","Czech","Slovakia","Croatia","Bulgaria","Portugal","Ireland"],Asia:["China","Taiwan","Japan","Korea","North Korea","South Korea","Hong Kong","Myanmar","Thailand","Vietnam","Philippines","Indonesia","Malaysia","Singapore","Cambodia","Laos","India","Pakistan","Bangladesh","Sri Lanka","Nepal","Afghanistan","Kabul","Delhi","Mumbai","Beijing","Tokyo","Seoul","Pyongyang","Manila","Jakarta","Bangkok"],"Middle East":["Israel","Palestine","Gaza","Iran","Iraq","Syria","Lebanon","Yemen","Saudi","UAE","Qatar","Jordan","Egypt","Houthi","Hezbollah","Tehran","Baghdad","Damascus","Beirut","Riyadh","Dubai","Oman","Bahrain","Kuwait"],Africa:["Sudan","Somalia","Ethiopia","DRC","Congo","Nigeria","Kenya","South Africa","Mali","Niger","Burkina","Sahel","Libya","Algeria","Morocco","Tunisia","Mozambique","Rwanda","Uganda","Tanzania","Ghana","Senegal","Cameroon","Zimbabwe","Eritrea"],Americas:["United States","US","Brazil","Mexico","Venezuela","Colombia","Argentina","Haiti","Cuba","Canada","Chile","Peru","Ecuador","Bolivia","Panama","Guatemala","Honduras","El Salvador","Nicaragua","Dominican","Puerto Rico","Washington","Congress","White House"]},sp=[{time:"1h ago",category:"CONFLICT",importance:"high",headline:"Heavy fighting reported in eastern Ukraine as winter operations intensify",source:"Reuters",url:"#"},{time:"2h ago",category:"SECURITY",importance:"high",headline:"North Korea conducts ballistic missile test over Sea of Japan",source:"AP News",url:"#"},{time:"3h ago",category:"TECH",importance:"medium",headline:"US expands AI chip export restrictions to additional countries",source:"WSJ",url:"#"},{time:"4h ago",category:"ECONOMY",importance:"high",headline:"China signals major stimulus package amid property sector concerns",source:"Financial Times",url:"#"},{time:"5h ago",category:"POLITICS",importance:"medium",headline:"European leaders discuss expanded Ukraine military support",source:"BBC",url:"#"},{time:"6h ago",category:"SECURITY",importance:"medium",headline:"NATO allies agree to increase defense spending targets",source:"Fox News",url:"#"},{time:"8h ago",category:"CRISIS",importance:"high",headline:"Humanitarian agencies warn of famine conditions in Sudan",source:"UN News",url:"#"},{time:"10h ago",category:"DIPLOMACY",importance:"medium",headline:"UN Security Council holds emergency session on Middle East crisis",source:"Al Jazeera",url:"#"},{time:"12h ago",category:"ECONOMY",importance:"medium",headline:"Oil prices surge on Middle East supply concerns",source:"Washington Times",url:"#"},{time:"14h ago",category:"SECURITY",importance:"medium",headline:"Taiwan reports increased Chinese military activity near strait",source:"Nikkei Asia",url:"#"},{time:"15h ago",category:"POLITICS",importance:"medium",headline:"Venezuela opposition rejects latest government dialogue offer",source:"Reuters",url:"#"},{time:"16h ago",category:"CONFLICT",importance:"high",headline:"Gaza ceasefire negotiations continue amid escalating violence",source:"New York Post",url:"#"},{time:"18h ago",category:"CLIMATE",importance:"medium",headline:"Record temperatures recorded across Southeast Asia amid drought",source:"The Guardian",url:"#"},{time:"20h ago",category:"POLITICS",importance:"medium",headline:"South Korea opposition party gains momentum ahead of elections",source:"Korea Times",url:"#"},{time:"22h ago",category:"ECONOMY",importance:"medium",headline:"Federal Reserve signals cautious approach to rate cuts in 2026",source:"Bloomberg",url:"#"},{time:"1d ago",category:"SECURITY",importance:"high",headline:"Iran accelerates uranium enrichment, IAEA reports",source:"Reuters",url:"#"},{time:"1d ago",category:"DIPLOMACY",importance:"medium",headline:"India-Pakistan tensions rise over water sharing dispute",source:"The Hindu",url:"#"},{time:"1d ago",category:"CRISIS",importance:"high",headline:"Myanmar military launches major offensive against resistance forces",source:"BBC",url:"#"},{time:"1d ago",category:"ECONOMY",importance:"medium",headline:"Global shipping costs spike amid Red Sea disruptions",source:"Financial Times",url:"#"},{time:"1d ago",category:"WORLD",importance:"medium",headline:"Ethiopian government and Tigray rebels resume peace talks",source:"France 24",url:"#"},{time:"2d ago",category:"TECH",importance:"medium",headline:"EU announces new regulations for artificial intelligence systems",source:"DW News",url:"#"},{time:"2d ago",category:"CONFLICT",importance:"high",headline:"Fighting intensifies in eastern DRC as M23 advances",source:"Reuters",url:"#"},{time:"2d ago",category:"ECONOMY",importance:"medium",headline:"Japan intervenes to stabilize yen after sharp decline",source:"Nikkei Asia",url:"#"},{time:"2d ago",category:"POLITICS",importance:"medium",headline:"Brazilian congress passes controversial environmental reform",source:"Reuters",url:"#"},{time:"2d ago",category:"CRISIS",importance:"high",headline:"Haiti gang violence forces closure of main hospital",source:"AP News",url:"#"}],at=[...sp],Gt=[],xN={"United States":{severity:"none",on:[],by:[{target:"Russia",reason:"Ukraine invasion; energy sector; 400+ entities; shadow fleet",year:2022},{target:"Iran",reason:"Maximum pressure; nuclear program; terrorism support",year:1979},{target:"North Korea",reason:"WMD proliferation; cyber attacks; human rights",year:2008},{target:"Cuba",reason:"Full economic embargo; Helms-Burton Act",year:1962},{target:"Venezuela",reason:"Oil sector; Maduro regime; cartel FTO designations",year:2015},{target:"China",reason:"Uyghur rights; tech/chip export controls; Entity List",year:2019},{target:"Syria",reason:"Most lifted post-Assad fall; Caesar Act repealed Dec 2025",year:2004},{target:"Yemen (Houthis)",reason:"Re-designated FTO Mar 2025; illicit oil networks",year:2024},{target:"Sudan",reason:"Chemical weapons use; RSF/SAF conflict parties",year:2023},{target:"Myanmar",reason:"Military coup; Rohingya genocide; cyber scam networks",year:2021}]},Russia:{severity:"heavy",on:[{by:"US",reason:"Invasion of Ukraine; energy sector (Gazprom Neft, Surgutneftegas); 400+ entities; 180+ shadow fleet vessels sanctioned Jan 2025",year:2022},{by:"EU",reason:"20 sanctions packages; full energy ban (LNG Apr 2026, pipeline gas Jun 2026); 640 shadow fleet vessels; crypto platforms restricted",year:2022},{by:"UK",reason:"Asset freezes, trade restrictions, oligarch sanctions; aligned with EU rounds",year:2022},{by:"UN",reason:"Limited measures; Russia vetoes broader Security Council action",year:2014},{by:"Canada",reason:"Trade bans, asset freezes, secondary sanctions on shadow fleet",year:2022},{by:"Japan",reason:"Export controls on semiconductors and tech; asset freezes",year:2022},{by:"Australia",reason:"Financial sanctions, travel bans, trade restrictions",year:2022},{by:"Switzerland",reason:"Adopted EU sanctions packages; asset freezes",year:2022}],by:[{target:"EU/Western nations",reason:"Counter-sanctions on agricultural imports",year:2014},{target:"Various",reason:"Retaliatory bans on Western officials and entities",year:2022}]},Iran:{severity:"heavy",on:[{by:"US",reason:"Maximum pressure policy (Trump Feb 2025); nuclear program; terrorism support; full enforcement",year:1979},{by:"EU",reason:"Nuclear proliferation; missile program; human rights; snapback reimposed",year:2012},{by:"UN",reason:"Snapback sanctions reimposed Sep 2025 after UK/France/Germany triggered mechanism; JCPOA terminated Oct 2025",year:2006},{by:"UK",reason:"Nuclear program; triggered JCPOA snapback Aug 2025",year:2012},{by:"Canada",reason:"State sponsor of terrorism designation; nuclear concerns",year:2012},{by:"Australia",reason:"Nuclear and missile proliferation concerns",year:2008}],by:[{target:"Israel",reason:"Full trade and diplomatic embargo",year:1979},{target:"US officials",reason:"Retaliatory sanctions on government and military officials",year:2020},{target:"UK officials",reason:"Retaliatory sanctions on British officials",year:2022}]},"North Korea":{severity:"heavy",on:[{by:"UN",reason:"Nuclear/missile programs (multiple UNSC resolutions); monitoring panel disbanded Apr 2024 after Russia veto; multilateral enforcement continues",year:2006},{by:"US",reason:"WMD proliferation; human rights abuses; cyber attacks; DISRUPT Bill introduced 2025",year:2008},{by:"EU",reason:"Nuclear and missile programs; arms embargo",year:2006},{by:"Japan",reason:"Nuclear tests; abduction issue; full trade embargo",year:2006},{by:"South Korea",reason:"Military provocations; nuclear tests",year:2010},{by:"Australia",reason:"WMD proliferation; maritime enforcement coalition active 2025",year:2006}],by:[]},Syria:{severity:"limited",on:[{by:"US",reason:"Most sanctions lifted Jun 2025 post-Assad fall; Caesar Act repealed Dec 2025; targeted sanctions on Assad family remain",year:2025},{by:"EU",reason:"Majority lifted Jun 2025 to support peaceful transition; some individual designations remain",year:2025},{by:"UN",reason:"Sanctions on interim president al-Sharaa lifted Nov 2025",year:2025}],by:[]},Cuba:{severity:"heavy",on:[{by:"US",reason:"Full embargo; Trump reversed Biden easing Jan 2025; national emergency declared Jan 2026; sanctions on Diaz-Canel; tariff threats on countries supplying Cuba oil",year:1962},{by:"EU",reason:"Common Position on human rights (partially lifted)",year:1996}],by:[]},Venezuela:{severity:"heavy",on:[{by:"US",reason:"Oil sanctions hardened; Chevron license revoked Feb 2025; Tren de Aragua designated FTO; Cartel de los Soles designated FTO Nov 2025; tankers blocked Dec 2025",year:2015},{by:"EU",reason:"Human rights violations; undermining democracy; arms embargo",year:2017},{by:"Canada",reason:"Human rights abuses; erosion of democratic institutions",year:2017},{by:"Switzerland",reason:"Adopted targeted sanctions on officials",year:2018}],by:[]},Myanmar:{severity:"heavy",on:[{by:"US",reason:"Military coup; Rohingya genocide; warlord Saw Chit Thu sanctioned May 2025 for cyber scams/trafficking; controversial rollback of 5 arms-trade designations Jul 2025",year:2021},{by:"EU",reason:"Military junta; arms embargo; renewed through Apr 2026; new measures on scam operations",year:2021},{by:"UK",reason:"Military coup; asset freezes on junta leaders",year:2021},{by:"Canada",reason:"13 officials and 3 entities sanctioned Mar 2025",year:2018}],by:[]},Belarus:{severity:"heavy",on:[{by:"US",reason:"Election fraud; aiding Russia; potash sector sanctions partially eased Dec 2025 in exchange for 123 political prisoner releases",year:2006},{by:"EU",reason:"25 individuals + 7 entities added Mar 2025; agricultural tariffs Jun 2025; hybrid threat sanctions Dec 2025",year:2020},{by:"UK",reason:"Complicity in Ukraine invasion; human rights abuses",year:2022},{by:"Canada",reason:"Serious human rights violations; support for Russian invasion",year:2020}],by:[{target:"EU",reason:"Counter-sanctions on European officials",year:2021}]},Sudan:{severity:"heavy",on:[{by:"US",reason:"Chemical weapons use in civil war (May 2025); RSF recruitment networks sanctioned; Islamist actors sanctioned Sep 2025",year:2023},{by:"UN",reason:"Arms embargo extended; targeted sanctions on conflict parties",year:2004},{by:"EU",reason:"7 individuals designated Jan 2026 for El Fasher massacre (RSF and SAF)",year:2004},{by:"UK",reason:"4 senior RSF commanders sanctioned for El Fasher massacre",year:2025}],by:[]},Yemen:{severity:"heavy",on:[{by:"US",reason:"Houthis re-designated FTO Mar 2025; largest-ever action Jun 2025 (4 individuals, 12 entities, 2 vessels); 32 entities + 4 vessels Sep 2025; >$2B/yr illicit oil targeted",year:2024},{by:"UN",reason:"Arms embargo; targeted sanctions on Houthi leaders",year:2014},{by:"EU",reason:"Targeted measures supporting UN sanctions",year:2014}],by:[]},Afghanistan:{severity:"heavy",on:[{by:"UN",reason:"Taliban regime; terrorism; asset freezes on Taliban leaders",year:1999},{by:"US",reason:"Taliban takeover; ~$7B central bank frozen; national emergency extended; policy under review",year:2021},{by:"EU",reason:"Taliban regime; travel bans; asset freezes",year:2001},{by:"Australia",reason:"New financial sanctions and travel bans on 4 Taliban officials Dec 2025 for oppression of women/minorities",year:2025}],by:[]},Palestine:{severity:"heavy",on:[{by:"Israel",reason:"Land/sea/air blockade on Gaza; military occupation of West Bank",year:2007},{by:"US",reason:"Sanctions on Hamas as designated terrorist organization",year:1997},{by:"EU",reason:"Hamas listed as terrorist organization; funding restrictions",year:2003}],by:[]},Lebanon:{severity:"heavy",on:[{by:"US",reason:"Hezbollah financial facilitators sanctioned May + Nov 2025; $1B+ IRGC-to-Hezbollah transfers targeted; preventing rearmament after 2024 conflict",year:2015},{by:"EU",reason:"Targeted sanctions on officials blocking reform",year:2021},{by:"Saudi Arabia",reason:"Diplomatic rift; import bans over Hezbollah influence",year:2021}],by:[]},China:{severity:"moderate",on:[{by:"US",reason:"Uyghur human rights; tech/chip export controls; 125 Chinese entities added to Entity List for Russia support; sanctions expansion paused Oct 2025 after Trump-Xi meeting",year:2019},{by:"EU",reason:"Xinjiang human rights abuses (targeted individuals)",year:2021},{by:"UK",reason:"Xinjiang human rights; Hong Kong crackdown",year:2021},{by:"Canada",reason:"Uyghur human rights abuses; targeted officials",year:2021}],by:[{target:"US entities",reason:"28 US aerospace/defense entities added to export control list Jan 2025",year:2020},{target:"Global",reason:"Strictest-ever rare earth and permanent magnet export controls effective Dec 2025; lithium battery controls",year:2025},{target:"EU officials",reason:"Retaliatory sanctions on European Parliament members",year:2021}]},Libya:{severity:"moderate",on:[{by:"UN",reason:"Arms embargo; asset freezes on spoilers of peace process",year:2011},{by:"US",reason:"Targeted sanctions on militia leaders obstructing governance",year:2018},{by:"EU",reason:"Arms embargo enforcement; migrant smuggling networks",year:2011}],by:[]},Somalia:{severity:"moderate",on:[{by:"UN",reason:"Al-Shabaab sanctions and arms embargo extended through Nov 2026; maritime interdiction reauthorized; panel of experts through Dec 2026",year:1992},{by:"US",reason:"Al-Shabaab terrorism designations; targeted individual sanctions",year:2010}],by:[]},DRC:{severity:"moderate",on:[{by:"UN",reason:"Arms embargo on eastern DRC armed groups; conflict minerals",year:2003},{by:"US",reason:"Targeted sanctions on militia leaders; conflict minerals (Dodd-Frank)",year:2006},{by:"EU",reason:"Arms embargo; targeted measures on armed group leaders",year:2003}],by:[]},Haiti:{severity:"moderate",on:[{by:"US",reason:"Sanctions on gang leaders and corrupt elites; new authorities in FY2026 NDAA",year:2022},{by:"UN",reason:"Targeted sanctions on gang leaders destabilizing the country",year:2022},{by:"Canada",reason:"Sanctions on elites and gang leaders",year:2022}],by:[]},Ethiopia:{severity:"moderate",on:[{by:"US",reason:"AGOA suspension extended through Sep 2026 by Trump executive order; national emergency renewed",year:2022},{by:"EU",reason:"Suspended budget support over Tigray conflict",year:2021}],by:[]},Eritrea:{severity:"moderate",on:[{by:"US",reason:"Role in Tigray conflict; human rights abuses",year:2021},{by:"EU",reason:"Involvement in Tigray conflict; targeted sanctions",year:2021}],by:[]},Nicaragua:{severity:"moderate",on:[{by:"US",reason:"Authoritarian crackdown; election fraud; human rights abuses",year:2018},{by:"EU",reason:"Democratic backsliding; repression of opposition",year:2020},{by:"Canada",reason:"Human rights violations; sham elections",year:2018}],by:[]},Zimbabwe:{severity:"moderate",on:[{by:"US",reason:"Governance; human rights; undermining democracy",year:2003},{by:"EU",reason:"Arms embargo; targeted sanctions (partially eased)",year:2002}],by:[]},"Central African Republic":{severity:"moderate",on:[{by:"UN",reason:"Arms embargo; targeted sanctions on armed group leaders",year:2013},{by:"US",reason:"Targeted: individuals undermining peace process",year:2014}],by:[]},"South Sudan":{severity:"moderate",on:[{by:"UN",reason:"Arms embargo; targeted sanctions on conflict parties",year:2018},{by:"US",reason:"Civil war; obstruction of peace process",year:2014},{by:"EU",reason:"Targeted sanctions on individuals undermining peace",year:2014}],by:[]},Israel:{severity:"limited",on:[{by:"Arab League (historic)",reason:"Economic boycott (largely defunct; some members normalized)",year:1948},{by:"EU (partial)",reason:"Settlement product labeling; some investment restrictions",year:2015},{by:"US (targeted)",reason:"Sanctions on extremist settlers in West Bank",year:2024},{by:"Turkey",reason:"Total export/import ban imposed 2024 over Gaza conflict",year:2024}],by:[{target:"Palestine (Gaza)",reason:"Blockade on goods and movement (with Egypt)",year:2007},{target:"Iran/Hezbollah",reason:"Enforcement of international sanctions; trade restrictions",year:2010}]},Turkey:{severity:"limited",on:[{by:"US",reason:"CAATSA sanctions over S-400 purchase; defense sector restrictions",year:2020},{by:"EU (partial)",reason:"Arms export restrictions over Syria operations",year:2019}],by:[{target:"Israel",reason:"Total export/import ban over Gaza conflict",year:2024},{target:"Syria (historic)",reason:"Economic sanctions during civil war (now easing)",year:2011}]},Iraq:{severity:"limited",on:[{by:"US",reason:"Targeted sanctions on Iran-aligned militias and corrupt officials",year:2019},{by:"UN",reason:"Residual measures from Saddam era (mostly lifted)",year:2003}],by:[]},Pakistan:{severity:"limited",on:[{by:"US",reason:"Targeted: nuclear proliferation-related entities; terrorism financing concerns",year:2004}],by:[{target:"India",reason:"Trade suspension over Kashmir dispute",year:2019}]},Nigeria:{severity:"limited",on:[{by:"US",reason:"Targeted: Boko Haram/ISWAP terrorism designations; visa restrictions",year:2013},{by:"UK",reason:"Targeted sanctions on corruption-linked individuals",year:2021}],by:[]},Mexico:{severity:"limited",on:[{by:"US",reason:"Kingpin Act designations on cartel leaders; OFAC fentanyl trafficking network sanctions expanded 2023-2025",year:2e3}],by:[]},"Saudi Arabia":{severity:"limited",on:[{by:"US (targeted)",reason:"Magnitsky sanctions on individuals re: Khashoggi murder",year:2018},{by:"Canada",reason:"Arms export review after Khashoggi killing",year:2018}],by:[{target:"UN-mandated targets",reason:"Enforces UN terrorism/proliferation sanctions through GCC",year:2017}]},Mali:{severity:"limited",on:[{by:"EU",reason:"Military coup; use of Wagner mercenaries",year:2022},{by:"US",reason:"Targeted sanctions on junta leaders",year:2022}],by:[]},"Burkina Faso":{severity:"limited",on:[{by:"EU",reason:"Suspended cooperation after military takeover",year:2022}],by:[]},Niger:{severity:"limited",on:[{by:"EU",reason:"Suspended cooperation after military coup",year:2023}],by:[]},Guinea:{severity:"limited",on:[{by:"US",reason:"Targeted sanctions on junta officials",year:2022}],by:[]},Ukraine:{severity:"none",on:[],by:[{target:"Russia",reason:"Trade restrictions and sanctions on Russian entities",year:2022}]},India:{severity:"none",on:[],by:[{target:"Pakistan",reason:"Trade restrictions; MFN status revoked post-Pulwama",year:2019},{target:"China",reason:"Banned 200+ Chinese apps; restricted Chinese investment",year:2020}]},"South Korea":{severity:"none",on:[],by:[{target:"North Korea",reason:"Full sanctions enforcement aligned with UN/US",year:2010}]},Japan:{severity:"none",on:[],by:[{target:"Russia",reason:"Asset freezes; export controls; energy restrictions",year:2022},{target:"North Korea",reason:"Full trade embargo; ship entry bans",year:2006}]},Philippines:{severity:"none",on:[],by:[]},"United Kingdom":{severity:"none",on:[],by:[{target:"Russia",reason:"28 autonomous sanctions regimes; aligned with EU rounds; unified UK Sanctions List Jan 2026",year:2022},{target:"Iran",reason:"Nuclear program; triggered JCPOA snapback Aug 2025",year:2012},{target:"Myanmar",reason:"Military coup; asset freezes on junta leaders",year:2021},{target:"Belarus",reason:"Complicity in Ukraine invasion; human rights",year:2022},{target:"North Korea",reason:"WMD programs; cyber threats",year:2006}]},Canada:{severity:"none",on:[],by:[{target:"Russia",reason:"77 individuals + 39 entities + 201 vessels sanctioned Jun 2025; secondary sanctions",year:2022},{target:"Iran",reason:"4 officials sanctioned Dec 2025 for human rights; SEMA regime",year:2012},{target:"Myanmar",reason:"13 officials and 3 entities sanctioned Mar 2025",year:2018},{target:"Belarus",reason:"Human rights violations; support for Russian invasion",year:2020},{target:"Haiti",reason:"Gang leaders and corrupt elites",year:2022}]},Australia:{severity:"none",on:[],by:[{target:"Russia",reason:"Over 50% of Australia sanctions focus; financial/trade restrictions",year:2022},{target:"Afghanistan",reason:"World-first autonomous framework Dec 2025; 4 Taliban officials designated for oppression of women",year:2025},{target:"North Korea",reason:"WMD proliferation; maritime enforcement coalition",year:2006},{target:"Iran",reason:"Nuclear program; UN sanctions enforcement",year:2008},{target:"Myanmar",reason:"Military coup; targeted sanctions",year:2021}]},Switzerland:{severity:"none",on:[],by:[{target:"Russia",reason:"Implements EU packages; 16th package Feb 2025; 18th package Oct 2025; 28 sanctions regimes",year:2022},{target:"Iran",reason:"Expanded Dec 2025 following JCPOA snapback",year:2012},{target:"Syria",reason:"Lifted Jun 2025 aligned with EU",year:2011},{target:"Belarus",reason:"Implements EU measures; Oct 2025 package",year:2022}]},France:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements all EU sanctions; limited autonomous authority under Monetary and Financial Code for counter-terrorism",year:2022},{target:"Terrorism-related",reason:"Registre National Des Gels (National Freeze Registry) for domestic terror finance freezes",year:2015}]},Germany:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions only; no autonomous sanctions program; coalition revising foreign trade laws May 2025",year:2022}]},Taiwan:{severity:"none",on:[],by:[{target:"Russia",reason:"Export restrictions on 77 machine tool items; increased penalties for military-linked sales; joined international sanctions 2022",year:2022}]},UAE:{severity:"none",on:[],by:[{target:"UN-mandated targets",reason:"Enforces UN sanctions; major financial compliance hub; anti-money laundering frameworks",year:2020}]},Singapore:{severity:"none",on:[],by:[{target:"Russia",reason:"Rare Asian nation to impose autonomous sanctions on Russia; export controls on electronics/tech",year:2022},{target:"North Korea",reason:"UN sanctions enforcement; financial compliance",year:2006}]},Norway:{severity:"none",on:[],by:[{target:"Russia",reason:"Aligned with EU sanctions as EEA member; energy sector restrictions",year:2022},{target:"Belarus",reason:"Aligned with EU measures",year:2022}]},Brazil:{severity:"limited",on:[{by:"US (targeted)",reason:"Sanctions on Justice Alexandre de Moraes and family Jul 2025 for judicial overreach; 50% tariff increase on select goods",year:2025}],by:[]},"South Africa":{severity:"limited",on:[{by:"US (proposed)",reason:"H.R.2633 bill targeting government/ANC officials; 30% tariff (highest Sub-Saharan Africa); additional bills re: antisemitic conduct",year:2025}],by:[]},Hungary:{severity:"limited",on:[{by:"EU",reason:"Rule-of-law conditionality; frozen EU recovery funds over democratic backsliding and judicial independence concerns",year:2022}],by:[]},Serbia:{severity:"none",on:[],by:[]},Egypt:{severity:"none",on:[],by:[{target:"Terrorism-related",reason:"Maintains List of Terrorist Entities; implements UN sanctions; FATF compliant",year:2020}]},Bangladesh:{severity:"none",on:[],by:[]},Argentina:{severity:"none",on:[],by:[]},Kenya:{severity:"none",on:[],by:[]},Colombia:{severity:"none",on:[],by:[]},Peru:{severity:"none",on:[],by:[]},Thailand:{severity:"none",on:[],by:[]},"El Salvador":{severity:"none",on:[],by:[]},"Sri Lanka":{severity:"none",on:[],by:[]},Bolivia:{severity:"none",on:[],by:[]},Guyana:{severity:"none",on:[],by:[]},Italy:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions; active enforcement through Banca d'Italia",year:2022}]},Poland:{severity:"none",on:[],by:[{target:"Russia",reason:"Implements EU sanctions; additional national restrictions on Russian transport and trade",year:2022}]},Spain:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions",year:2022}]},Netherlands:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU sanctions; key ASML chip export controls affecting China",year:2022}]},Indonesia:{severity:"none",on:[],by:[]},Vietnam:{severity:"none",on:[],by:[]},Malaysia:{severity:"none",on:[],by:[]},Romania:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions",year:2022}]},Greece:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions",year:2022}]},Sweden:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions",year:2022}]},Finland:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions",year:2022}]},Austria:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions",year:2022}]},Chile:{severity:"none",on:[],by:[]},Algeria:{severity:"none",on:[],by:[]},Tunisia:{severity:"none",on:[],by:[]},Ecuador:{severity:"none",on:[],by:[]},Georgia:{severity:"none",on:[],by:[]},Armenia:{severity:"none",on:[],by:[]},Moldova:{severity:"none",on:[],by:[]},Estonia:{severity:"none",on:[],by:[{target:"Russia",reason:"Among most hawkish EU members; implements EU measures; vocal advocate for stronger enforcement",year:2022}]},Latvia:{severity:"none",on:[],by:[{target:"Russia",reason:"Implements EU sanctions; closed border crossings; expelled Russian diplomats",year:2022}]},Lithuania:{severity:"none",on:[],by:[{target:"Russia",reason:"Implements EU sanctions; Kaliningrad transit restrictions; strong enforcement",year:2022},{target:"China (targeted by)",reason:"Subject to Chinese economic coercion over Taiwan office; EU backed Lithuania",year:2021}]},Denmark:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions; active on Russia maritime enforcement in Baltic",year:2022}]},Belgium:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"EU headquarters; key role in sanctions coordination; hosts SWIFT messaging system",year:2022}]},Ireland:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions",year:2022}]},"Czech Republic":{severity:"none",on:[],by:[{target:"Russia",reason:"Implements EU sanctions; expelled Russian diplomats over Vrbetice explosion",year:2021}]},"New Zealand":{severity:"none",on:[],by:[{target:"Russia",reason:"Autonomous Russia Sanctions Act 2022; travel bans; asset freezes; trade restrictions",year:2022},{target:"North Korea",reason:"UN sanctions enforcement",year:2006}]},Qatar:{severity:"none",on:[],by:[{target:"Terrorism-related",reason:"Counter-terrorism financing framework; was subject to Saudi-led blockade 2017-2021 (resolved)",year:2017}]},Jordan:{severity:"none",on:[],by:[{target:"UN-mandated targets",reason:"Implements UN sanctions; key anti-smuggling enforcement on Syria/Iraq borders",year:2014}]},Kazakhstan:{severity:"none",on:[],by:[{target:"Russia (compliance)",reason:"Strengthened sanctions compliance to avoid secondary sanctions; restricted parallel imports to Russia",year:2023}]},Croatia:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions",year:2022}]},Slovenia:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions",year:2022}]},Slovakia:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions",year:2022}]},Bulgaria:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions",year:2022}]},Portugal:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU and UN sanctions",year:2022}]},Luxembourg:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU sanctions; major financial center for asset freezes",year:2022}]},Cyprus:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU sanctions; past scrutiny over Russian oligarch assets",year:2022}]},Malta:{severity:"none",on:[],by:[{target:"Various (via EU)",reason:"Implements EU sanctions; shipping registry enforcement",year:2022}]},Iceland:{severity:"none",on:[],by:[{target:"Russia",reason:"Aligned with EU sanctions as EEA member",year:2022}]},Kuwait:{severity:"none",on:[],by:[]},Bahrain:{severity:"none",on:[],by:[]},Oman:{severity:"none",on:[],by:[]},Morocco:{severity:"none",on:[],by:[]},Senegal:{severity:"none",on:[],by:[]},Tanzania:{severity:"none",on:[],by:[]},Ghana:{severity:"none",on:[],by:[]},"Ivory Coast":{severity:"none",on:[],by:[]},Cameroon:{severity:"none",on:[],by:[]},Uganda:{severity:"none",on:[],by:[]},Rwanda:{severity:"none",on:[],by:[]},"Costa Rica":{severity:"none",on:[],by:[]},Panama:{severity:"none",on:[],by:[]},Uruguay:{severity:"none",on:[],by:[]},"Dominican Republic":{severity:"none",on:[],by:[]},Jamaica:{severity:"none",on:[],by:[]},Guatemala:{severity:"none",on:[],by:[]},Honduras:{severity:"none",on:[],by:[]},Paraguay:{severity:"none",on:[],by:[]},Albania:{severity:"none",on:[],by:[]},"North Macedonia":{severity:"none",on:[],by:[]},Montenegro:{severity:"none",on:[],by:[]},Kosovo:{severity:"none",on:[],by:[]},"Bosnia and Herzegovina":{severity:"none",on:[],by:[]},Cambodia:{severity:"none",on:[],by:[]},Laos:{severity:"none",on:[],by:[]},Nepal:{severity:"none",on:[],by:[]},Uzbekistan:{severity:"none",on:[],by:[]},Botswana:{severity:"none",on:[],by:[]},Zambia:{severity:"none",on:[],by:[]},Mozambique:{severity:"none",on:[],by:[]},Angola:{severity:"none",on:[],by:[]},Namibia:{severity:"none",on:[],by:[]},Madagascar:{severity:"none",on:[],by:[]},Suriname:{severity:"none",on:[],by:[]},Belize:{severity:"none",on:[],by:[]},Brunei:{severity:"none",on:[],by:[]},Chad:{severity:"none",on:[],by:[]},Djibouti:{severity:"none",on:[],by:[]},Gabon:{severity:"none",on:[],by:[]},Mauritania:{severity:"none",on:[],by:[]},Mongolia:{severity:"none",on:[],by:[]},Turkmenistan:{severity:"none",on:[],by:[]},Tajikistan:{severity:"none",on:[],by:[]},Kyrgyzstan:{severity:"none",on:[],by:[]},"Trinidad and Tobago":{severity:"none",on:[],by:[]},Bahamas:{severity:"none",on:[],by:[]},Barbados:{severity:"none",on:[],by:[]},"Republic of Congo":{severity:"limited",on:[{by:"EU",reason:"Arms embargo (conflict prevention)",year:2023}],by:[]},"Equatorial Guinea":{severity:"limited",on:[{by:"US",reason:"Corruption and human rights abuses (Magnitsky)",year:2024}],by:[]},Burundi:{severity:"moderate",on:[{by:"US",reason:"Political repression and human rights abuses",year:2023},{by:"EU",reason:"Political crisis and violence",year:2022}],by:[]},Gambia:{severity:"none",on:[],by:[]},"Guinea-Bissau":{severity:"limited",on:[{by:"UN",reason:"Political instability and drug trafficking (travel ban on individuals)",year:2023}],by:[]},"Sierra Leone":{severity:"none",on:[],by:[]},Liberia:{severity:"none",on:[],by:[]},Togo:{severity:"none",on:[],by:[]},Benin:{severity:"none",on:[],by:[]},"Cape Verde":{severity:"none",on:[],by:[]},Mauritius:{severity:"none",on:[],by:[]},Seychelles:{severity:"none",on:[],by:[]},Malawi:{severity:"none",on:[],by:[]},Bhutan:{severity:"none",on:[],by:[]},Maldives:{severity:"none",on:[],by:[]},"Timor-Leste":{severity:"none",on:[],by:[]},"Papua New Guinea":{severity:"none",on:[],by:[]},Fiji:{severity:"none",on:[],by:[]},"Solomon Islands":{severity:"none",on:[],by:[]},Vanuatu:{severity:"none",on:[],by:[]},Samoa:{severity:"none",on:[],by:[]},Tonga:{severity:"none",on:[],by:[]},Kiribati:{severity:"none",on:[],by:[]},"Marshall Islands":{severity:"none",on:[],by:[]},Micronesia:{severity:"none",on:[],by:[]},Palau:{severity:"none",on:[],by:[]},Nauru:{severity:"none",on:[],by:[]},Tuvalu:{severity:"none",on:[],by:[]},Andorra:{severity:"none",on:[],by:[]},"Antigua and Barbuda":{severity:"none",on:[],by:[]},Comoros:{severity:"none",on:[],by:[]},Dominica:{severity:"none",on:[],by:[]},Eswatini:{severity:"none",on:[],by:[]},Grenada:{severity:"none",on:[],by:[]},Lesotho:{severity:"none",on:[],by:[]},Liechtenstein:{severity:"none",on:[],by:[{target:"Russia",reason:"Aligned with EU/Swiss sanctions on Russia-Ukraine war",year:2022},{target:"Belarus",reason:"Aligned with EU/Swiss sanctions",year:2022}]},Monaco:{severity:"none",on:[],by:[{target:"Russia",reason:"Aligned with EU sanctions on Russia-Ukraine war",year:2022}]},"San Marino":{severity:"none",on:[],by:[{target:"Russia",reason:"Aligned with EU sanctions on Russia-Ukraine war",year:2022}]},"Sao Tome and Principe":{severity:"none",on:[],by:[]},"Saint Kitts and Nevis":{severity:"none",on:[],by:[]},"Saint Lucia":{severity:"none",on:[],by:[]},"Saint Vincent and the Grenadines":{severity:"none",on:[],by:[]}},wN={terms:`<h2>TERMS OF SERVICE</h2>
<p><strong>Effective Date: February 13, 2026</strong></p>
<p>Welcome to Hegemon Global Intelligence Network ("Hegemon Global," "we," "us," or "our"). These Terms of Service ("Terms") govern your access to and use of hegemonglobal.com and any related services, content, features, and functionality (collectively, the "Site").</p>
<p>By accessing or using the Site, you agree to be bound by these Terms. If you do not agree, you must not use the Site.</p>

<h3>1. Nature of the Site</h3>
<p>Hegemon Global provides geopolitical analysis, risk commentary, research summaries, forecasts, election tracking, sanctions tracking, and related informational content. All content on this Site is provided for informational and educational purposes only.</p>
<p>Nothing on this Site constitutes:</p>
<ul><li>Financial advice</li><li>Investment advice</li><li>Legal advice</li><li>Strategic advisory services</li><li>Government or policy recommendations</li><li>Professional consulting services</li></ul>
<p>You acknowledge that you are solely responsible for any decisions made based on the information provided on this Site.</p>

<h3>2. No Professional or Investment Advice</h3>
<p>The Risk Levels, Forecasts, Articles, Briefs, Elections tracking, Horizon calendar entries, sanctions information, and any other materials published on this Site are analytical opinions and informational summaries only.</p>
<p>They are not intended to serve as:</p>
<ul><li>Investment recommendations</li><li>Trading signals</li><li>Economic advisory guidance</li><li>Security or defense recommendations</li><li>Political endorsements</li></ul>
<p>You agree that you will not rely on any content on this Site as a substitute for independent professional advice.</p>

<h3>3. Limitation of Liability</h3>
<p>To the fullest extent permitted by law: Hegemon Global, its owner, affiliates, contributors, agents, and representatives shall not be liable for any direct, indirect, incidental, consequential, special, punitive, or exemplary damages arising out of or related to:</p>
<ul><li>Your use of or inability to use the Site</li><li>Reliance on any analysis, risk assessment, or forecast</li><li>Errors or omissions in content</li><li>Changes in geopolitical conditions</li><li>Data inaccuracies</li><li>Third-party links or referenced materials</li></ul>
<p>Use of the Site is at your own risk.</p>

<h3>4. No Warranties</h3>
<p>The Site and all content are provided "as is" and "as available" without warranties of any kind, express or implied, including but not limited to: accuracy, completeness, reliability, timeliness, fitness for a particular purpose, and non-infringement.</p>
<p>We do not guarantee that the Site will be uninterrupted, secure, or error-free.</p>

<h3>5. Intellectual Property</h3>
<p>All content on the Site, including articles, briefs, forecasts, risk level classifications, structural frameworks, country analyses, layout design, graphics, text, logos, and trademarks are the intellectual property of Hegemon Global unless otherwise stated.</p>
<p>You may not copy, reproduce, redistribute, republish, scrape, extract data, or create derivative works without prior written permission. Limited quotation with attribution and link-back is permitted for non-commercial use. Unauthorized commercial use is strictly prohibited.</p>

<h3>6. Data Scraping and Automated Access</h3>
<p>You may not use bots, crawlers, scraping tools, AI harvesting systems, or automated methods to extract data from the Site without express written consent. We reserve the right to block IP addresses or pursue legal remedies against unauthorized data harvesting.</p>

<h3>7. External Links</h3>
<p>The Site may contain links to third-party websites. Hegemon Global does not control and is not responsible for the content, policies, or practices of third-party sites. Accessing third-party links is done at your own risk.</p>

<h3>8. Modifications to Content</h3>
<p>We reserve the right to modify risk levels, update forecasts, change classifications, remove or edit content, and modify or discontinue features at any time without notice. Geopolitical conditions evolve rapidly, and content may become outdated.</p>

<h3>9. Indemnification</h3>
<p>You agree to indemnify and hold harmless Hegemon Global and its affiliates from any claims, damages, liabilities, losses, or expenses arising from your use of the Site, your reliance on Site content, or your violation of these Terms.</p>

<h3>10. No Government Affiliation</h3>
<p>Hegemon Global is an independent informational platform. It is not affiliated with any government, intelligence agency, defense institution, financial institution, or political organization. Any resemblance to official classification systems is coincidental and analytical in nature.</p>

<h3>11. Governing Law</h3>
<p>These Terms shall be governed by and construed in accordance with the laws of the United States, without regard to conflict of law principles.</p>

<h3>12. Changes to These Terms</h3>
<p>We reserve the right to modify these Terms at any time. Updated Terms will be posted with a revised Effective Date. Continued use of the Site constitutes acceptance of updated Terms.</p>

<h3>13. Contact</h3>
<p>For questions regarding these Terms, contact: <a href="mailto:hegemonglobal0@gmail.com">hegemonglobal0@gmail.com</a></p>

<h2>DISCLAIMER</h2>
<p>Hegemon Global provides geopolitical risk commentary and informational analysis only. All Risk Levels, Forecasts, Briefs, Articles, Elections tracking, Horizon entries, and related content represent analytical opinions and interpretations of publicly available information. Nothing on this Site constitutes financial advice, investment advice, legal advice, security advice, or professional consulting services. Users are solely responsible for decisions made based on Site content.</p>

<h2 style="margin-top:28px;padding-top:20px;border-top:1px solid #1f2937;">ABOUT HEGEMON GLOBAL</h2>
<p>Hegemon Global is an interactive geopolitical analysis platform that aggregates real-time global news, market data, trade flow visualization, and country-by-country risk assessments on an interactive 3D globe. Our mission is to make geopolitical intelligence accessible, visual, and actionable for researchers, analysts, journalists, and anyone seeking to understand how global events connect and impact the world. Hegemon Global is an independent informational platform with no government, institutional, or political affiliation.</p>
<p>For questions, feedback, or inquiries, contact us at: <a href="mailto:hegemonglobal0@gmail.com">hegemonglobal0@gmail.com</a></p>`,privacy:`<h2>PRIVACY POLICY</h2>
<p><strong>Effective Date: February 13, 2026</strong></p>
<p>Hegemon Global Intelligence Network ("Hegemon Global," "we," "us," or "our") operates hegemonglobal.com (the "Site"). This Privacy Policy explains how information is collected, used, and protected when you access or interact with the Site.</p>
<p>By using the Site, you consent to the practices described in this Policy.</p>

<h3>1. Information We Collect</h3>
<h3>A. Automatically Collected Information</h3>
<p>When you visit the Site, certain information may be collected automatically, including: IP address, browser type and version, device type, operating system, pages viewed, time spent on pages, referring website, and general geographic location. This information is collected through analytics and server logs.</p>

<h3>B. Analytics Services</h3>
<p>We use Google Analytics (GA4), a web analytics service provided by Google LLC, to understand how users interact with the Site. Google Analytics may collect device and browser information, general geographic location, usage behavior, and traffic source data.</p>
<p>Google Analytics uses cookies and similar technologies to collect and process data. Information generated may be transmitted to and stored by Google on servers in the United States.</p>
<p>We use this information to analyze traffic patterns, improve site performance, and understand user engagement.</p>
<p>You can learn more about how Google processes data at: <a href="https://policies.google.com/privacy" target="_blank" rel="noopener noreferrer">policies.google.com/privacy</a></p>
<p>You can opt out of Google Analytics by using the Google Analytics Opt-out Browser Add-on.</p>

<h3>2. Cookies</h3>
<p>The Site uses cookies and similar technologies to enable analytics functionality, improve user experience, and monitor site performance. You may disable cookies through your browser settings. Disabling cookies may limit certain functionality.</p>

<h3>3. Use of Information</h3>
<p>Information collected is used to operate and maintain the Site, improve content and structure, monitor security, prevent abuse, and analyze performance metrics. We do not sell, rent, or trade personal information.</p>

<h3>4. Data Retention</h3>
<p>Analytics data is retained only as long as necessary to fulfill operational and analytical purposes. Server logs may be retained for security and technical maintenance.</p>

<h3>5. Data Security</h3>
<p>We implement reasonable administrative and technical safeguards to protect information. However, no method of transmission over the internet is completely secure. Use of the Site is at your own risk.</p>

<h3>6. International Users</h3>
<p>If you access the Site from outside the United States, your information may be transferred to and processed in the United States. By using the Site, you consent to such transfer.</p>

<h3>7. California Privacy Rights (CCPA)</h3>
<p>If you are a California resident, you may have rights under the California Consumer Privacy Act, including the right to request disclosure or deletion of personal data. Hegemon Global does not sell personal information.</p>

<h3>8. European Users (GDPR Notice)</h3>
<p>If you are located in the European Economic Area, you may have the right to access your personal data, request correction or deletion, and restrict processing. Data is processed on the basis of legitimate interest in operating and improving the Site.</p>

<h3>9. Children's Privacy</h3>
<p>This Site is not intended for individuals under the age of 13. We do not knowingly collect personal information from children.</p>

<h3>10. Changes to This Policy</h3>
<p>We may update this Privacy Policy from time to time. The updated version will include a revised Effective Date. Continued use of the Site constitutes acceptance of changes.</p>

<h3>11. Contact</h3>
<p>For privacy-related questions, contact: <a href="mailto:hegemonglobal0@gmail.com">hegemonglobal0@gmail.com</a></p>`},op=["sports","football","soccer","basketball","baseball","hockey","tennis","golf","cricket","rugby","boxing","mma","ufc","wrestling","volleyball","swimming","marathon","triathlon","nfl","nba","mlb","nhl","mls","epl","la liga","serie a","bundesliga","ligue 1","premier league","champions league","world series","playoff","playoffs","touchdown","super bowl","world cup goal","hat trick","slam dunk","home run","grand slam","figure skating","ice skating","formula 1","f1 race","nascar","grand prix","knicks","lakers","celtics","warriors","yankees","dodgers","cowboys","patriots","manchester united","real madrid","barcelona fc","man city","olympian","olympic medal","olympic athlete","gold medalist","silver medalist","celebrity","entertainment","movie","film review","box office","blockbuster","music","concert","album","grammy","oscar","emmy","golden globe","netflix","streaming","hulu","disney+","hbo max","prime video","tv show","reality tv","american idol","bachelor","bachelorette","survivor","kardashian","influencer","tiktok star","instagram","viral video","went viral","red carpet","paparazzi","tabloid","gossip","scandal","actor dies","actor dead","actor passes","actress dies","actress dead","actress passes","star dies","star dead","star passes","celebrity death","celebrity dies","als battle","als diagnosis","tv star dies","tv star dead","film star dies","hollywood star","sitcom","soap opera","game show","talent show","grey's anatomy","eric dane","mcsteamy","euphoria","emmy winner dies","oscar winner dies","grammy winner dies","beloved actor","beloved actress","remembered for","tributes pour","recipe","cooking","fashion","beauty","lifestyle","horoscope","zodiac","dating","relationship advice","wedding","divorce","weight loss","diet","fitness","workout","yoga","skincare","makeup","hairstyle","lottery","powerball","mega millions","jackpot","casino","stock picks","buy now","shares up","otcmkts","penny stock","crypto pump","fans react","fans are","fans say","fans think","fan base","best dressed","worst dressed","who wore it","style guide","feel-good","heartwarming","uplifting","adorable","cute video","good samaritan","random act of kindness","local hero","community hero","odd news","weird news","quirky","bizarre video","caught on camera","puppy","kitten","rescue dog","rescue cat","pet owner","slipped into","fell into a","falls into","arrested for","charged with","sentenced to","mugshot","car crash","traffic accident","house fire","apartment fire","missing person","amber alert","silver alert","weather forecast","pollen count","snow day","beach advisory","best deals","black friday","prime day","coupon","clearance sale","product review","buyer's guide","top picks","gift guide","slams","slammed","claps back","destroyed by","owned by","stumped by","shocked after","shocked by","stunned by","rips into","torches","blasts","fifth-grade","goes viral","epic response","mic drop","walk of shame","gop lawmaker","dem lawmaker","liberal tears","conservative meltdown","twitter feud","social media feud","online backlash","cancel culture","hot take","opinion:","op-ed:","column:","commentary:","dear abby","ask amy","advice column","agony aunt","dear ann","miss manners","carolyn hax","dan savage","relationship expert","you won't believe","jaw-dropping","mind-blowing","insane video","shocking photo","unbelievable","craziest","wildest","side hustle","passive income","work from home","make money fast","zodiac sign","spirit animal","personality test","iq test","mugshot","florida man","karen","entitled","neighbor from hell","baby name","gender reveal","wedding disaster","bridezilla","food hack","life hack","cleaning hack","ikea hack","ranked worst","ranked best","top 10","listicle","royal family","meghan markle","prince harry","kate middleton","quarterback","rushing yards","fantasy football","draft pick","free agent","batting average","wide receiver","tight end","linebacker","cornerback","running back","transfer window","injury report","jaxson dart","callahan traits","philanthropic","philanthropy","donate his fortune","charitable foundation","cookbook","fashion week","baby bump","engagement ring","album review","movie review","netflix series","red lobster","restaurant closing","shuttering","sewage spill","megyn kelly","randy fine","streamer","coach denies","college offer","mistrial","antifa protest","t-shirt","frontbench team","warns over dissent","full bigot","colbert","kimmel","fallon","hannity","maddow","carlson","tucker","megyn kelly","joe rogan","bill maher","john oliver","late night","talk show","late show","tonight show","spiked interview","body camera","body cam","fcc","school board","zoning","parking ticket","HOA","city council","school district","murder trial","manslaughter","on trial for","climber","hit and run","drunk driving","dui","shoplifting","woke","anti-woke","dei","faith and flag","prayer in school","drag queen","book ban","critical race","funding fight","filibuster","committee hearing","oversight hearing","subpoena","contempt of congress","floor vote","winter olympics","summer olympics","olympics","olympic games","runaway dog","cross country race","hu-ski","interrupting","interrupts","ufo","ufos","alien","aliens","extraterrestrial","ufo files","ufo hearing","nvidia","openai deal","stranded women","stranded woman","unidentified aerial","flying saucer","roswell","chicago bears","stadium relocation","extorting crypto","cryptocurrency extortion","lifeline medic","county governor","epstein files","superstar singer","death threats and fans","prince andrew","king charles brother","police extorting","crypto scam","crypto fraud","county board","suspends board","city manager","township","local election","school superintendent","fire chief","caught between","caught on tape","leaked video","leaked photo","plastic surgery","weight gain","weight loss journey","leukemia","leukaemia","cancer battle","cancer diagnosis","klatham party","ballot barcodes","chinatown beating","palm oil","royal arrest","slavery exhibit","independence mall","crypto extortion","bitcoin scam","bitcoin fraud","stadium deal","sports arena","arena funding","dog show","cat show","spelling bee","hot dog eating","beauty pageant","miss universe","miss america"],yx=["war","military operation","military strike","military force","military base","military deployment","military aid","military buildup","troops","missile","nuclear","invasion","ceasefire","airstrike","drone strike","ballistic","warhead","enrichment","proliferation","chemical weapons","biological weapons","arms deal","defense spending","proxy war","airspace","naval","strait","blockade","embargo","uranium","centrifuge","intercontinental","tactical nuclear","iron dome","cold war","insurgent","militia","separatist","regime","coup","junta","idf","houthi","hezbollah","wagner","hamas","taliban","isis","sanctions","nato","united nations","treaty","diplomatic","summit","bilateral","multilateral","alliance","geopolit","sovereignty","territorial","annexation","occupation","liberation","peacekeeping","deterrence","escalation","provocation","espionage","cyber attack","election interference","pentagon","kremlin","beijing","tehran","pyongyang","european union","african union","g7","g20","iaea","opec","world bank","imf","brics","asean","south china sea","taiwan strait","strait of hormuz","gaza","donbas","crimea","humanitarian crisis","refugee crisis","famine","genocide","ethnic cleansing","war crime","displacement","siege","trade war","tariff","debt crisis","oil price","energy crisis","gas pipeline","supply chain","rare earth","food security","civil war","independence","disinformation","propaganda","hypersonic","submarine","aircraft carrier","chip export","tech ban"],IT=["nuclear","missile","genocide","ceasefire","sanctions","nato","invasion","airstrike","drone strike","chemical weapons","biological weapons","war crime","ethnic cleansing","ballistic","warhead","famine","coup","siege","proxy war","tactical nuclear","uranium","enrichment","hamas","hezbollah","houthi","wagner","taliban","isis","idf","south china sea","taiwan strait","strait of hormuz","gaza","donbas","crimea"],vx=[/\b(colbert|kimmel|fallon|hannity|maddow|carlson|tucker)\b.*\b(republican|democrat|gop|dnc|congress)\b/i,/\b(republican|democrat|gop|dnc)\b.*\b(colbert|kimmel|fallon|hannity|maddow|carlson|tucker)\b/i,/\b(cbs|nbc|abc|fox news|msnbc|cnn)\b.*\b(spiked|ratings|anchor|host|segment)\b/i,/\b(spiked|ratings|anchor|host|segment)\b.*\b(cbs|nbc|abc|fox news|msnbc|cnn)\b/i,/\b(body cam|bodycam|body camera)\b.*\b(congress|dhs|police|officer)\b/i,/\b(congress|dhs)\b.*\b(body cam|bodycam|body camera)\b/i,/\b(olympic)\b.*\b(culture|woke|spectacle|controversy|boycott)\b/i,/\b(school board|zoning|parking|HOA)\b.*\b(vote|meeting|decision|ruling)\b/i],p0={escalat:1.5,deadly:1.4,massacre:1.5,catastroph:1.5,kill:1.3,destroy:1.3,collapse:1.3,crisis:1.2,emergency:1.2,threaten:1.1,attack:1.3,bomb:1.4,war:1.3,conflict:1.2,nuclear:1.5,weapon:1.2,invasion:1.4,siege:1.3,famine:1.3,genocide:1.5,casualt:1.3,"death toll":1.4,militant:1.2,terror:1.4,coup:1.4,"martial law":1.4,crackdown:1.2,shell:1.3,airstrike:1.4,"drone strike":1.3,offensive:1.2,hostage:1.3},m0={ceasefire:-4,peace:-3,agreement:-2,deal:-2,resolution:-3,treaty:-4,accord:-3,settle:-2,release:-1.5,freed:-1.5,pardon:-1.5,amnesty:-2,relief:-1,"aid deliver":-1,reconcil:-2.5,dialogue:-1.5,negotiat:-1.5,truce:-3.5,withdraw:-2,"de-escalat":-3,deescalat:-3,stabiliz:-2,rebuild:-1.5,reconstruct:-1.5,democra:-1,"election held":-1.5,"peaceful protest":-1,"humanitarian corridor":-2,"prisoner exchange":-2,diplomatic:-1.5},FT={CONFLICT:12,CRISIS:10,SECURITY:8,POLITICS:3,ECONOMY:2,CLIMATE:2,DIPLOMACY:-3,TECH:1,WORLD:1},Ps={Afghanistan:["afghan","kabul","taliban"],Albania:["albanian","tirana"],Algeria:["algerian","algiers"],Andorra:["andorran"],Angola:["angolan","luanda"],"Antigua and Barbuda":["antiguan","barbudan"],Argentina:["argentine","argentinian","buenos aires"],Armenia:["armenian","yerevan"],Australia:["australian","canberra","sydney","melbourne"],Austria:["austrian","vienna"],Azerbaijan:["azerbaijani","baku"],Bahamas:["bahamian","nassau"],Bahrain:["bahraini","manama"],Bangladesh:["bangladeshi","dhaka"],Barbados:["barbadian","bridgetown"],Belarus:["belarusian","minsk","lukashenko"],Belgium:["belgian","brussels"],Benin:["beninese","porto-novo","cotonou"],Bhutan:["bhutanese","thimphu"],Bolivia:["bolivian","la paz"],"Bosnia and Herzegovina":["bosnian","sarajevo"],Botswana:["motswana","botswanan","gaborone"],Brazil:["brazilian","brasilia","rio","sao paulo","lula"],Brunei:["bruneian","bandar seri begawan"],Bulgaria:["bulgarian","sofia"],"Burkina Faso":["burkinabe","ouagadougou"],Burundi:["burundian","bujumbura","gitega"],Cambodia:["cambodian","phnom penh"],Cameroon:["cameroonian","yaounde"],Canada:["canadian","ottawa","toronto","trudeau"],"Cape Verde":["cape verdean","praia"],"Central African Republic":["central african","bangui"],Chad:["chadian","n'djamena"],Chile:["chilean","santiago"],China:["chinese","beijing","xi jinping","ccp","prc"],Colombia:["colombian","bogota"],Comoros:["comorian","moroni"],"Democratic Republic of Congo":["congolese","kinshasa","drc"],"Republic of Congo":["congo-brazzaville","brazzaville"],"Costa Rica":["costa rican","san jose"],Croatia:["croatian","zagreb"],Cuba:["cuban","havana"],Cyprus:["cypriot","nicosia"],"Czech Republic":["czech","prague"],Denmark:["danish","copenhagen"],Greenland:["greenlandic","nuuk","inuit"],Djibouti:["djiboutian"],Dominica:["dominican"],"Dominican Republic":["dominican republic","santo domingo"],Ecuador:["ecuadorian","quito"],Egypt:["egyptian","cairo","sisi"],"El Salvador":["salvadoran","san salvador","bukele"],"Equatorial Guinea":["equatoguinean","malabo"],Eritrea:["eritrean","asmara"],Estonia:["estonian","tallinn"],Eswatini:["swazi","mbabane"],Ethiopia:["ethiopian","addis ababa"],Fiji:["fijian","suva"],Finland:["finnish","helsinki"],France:["french","paris","macron","lyse"],Gabon:["gabonese","libreville"],Gambia:["gambian","banjul"],Georgia:["georgian","tbilisi"],Germany:["german","berlin","scholz","bundestag"],Ghana:["ghanaian","accra"],Greece:["greek","athens"],Grenada:["grenadian"],Guatemala:["guatemalan"],Guinea:["guinean","conakry"],"Guinea-Bissau":["bissau-guinean","bissau"],Guyana:["guyanese","georgetown"],Haiti:["haitian","port-au-prince"],Honduras:["honduran","tegucigalpa"],Hungary:["hungarian","budapest","orban"],Iceland:["icelandic","reykjavik"],India:["indian","delhi","mumbai","modi","bjp"],Indonesia:["indonesian","jakarta","jokowi"],Iran:["iranian","tehran","ayatollah","khamenei"],Iraq:["iraqi","baghdad","kurdish"],Ireland:["irish","dublin"],Israel:["israeli","tel aviv","jerusalem","netanyahu","idf"],Italy:["italian","rome","meloni"],"Ivory Coast":["ivorian","abidjan","yamoussoukro"],Jamaica:["jamaican","kingston"],Japan:["japanese","tokyo","kishida"],Jordan:["jordanian","amman"],Kazakhstan:["kazakh","astana","almaty"],Kenya:["kenyan","nairobi"],Kiribati:["i-kiribati","tarawa"],Kosovo:["kosovar","pristina"],Kuwait:["kuwaiti","kuwait city"],Kyrgyzstan:["kyrgyz","bishkek"],Laos:["laotian","vientiane"],Latvia:["latvian","riga"],Lebanon:["lebanese","beirut","hezbollah"],Lesotho:["basotho","maseru"],Liberia:["liberian","monrovia"],Libya:["libyan","tripoli"],Liechtenstein:["liechtensteiner","vaduz"],Lithuania:["lithuanian","vilnius"],Luxembourg:["luxembourgish","luxembourger"],Madagascar:["malagasy","antananarivo"],Malawi:["malawian","lilongwe"],Malaysia:["malaysian","kuala lumpur"],Maldives:["maldivian","male"],Mali:["malian","bamako"],Malta:["maltese","valletta"],"Marshall Islands":["marshallese","majuro"],Mauritania:["mauritanian","nouakchott"],Mauritius:["mauritian","port louis"],Mexico:["mexican","mexico city"],Micronesia:["micronesian","palikir"],Moldova:["moldovan","chisinau"],Monaco:["monegasque","monte carlo"],Mongolia:["mongolian","ulaanbaatar"],Montenegro:["montenegrin","podgorica"],Morocco:["moroccan","rabat","casablanca"],Mozambique:["mozambican","maputo"],Myanmar:["burmese","myanmar","yangon","junta"],Namibia:["namibian","windhoek"],Nauru:["nauruan"],Nepal:["nepali","nepalese","kathmandu"],Netherlands:["dutch","amsterdam","the hague"],"New Zealand":["new zealand","kiwi","wellington"],Nicaragua:["nicaraguan","managua","ortega"],Niger:["nigerien","niamey"],Nigeria:["nigerian","lagos","abuja"],"North Korea":["north korean","pyongyang","kim jong","dprk"],"North Macedonia":["macedonian","skopje"],Norway:["norwegian","oslo"],Oman:["omani","muscat"],Pakistan:["pakistani","islamabad","karachi"],Palau:["palauan","ngerulmud"],Palestine:["gaza","palestinian","west bank","ramallah","hamas","fatah","pa ","palestinian authority"],Panama:["panamanian","panama city"],"Papua New Guinea":["papua new guinean","port moresby"],Paraguay:["paraguayan","asuncion"],Peru:["peruvian","lima"],Philippines:["filipino","philippine","manila","marcos"],Poland:["polish","warsaw"],Portugal:["portuguese","lisbon"],Qatar:["qatari","doha"],Romania:["romanian","bucharest"],Russia:["russian","moscow","kremlin","putin"],Rwanda:["rwandan","kigali"],"Saint Kitts and Nevis":["kittitian","nevisian","basseterre"],"Saint Lucia":["saint lucian","castries"],"Saint Vincent and the Grenadines":["vincentian"],Samoa:["samoan","apia"],"San Marino":["sammarinese"],"Sao Tome and Principe":["santomean"],"Saudi Arabia":["saudi","riyadh","mbs"],Senegal:["senegalese","dakar"],Serbia:["serbian","belgrade"],Seychelles:["seychellois","victoria"],"Sierra Leone":["sierra leonean","freetown"],Singapore:["singaporean"],Slovakia:["slovak","bratislava"],Slovenia:["slovenian","ljubljana"],"Solomon Islands":["solomon islander","honiara"],Somalia:["somali","mogadishu"],"South Africa":["south african","johannesburg","pretoria","cape town"],"South Korea":["south korean","seoul","korean"],"South Sudan":["south sudanese","juba"],Spain:["spanish","madrid","barcelona"],"Sri Lanka":["sri lankan","colombo"],Sudan:["sudanese","khartoum"],Suriname:["surinamese","paramaribo"],Sweden:["swedish","stockholm"],Switzerland:["swiss","bern","zurich","geneva"],Syria:["syrian","damascus","assad"],Taiwan:["taiwanese","taipei"],Tajikistan:["tajik","dushanbe"],Tanzania:["tanzanian","dodoma","dar es salaam"],Thailand:["thai","bangkok"],"Timor-Leste":["timorese","east timor","dili"],Togo:["togolese","lome"],Tonga:["tongan","nuku'alofa"],"Trinidad and Tobago":["trinidadian","tobagonian","port of spain"],Tunisia:["tunisian","tunis"],Turkey:["turkish","ankara","istanbul","erdogan"],Turkmenistan:["turkmen","ashgabat"],Tuvalu:["tuvaluan","funafuti"],Uganda:["ugandan","kampala"],Ukraine:["ukrainian","kyiv","zelensky"],"United Arab Emirates":["emirati","uae","dubai","abu dhabi"],"United Kingdom":["british","uk","britain","london","parliament","westminster"],"United States":["u.s.","american","washington","biden","trump","congress","white house","pentagon"],Uruguay:["uruguayan","montevideo"],Uzbekistan:["uzbek","tashkent"],Vanuatu:["ni-vanuatu","port vila"],Venezuela:["venezuelan","caracas","rodriguez","maduro"],Vietnam:["vietnamese","hanoi","ho chi minh"],Yemen:["yemeni","sanaa","houthi"],Zambia:["zambian","lusaka"],Zimbabwe:["zimbabwean","harare"]};const bx="128",GT=0,g0=1,HT=2,xx=1,VT=2,Qo=3,Pu=0,rn=1,Sr=2,wx=1,nl=0,il=1,y0=2,v0=3,b0=4,WT=5,Es=100,jT=101,qT=102,x0=103,w0=104,KT=200,YT=201,JT=202,$T=203,Sx=204,Mx=205,XT=206,ZT=207,QT=208,e2=209,t2=210,n2=0,i2=1,a2=2,lp=3,r2=4,s2=5,o2=6,l2=7,Ou=0,c2=1,u2=2,al=0,d2=1,h2=2,f2=3,p2=4,m2=5,Tx=300,Up=301,Bp=302,S0=303,M0=304,Dp=306,Pp=307,cp=1e3,An=1001,up=1002,Rn=1003,T0=1004,_0=1005,ci=1006,g2=1007,Op=1008,zp=1009,y2=1010,v2=1011,Tu=1012,b2=1013,vu=1014,Va=1015,_u=1016,x2=1017,w2=1018,S2=1019,rl=1020,M2=1021,vr=1022,xi=1023,T2=1024,_2=1025,Us=1026,ul=1027,E2=1028,C2=1029,A2=1030,R2=1031,L2=1032,k2=1033,E0=33776,C0=33777,A0=33778,R0=33779,L0=35840,k0=35841,N0=35842,U0=35843,N2=36196,B0=37492,D0=37496,U2=37808,B2=37809,D2=37810,P2=37811,O2=37812,z2=37813,I2=37814,F2=37815,G2=37816,H2=37817,V2=37818,W2=37819,j2=37820,q2=37821,K2=36492,Y2=37840,J2=37841,$2=37842,X2=37843,Z2=37844,Q2=37845,e_=37846,t_=37847,n_=37848,i_=37849,a_=37850,r_=37851,s_=37852,o_=37853,l_=2200,c_=2201,u_=2202,Eu=2300,Cu=2301,cf=2302,As=2400,Rs=2401,Au=2402,Ip=2500,_x=2501,d_=0,bl=3e3,Ex=3001,h_=3007,f_=3002,p_=3003,m_=3004,g_=3005,y_=3006,v_=3200,b_=3201,Hs=0,x_=1,uf=7680,w_=519,dl=35044,Ru=35048,P0="300 es";class _r{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const a=this._listeners;a[e]===void 0&&(a[e]=[]),a[e].indexOf(t)===-1&&a[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const a=this._listeners;return a[e]!==void 0&&a[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const s=this._listeners[e];if(s!==void 0){const l=s.indexOf(t);l!==-1&&s.splice(l,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const a=this._listeners[e.type];if(a!==void 0){e.target=this;const s=a.slice(0);for(let l=0,c=s.length;l<c;l++)s[l].call(this,e);e.target=null}}}const bn=[];for(let r=0;r<256;r++)bn[r]=(r<16?"0":"")+r.toString(16);const df=Math.PI/180,dp=180/Math.PI;function Ri(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,a=Math.random()*4294967295|0;return(bn[r&255]+bn[r>>8&255]+bn[r>>16&255]+bn[r>>24&255]+"-"+bn[e&255]+bn[e>>8&255]+"-"+bn[e>>16&15|64]+bn[e>>24&255]+"-"+bn[t&63|128]+bn[t>>8&255]+"-"+bn[t>>16&255]+bn[t>>24&255]+bn[a&255]+bn[a>>8&255]+bn[a>>16&255]+bn[a>>24&255]).toUpperCase()}function $n(r,e,t){return Math.max(e,Math.min(t,r))}function S_(r,e){return(r%e+e)%e}function hf(r,e,t){return(1-t)*r+t*e}function O0(r){return(r&r-1)===0&&r!==0}function M_(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function T_(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}class Le{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,a=this.y,s=e.elements;return this.x=s[0]*t+s[3]*a+s[6],this.y=s[1]*t+s[4]*a+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(t,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,a=this.y-e.y;return t*t+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,a){return this.x=e.x+(t.x-e.x)*a,this.y=e.y+(t.y-e.y)*a,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,a){return a!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const a=Math.cos(t),s=Math.sin(t),l=this.x-e.x,c=this.y-e.y;return this.x=l*a-c*s+e.x,this.y=l*s+c*a+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}Le.prototype.isVector2=!0;class xn{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,a,s,l,c,d,h,f){const g=this.elements;return g[0]=e,g[1]=s,g[2]=d,g[3]=t,g[4]=l,g[5]=h,g[6]=a,g[7]=c,g[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,a=e.elements;return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],this}extractBasis(e,t,a){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),a.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const a=e.elements,s=t.elements,l=this.elements,c=a[0],d=a[3],h=a[6],f=a[1],g=a[4],y=a[7],v=a[2],b=a[5],w=a[8],T=s[0],_=s[3],S=s[6],x=s[1],B=s[4],O=s[7],D=s[2],A=s[5],P=s[8];return l[0]=c*T+d*x+h*D,l[3]=c*_+d*B+h*A,l[6]=c*S+d*O+h*P,l[1]=f*T+g*x+y*D,l[4]=f*_+g*B+y*A,l[7]=f*S+g*O+y*P,l[2]=v*T+b*x+w*D,l[5]=v*_+b*B+w*A,l[8]=v*S+b*O+w*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],a=e[1],s=e[2],l=e[3],c=e[4],d=e[5],h=e[6],f=e[7],g=e[8];return t*c*g-t*d*f-a*l*g+a*d*h+s*l*f-s*c*h}invert(){const e=this.elements,t=e[0],a=e[1],s=e[2],l=e[3],c=e[4],d=e[5],h=e[6],f=e[7],g=e[8],y=g*c-d*f,v=d*h-g*l,b=f*l-c*h,w=t*y+a*v+s*b;if(w===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/w;return e[0]=y*T,e[1]=(s*f-g*a)*T,e[2]=(d*a-s*c)*T,e[3]=v*T,e[4]=(g*t-s*h)*T,e[5]=(s*l-d*t)*T,e[6]=b*T,e[7]=(a*h-f*t)*T,e[8]=(c*t-a*l)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,a,s,l,c,d){const h=Math.cos(l),f=Math.sin(l);return this.set(a*h,a*f,-a*(h*c+f*d)+c+e,-s*f,s*h,-s*(-f*c+h*d)+d+t,0,0,1),this}scale(e,t){const a=this.elements;return a[0]*=e,a[3]*=e,a[6]*=e,a[1]*=t,a[4]*=t,a[7]*=t,this}rotate(e){const t=Math.cos(e),a=Math.sin(e),s=this.elements,l=s[0],c=s[3],d=s[6],h=s[1],f=s[4],g=s[7];return s[0]=t*l+a*h,s[3]=t*c+a*f,s[6]=t*d+a*g,s[1]=-a*l+t*h,s[4]=-a*c+t*f,s[7]=-a*d+t*g,this}translate(e,t){const a=this.elements;return a[0]+=e*a[2],a[3]+=e*a[5],a[6]+=e*a[8],a[1]+=t*a[2],a[4]+=t*a[5],a[7]+=t*a[8],this}equals(e){const t=this.elements,a=e.elements;for(let s=0;s<9;s++)if(t[s]!==a[s])return!1;return!0}fromArray(e,t=0){for(let a=0;a<9;a++)this.elements[a]=e[a+t];return this}toArray(e=[],t=0){const a=this.elements;return e[t]=a[0],e[t+1]=a[1],e[t+2]=a[2],e[t+3]=a[3],e[t+4]=a[4],e[t+5]=a[5],e[t+6]=a[6],e[t+7]=a[7],e[t+8]=a[8],e}clone(){return new this.constructor().fromArray(this.elements)}}xn.prototype.isMatrix3=!0;let ls;class Vs{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ls===void 0&&(ls=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),ls.width=e.width,ls.height=e.height;const a=ls.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),t=ls}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let __=0;class wn extends _r{constructor(e=wn.DEFAULT_IMAGE,t=wn.DEFAULT_MAPPING,a=An,s=An,l=ci,c=Op,d=xi,h=zp,f=1,g=bl){super(),Object.defineProperty(this,"id",{value:__++}),this.uuid=Ri(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=a,this.wrapT=s,this.magFilter=l,this.minFilter=c,this.anisotropy=f,this.format=d,this.internalFormat=null,this.type=h,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new xn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=g,this.version=0,this.onUpdate=null}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const a={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const s=this.image;if(s.uuid===void 0&&(s.uuid=Ri()),!t&&e.images[s.uuid]===void 0){let l;if(Array.isArray(s)){l=[];for(let c=0,d=s.length;c<d;c++)s[c].isDataTexture?l.push(ff(s[c].image)):l.push(ff(s[c]))}else l=ff(s);e.images[s.uuid]={uuid:s.uuid,url:l}}a.image=s.uuid}return t||(e.textures[this.uuid]=a),a}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Tx)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case cp:e.x=e.x-Math.floor(e.x);break;case An:e.x=e.x<0?0:1;break;case up:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case cp:e.y=e.y-Math.floor(e.y);break;case An:e.y=e.y<0?0:1;break;case up:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}wn.DEFAULT_IMAGE=void 0;wn.DEFAULT_MAPPING=Tx;wn.prototype.isTexture=!0;function ff(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?Vs.getDataURL(r):r.data?{data:Array.prototype.slice.call(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class Lt{constructor(e=0,t=0,a=0,s=1){this.x=e,this.y=t,this.z=a,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,a,s){return this.x=e,this.y=t,this.z=a,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,a=this.y,s=this.z,l=this.w,c=e.elements;return this.x=c[0]*t+c[4]*a+c[8]*s+c[12]*l,this.y=c[1]*t+c[5]*a+c[9]*s+c[13]*l,this.z=c[2]*t+c[6]*a+c[10]*s+c[14]*l,this.w=c[3]*t+c[7]*a+c[11]*s+c[15]*l,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,a,s,l;const h=e.elements,f=h[0],g=h[4],y=h[8],v=h[1],b=h[5],w=h[9],T=h[2],_=h[6],S=h[10];if(Math.abs(g-v)<.01&&Math.abs(y-T)<.01&&Math.abs(w-_)<.01){if(Math.abs(g+v)<.1&&Math.abs(y+T)<.1&&Math.abs(w+_)<.1&&Math.abs(f+b+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const B=(f+1)/2,O=(b+1)/2,D=(S+1)/2,A=(g+v)/4,P=(y+T)/4,q=(w+_)/4;return B>O&&B>D?B<.01?(a=0,s=.707106781,l=.707106781):(a=Math.sqrt(B),s=A/a,l=P/a):O>D?O<.01?(a=.707106781,s=0,l=.707106781):(s=Math.sqrt(O),a=A/s,l=q/s):D<.01?(a=.707106781,s=.707106781,l=0):(l=Math.sqrt(D),a=P/l,s=q/l),this.set(a,s,l,t),this}let x=Math.sqrt((_-w)*(_-w)+(y-T)*(y-T)+(v-g)*(v-g));return Math.abs(x)<.001&&(x=1),this.x=(_-w)/x,this.y=(y-T)/x,this.z=(v-g)/x,this.w=Math.acos((f+b+S-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(t,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,a){return this.x=e.x+(t.x-e.x)*a,this.y=e.y+(t.y-e.y)*a,this.z=e.z+(t.z-e.z)*a,this.w=e.w+(t.w-e.w)*a,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,a){return a!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}Lt.prototype.isVector4=!0;class br extends _r{constructor(e,t,a){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new Lt(0,0,e,t),this.scissorTest=!1,this.viewport=new Lt(0,0,e,t),a=a||{},this.texture=new wn(void 0,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=1,this.texture.generateMipmaps=a.generateMipmaps!==void 0?a.generateMipmaps:!1,this.texture.minFilter=a.minFilter!==void 0?a.minFilter:ci,this.depthBuffer=a.depthBuffer!==void 0?a.depthBuffer:!0,this.stencilBuffer=a.stencilBuffer!==void 0?a.stencilBuffer:!1,this.depthTexture=a.depthTexture!==void 0?a.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,a=1){(this.width!==e||this.height!==t||this.depth!==a)&&(this.width=e,this.height=t,this.depth=a,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=a,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}br.prototype.isWebGLRenderTarget=!0;class E_ extends br{constructor(e,t,a){super(e,t,a),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}E_.prototype.isWebGLMultisampleRenderTarget=!0;class Ln{constructor(e=0,t=0,a=0,s=1){this._x=e,this._y=t,this._z=a,this._w=s}static slerp(e,t,a,s){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),a.slerpQuaternions(e,t,s)}static slerpFlat(e,t,a,s,l,c,d){let h=a[s+0],f=a[s+1],g=a[s+2],y=a[s+3];const v=l[c+0],b=l[c+1],w=l[c+2],T=l[c+3];if(d===0){e[t+0]=h,e[t+1]=f,e[t+2]=g,e[t+3]=y;return}if(d===1){e[t+0]=v,e[t+1]=b,e[t+2]=w,e[t+3]=T;return}if(y!==T||h!==v||f!==b||g!==w){let _=1-d;const S=h*v+f*b+g*w+y*T,x=S>=0?1:-1,B=1-S*S;if(B>Number.EPSILON){const D=Math.sqrt(B),A=Math.atan2(D,S*x);_=Math.sin(_*A)/D,d=Math.sin(d*A)/D}const O=d*x;if(h=h*_+v*O,f=f*_+b*O,g=g*_+w*O,y=y*_+T*O,_===1-d){const D=1/Math.sqrt(h*h+f*f+g*g+y*y);h*=D,f*=D,g*=D,y*=D}}e[t]=h,e[t+1]=f,e[t+2]=g,e[t+3]=y}static multiplyQuaternionsFlat(e,t,a,s,l,c){const d=a[s],h=a[s+1],f=a[s+2],g=a[s+3],y=l[c],v=l[c+1],b=l[c+2],w=l[c+3];return e[t]=d*w+g*y+h*b-f*v,e[t+1]=h*w+g*v+f*y-d*b,e[t+2]=f*w+g*b+d*v-h*y,e[t+3]=g*w-d*y-h*v-f*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,a,s){return this._x=e,this._y=t,this._z=a,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const a=e._x,s=e._y,l=e._z,c=e._order,d=Math.cos,h=Math.sin,f=d(a/2),g=d(s/2),y=d(l/2),v=h(a/2),b=h(s/2),w=h(l/2);switch(c){case"XYZ":this._x=v*g*y+f*b*w,this._y=f*b*y-v*g*w,this._z=f*g*w+v*b*y,this._w=f*g*y-v*b*w;break;case"YXZ":this._x=v*g*y+f*b*w,this._y=f*b*y-v*g*w,this._z=f*g*w-v*b*y,this._w=f*g*y+v*b*w;break;case"ZXY":this._x=v*g*y-f*b*w,this._y=f*b*y+v*g*w,this._z=f*g*w+v*b*y,this._w=f*g*y-v*b*w;break;case"ZYX":this._x=v*g*y-f*b*w,this._y=f*b*y+v*g*w,this._z=f*g*w-v*b*y,this._w=f*g*y+v*b*w;break;case"YZX":this._x=v*g*y+f*b*w,this._y=f*b*y+v*g*w,this._z=f*g*w-v*b*y,this._w=f*g*y-v*b*w;break;case"XZY":this._x=v*g*y-f*b*w,this._y=f*b*y-v*g*w,this._z=f*g*w+v*b*y,this._w=f*g*y+v*b*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const a=t/2,s=Math.sin(a);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(a),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,a=t[0],s=t[4],l=t[8],c=t[1],d=t[5],h=t[9],f=t[2],g=t[6],y=t[10],v=a+d+y;if(v>0){const b=.5/Math.sqrt(v+1);this._w=.25/b,this._x=(g-h)*b,this._y=(l-f)*b,this._z=(c-s)*b}else if(a>d&&a>y){const b=2*Math.sqrt(1+a-d-y);this._w=(g-h)/b,this._x=.25*b,this._y=(s+c)/b,this._z=(l+f)/b}else if(d>y){const b=2*Math.sqrt(1+d-a-y);this._w=(l-f)/b,this._x=(s+c)/b,this._y=.25*b,this._z=(h+g)/b}else{const b=2*Math.sqrt(1+y-a-d);this._w=(c-s)/b,this._x=(l+f)/b,this._y=(h+g)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let a=e.dot(t)+1;return a<Number.EPSILON?(a=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=a):(this._x=0,this._y=-e.z,this._z=e.y,this._w=a)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=a),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs($n(this.dot(e),-1,1)))}rotateTowards(e,t){const a=this.angleTo(e);if(a===0)return this;const s=Math.min(1,t/a);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const a=e._x,s=e._y,l=e._z,c=e._w,d=t._x,h=t._y,f=t._z,g=t._w;return this._x=a*g+c*d+s*f-l*h,this._y=s*g+c*h+l*d-a*f,this._z=l*g+c*f+a*h-s*d,this._w=c*g-a*d-s*h-l*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const a=this._x,s=this._y,l=this._z,c=this._w;let d=c*e._w+a*e._x+s*e._y+l*e._z;if(d<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,d=-d):this.copy(e),d>=1)return this._w=c,this._x=a,this._y=s,this._z=l,this;const h=1-d*d;if(h<=Number.EPSILON){const b=1-t;return this._w=b*c+t*this._w,this._x=b*a+t*this._x,this._y=b*s+t*this._y,this._z=b*l+t*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(h),g=Math.atan2(f,d),y=Math.sin((1-t)*g)/f,v=Math.sin(t*g)/f;return this._w=c*y+this._w*v,this._x=a*y+this._x*v,this._y=s*y+this._y*v,this._z=l*y+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,a){this.copy(e).slerp(t,a)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Ln.prototype.isQuaternion=!0;class I{constructor(e=0,t=0,a=0){this.x=e,this.y=t,this.z=a}set(e,t,a){return a===void 0&&(a=this.z),this.x=e,this.y=t,this.z=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(z0.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(z0.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,a=this.y,s=this.z,l=e.elements;return this.x=l[0]*t+l[3]*a+l[6]*s,this.y=l[1]*t+l[4]*a+l[7]*s,this.z=l[2]*t+l[5]*a+l[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,a=this.y,s=this.z,l=e.elements,c=1/(l[3]*t+l[7]*a+l[11]*s+l[15]);return this.x=(l[0]*t+l[4]*a+l[8]*s+l[12])*c,this.y=(l[1]*t+l[5]*a+l[9]*s+l[13])*c,this.z=(l[2]*t+l[6]*a+l[10]*s+l[14])*c,this}applyQuaternion(e){const t=this.x,a=this.y,s=this.z,l=e.x,c=e.y,d=e.z,h=e.w,f=h*t+c*s-d*a,g=h*a+d*t-l*s,y=h*s+l*a-c*t,v=-l*t-c*a-d*s;return this.x=f*h+v*-l+g*-d-y*-c,this.y=g*h+v*-c+y*-l-f*-d,this.z=y*h+v*-d+f*-c-g*-l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,a=this.y,s=this.z,l=e.elements;return this.x=l[0]*t+l[4]*a+l[8]*s,this.y=l[1]*t+l[5]*a+l[9]*s,this.z=l[2]*t+l[6]*a+l[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(t,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,a){return this.x=e.x+(t.x-e.x)*a,this.y=e.y+(t.y-e.y)*a,this.z=e.z+(t.z-e.z)*a,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const a=e.x,s=e.y,l=e.z,c=t.x,d=t.y,h=t.z;return this.x=s*h-l*d,this.y=l*c-a*h,this.z=a*d-s*c,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const a=e.dot(this)/t;return this.copy(e).multiplyScalar(a)}projectOnPlane(e){return pf.copy(this).projectOnVector(e),this.sub(pf)}reflect(e){return this.sub(pf.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const a=this.dot(e)/t;return Math.acos($n(a,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,a=this.y-e.y,s=this.z-e.z;return t*t+a*a+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,a){const s=Math.sin(t)*e;return this.x=s*Math.sin(a),this.y=Math.cos(t)*e,this.z=s*Math.cos(a),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,a){return this.x=e*Math.sin(t),this.y=a,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),a=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=a,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,a){return a!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}I.prototype.isVector3=!0;const pf=new I,z0=new Ln;class hi{constructor(e=new I(1/0,1/0,1/0),t=new I(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,a=1/0,s=1/0,l=-1/0,c=-1/0,d=-1/0;for(let h=0,f=e.length;h<f;h+=3){const g=e[h],y=e[h+1],v=e[h+2];g<t&&(t=g),y<a&&(a=y),v<s&&(s=v),g>l&&(l=g),y>c&&(c=y),v>d&&(d=v)}return this.min.set(t,a,s),this.max.set(l,c,d),this}setFromBufferAttribute(e){let t=1/0,a=1/0,s=1/0,l=-1/0,c=-1/0,d=-1/0;for(let h=0,f=e.count;h<f;h++){const g=e.getX(h),y=e.getY(h),v=e.getZ(h);g<t&&(t=g),y<a&&(a=y),v<s&&(s=v),g>l&&(l=g),y>c&&(c=y),v>d&&(d=v)}return this.min.set(t,a,s),this.max.set(l,c,d),this}setFromPoints(e){this.makeEmpty();for(let t=0,a=e.length;t<a;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const a=Go.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(a),this.max.copy(e).add(a),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new I),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new I),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),mf.copy(t.boundingBox),mf.applyMatrix4(e.matrixWorld),this.union(mf));const a=e.children;for(let s=0,l=a.length;s<l;s++)this.expandByObject(a[s]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new I),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Go),Go.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,a;return e.normal.x>0?(t=e.normal.x*this.min.x,a=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,a=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,a+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,a+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,a+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,a+=e.normal.z*this.min.z),t<=-e.constant&&a>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ho),Pc.subVectors(this.max,Ho),cs.subVectors(e.a,Ho),us.subVectors(e.b,Ho),ds.subVectors(e.c,Ho),Ba.subVectors(us,cs),Da.subVectors(ds,us),mr.subVectors(cs,ds);let t=[0,-Ba.z,Ba.y,0,-Da.z,Da.y,0,-mr.z,mr.y,Ba.z,0,-Ba.x,Da.z,0,-Da.x,mr.z,0,-mr.x,-Ba.y,Ba.x,0,-Da.y,Da.x,0,-mr.y,mr.x,0];return!gf(t,cs,us,ds,Pc)||(t=[1,0,0,0,1,0,0,0,1],!gf(t,cs,us,ds,Pc))?!1:(Oc.crossVectors(Ba,Da),t=[Oc.x,Oc.y,Oc.z],gf(t,cs,us,ds,Pc))}clampPoint(e,t){return t===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new I),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Go.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=this.getSize(Go).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Zi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zi),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}hi.prototype.isBox3=!0;const Zi=[new I,new I,new I,new I,new I,new I,new I,new I],Go=new I,mf=new hi,cs=new I,us=new I,ds=new I,Ba=new I,Da=new I,mr=new I,Ho=new I,Pc=new I,Oc=new I,gr=new I;function gf(r,e,t,a,s){for(let l=0,c=r.length-3;l<=c;l+=3){gr.fromArray(r,l);const d=s.x*Math.abs(gr.x)+s.y*Math.abs(gr.y)+s.z*Math.abs(gr.z),h=e.dot(gr),f=t.dot(gr),g=a.dot(gr);if(Math.max(-Math.max(h,f,g),Math.min(h,f,g))>d)return!1}return!0}const C_=new hi,I0=new I,yf=new I,vf=new I;class Ws{constructor(e=new I,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const a=this.center;t!==void 0?a.copy(t):C_.setFromPoints(e).getCenter(a);let s=0;for(let l=0,c=e.length;l<c;l++)s=Math.max(s,a.distanceToSquared(e[l]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const a=this.center.distanceToSquared(e);return t===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new I),t.copy(e),a>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new hi),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){vf.subVectors(e,this.center);const t=vf.lengthSq();if(t>this.radius*this.radius){const a=Math.sqrt(t),s=(a-this.radius)*.5;this.center.add(vf.multiplyScalar(s/a)),this.radius+=s}return this}union(e){return yf.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(I0.copy(e.center).add(yf)),this.expandByPoint(I0.copy(e.center).sub(yf)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Qi=new I,bf=new I,zc=new I,Pa=new I,xf=new I,Ic=new I,wf=new I;class Er{constructor(e=new I,t=new I(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t===void 0&&(console.warn("THREE.Ray: .at() target is now required"),t=new I),t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Qi)),this}closestPointToPoint(e,t){t===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new I),t.subVectors(e,this.origin);const a=t.dot(this.direction);return a<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(a).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Qi.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Qi.copy(this.direction).multiplyScalar(t).add(this.origin),Qi.distanceToSquared(e))}distanceSqToSegment(e,t,a,s){bf.copy(e).add(t).multiplyScalar(.5),zc.copy(t).sub(e).normalize(),Pa.copy(this.origin).sub(bf);const l=e.distanceTo(t)*.5,c=-this.direction.dot(zc),d=Pa.dot(this.direction),h=-Pa.dot(zc),f=Pa.lengthSq(),g=Math.abs(1-c*c);let y,v,b,w;if(g>0)if(y=c*h-d,v=c*d-h,w=l*g,y>=0)if(v>=-w)if(v<=w){const T=1/g;y*=T,v*=T,b=y*(y+c*v+2*d)+v*(c*y+v+2*h)+f}else v=l,y=Math.max(0,-(c*v+d)),b=-y*y+v*(v+2*h)+f;else v=-l,y=Math.max(0,-(c*v+d)),b=-y*y+v*(v+2*h)+f;else v<=-w?(y=Math.max(0,-(-c*l+d)),v=y>0?-l:Math.min(Math.max(-l,-h),l),b=-y*y+v*(v+2*h)+f):v<=w?(y=0,v=Math.min(Math.max(-l,-h),l),b=v*(v+2*h)+f):(y=Math.max(0,-(c*l+d)),v=y>0?l:Math.min(Math.max(-l,-h),l),b=-y*y+v*(v+2*h)+f);else v=c>0?-l:l,y=Math.max(0,-(c*v+d)),b=-y*y+v*(v+2*h)+f;return a&&a.copy(this.direction).multiplyScalar(y).add(this.origin),s&&s.copy(zc).multiplyScalar(v).add(bf),b}intersectSphere(e,t){Qi.subVectors(e.center,this.origin);const a=Qi.dot(this.direction),s=Qi.dot(Qi)-a*a,l=e.radius*e.radius;if(s>l)return null;const c=Math.sqrt(l-s),d=a-c,h=a+c;return d<0&&h<0?null:d<0?this.at(h,t):this.at(d,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const a=-(this.origin.dot(e.normal)+e.constant)/t;return a>=0?a:null}intersectPlane(e,t){const a=this.distanceToPlane(e);return a===null?null:this.at(a,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let a,s,l,c,d,h;const f=1/this.direction.x,g=1/this.direction.y,y=1/this.direction.z,v=this.origin;return f>=0?(a=(e.min.x-v.x)*f,s=(e.max.x-v.x)*f):(a=(e.max.x-v.x)*f,s=(e.min.x-v.x)*f),g>=0?(l=(e.min.y-v.y)*g,c=(e.max.y-v.y)*g):(l=(e.max.y-v.y)*g,c=(e.min.y-v.y)*g),a>c||l>s||((l>a||a!==a)&&(a=l),(c<s||s!==s)&&(s=c),y>=0?(d=(e.min.z-v.z)*y,h=(e.max.z-v.z)*y):(d=(e.max.z-v.z)*y,h=(e.min.z-v.z)*y),a>h||d>s)||((d>a||a!==a)&&(a=d),(h<s||s!==s)&&(s=h),s<0)?null:this.at(a>=0?a:s,t)}intersectsBox(e){return this.intersectBox(e,Qi)!==null}intersectTriangle(e,t,a,s,l){xf.subVectors(t,e),Ic.subVectors(a,e),wf.crossVectors(xf,Ic);let c=this.direction.dot(wf),d;if(c>0){if(s)return null;d=1}else if(c<0)d=-1,c=-c;else return null;Pa.subVectors(this.origin,e);const h=d*this.direction.dot(Ic.crossVectors(Pa,Ic));if(h<0)return null;const f=d*this.direction.dot(xf.cross(Pa));if(f<0||h+f>c)return null;const g=-d*Pa.dot(wf);return g<0?null:this.at(g/c,l)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Je{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,a,s,l,c,d,h,f,g,y,v,b,w,T,_){const S=this.elements;return S[0]=e,S[4]=t,S[8]=a,S[12]=s,S[1]=l,S[5]=c,S[9]=d,S[13]=h,S[2]=f,S[6]=g,S[10]=y,S[14]=v,S[3]=b,S[7]=w,S[11]=T,S[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Je().fromArray(this.elements)}copy(e){const t=this.elements,a=e.elements;return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],this}copyPosition(e){const t=this.elements,a=e.elements;return t[12]=a[12],t[13]=a[13],t[14]=a[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,a){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),a.setFromMatrixColumn(this,2),this}makeBasis(e,t,a){return this.set(e.x,t.x,a.x,0,e.y,t.y,a.y,0,e.z,t.z,a.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,a=e.elements,s=1/hs.setFromMatrixColumn(e,0).length(),l=1/hs.setFromMatrixColumn(e,1).length(),c=1/hs.setFromMatrixColumn(e,2).length();return t[0]=a[0]*s,t[1]=a[1]*s,t[2]=a[2]*s,t[3]=0,t[4]=a[4]*l,t[5]=a[5]*l,t[6]=a[6]*l,t[7]=0,t[8]=a[8]*c,t[9]=a[9]*c,t[10]=a[10]*c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,a=e.x,s=e.y,l=e.z,c=Math.cos(a),d=Math.sin(a),h=Math.cos(s),f=Math.sin(s),g=Math.cos(l),y=Math.sin(l);if(e.order==="XYZ"){const v=c*g,b=c*y,w=d*g,T=d*y;t[0]=h*g,t[4]=-h*y,t[8]=f,t[1]=b+w*f,t[5]=v-T*f,t[9]=-d*h,t[2]=T-v*f,t[6]=w+b*f,t[10]=c*h}else if(e.order==="YXZ"){const v=h*g,b=h*y,w=f*g,T=f*y;t[0]=v+T*d,t[4]=w*d-b,t[8]=c*f,t[1]=c*y,t[5]=c*g,t[9]=-d,t[2]=b*d-w,t[6]=T+v*d,t[10]=c*h}else if(e.order==="ZXY"){const v=h*g,b=h*y,w=f*g,T=f*y;t[0]=v-T*d,t[4]=-c*y,t[8]=w+b*d,t[1]=b+w*d,t[5]=c*g,t[9]=T-v*d,t[2]=-c*f,t[6]=d,t[10]=c*h}else if(e.order==="ZYX"){const v=c*g,b=c*y,w=d*g,T=d*y;t[0]=h*g,t[4]=w*f-b,t[8]=v*f+T,t[1]=h*y,t[5]=T*f+v,t[9]=b*f-w,t[2]=-f,t[6]=d*h,t[10]=c*h}else if(e.order==="YZX"){const v=c*h,b=c*f,w=d*h,T=d*f;t[0]=h*g,t[4]=T-v*y,t[8]=w*y+b,t[1]=y,t[5]=c*g,t[9]=-d*g,t[2]=-f*g,t[6]=b*y+w,t[10]=v-T*y}else if(e.order==="XZY"){const v=c*h,b=c*f,w=d*h,T=d*f;t[0]=h*g,t[4]=-y,t[8]=f*g,t[1]=v*y+T,t[5]=c*g,t[9]=b*y-w,t[2]=w*y-b,t[6]=d*g,t[10]=T*y+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(A_,e,R_)}lookAt(e,t,a){const s=this.elements;return Yn.subVectors(e,t),Yn.lengthSq()===0&&(Yn.z=1),Yn.normalize(),Oa.crossVectors(a,Yn),Oa.lengthSq()===0&&(Math.abs(a.z)===1?Yn.x+=1e-4:Yn.z+=1e-4,Yn.normalize(),Oa.crossVectors(a,Yn)),Oa.normalize(),Fc.crossVectors(Yn,Oa),s[0]=Oa.x,s[4]=Fc.x,s[8]=Yn.x,s[1]=Oa.y,s[5]=Fc.y,s[9]=Yn.y,s[2]=Oa.z,s[6]=Fc.z,s[10]=Yn.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const a=e.elements,s=t.elements,l=this.elements,c=a[0],d=a[4],h=a[8],f=a[12],g=a[1],y=a[5],v=a[9],b=a[13],w=a[2],T=a[6],_=a[10],S=a[14],x=a[3],B=a[7],O=a[11],D=a[15],A=s[0],P=s[4],q=s[8],X=s[12],te=s[1],de=s[5],re=s[9],K=s[13],N=s[2],V=s[6],C=s[10],H=s[14],Z=s[3],se=s[7],he=s[11],L=s[15];return l[0]=c*A+d*te+h*N+f*Z,l[4]=c*P+d*de+h*V+f*se,l[8]=c*q+d*re+h*C+f*he,l[12]=c*X+d*K+h*H+f*L,l[1]=g*A+y*te+v*N+b*Z,l[5]=g*P+y*de+v*V+b*se,l[9]=g*q+y*re+v*C+b*he,l[13]=g*X+y*K+v*H+b*L,l[2]=w*A+T*te+_*N+S*Z,l[6]=w*P+T*de+_*V+S*se,l[10]=w*q+T*re+_*C+S*he,l[14]=w*X+T*K+_*H+S*L,l[3]=x*A+B*te+O*N+D*Z,l[7]=x*P+B*de+O*V+D*se,l[11]=x*q+B*re+O*C+D*he,l[15]=x*X+B*K+O*H+D*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],a=e[4],s=e[8],l=e[12],c=e[1],d=e[5],h=e[9],f=e[13],g=e[2],y=e[6],v=e[10],b=e[14],w=e[3],T=e[7],_=e[11],S=e[15];return w*(+l*h*y-s*f*y-l*d*v+a*f*v+s*d*b-a*h*b)+T*(+t*h*b-t*f*v+l*c*v-s*c*b+s*f*g-l*h*g)+_*(+t*f*y-t*d*b-l*c*y+a*c*b+l*d*g-a*f*g)+S*(-s*d*g-t*h*y+t*d*v+s*c*y-a*c*v+a*h*g)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,a){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=a),this}invert(){const e=this.elements,t=e[0],a=e[1],s=e[2],l=e[3],c=e[4],d=e[5],h=e[6],f=e[7],g=e[8],y=e[9],v=e[10],b=e[11],w=e[12],T=e[13],_=e[14],S=e[15],x=y*_*f-T*v*f+T*h*b-d*_*b-y*h*S+d*v*S,B=w*v*f-g*_*f-w*h*b+c*_*b+g*h*S-c*v*S,O=g*T*f-w*y*f+w*d*b-c*T*b-g*d*S+c*y*S,D=w*y*h-g*T*h-w*d*v+c*T*v+g*d*_-c*y*_,A=t*x+a*B+s*O+l*D;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/A;return e[0]=x*P,e[1]=(T*v*l-y*_*l-T*s*b+a*_*b+y*s*S-a*v*S)*P,e[2]=(d*_*l-T*h*l+T*s*f-a*_*f-d*s*S+a*h*S)*P,e[3]=(y*h*l-d*v*l-y*s*f+a*v*f+d*s*b-a*h*b)*P,e[4]=B*P,e[5]=(g*_*l-w*v*l+w*s*b-t*_*b-g*s*S+t*v*S)*P,e[6]=(w*h*l-c*_*l-w*s*f+t*_*f+c*s*S-t*h*S)*P,e[7]=(c*v*l-g*h*l+g*s*f-t*v*f-c*s*b+t*h*b)*P,e[8]=O*P,e[9]=(w*y*l-g*T*l-w*a*b+t*T*b+g*a*S-t*y*S)*P,e[10]=(c*T*l-w*d*l+w*a*f-t*T*f-c*a*S+t*d*S)*P,e[11]=(g*d*l-c*y*l-g*a*f+t*y*f+c*a*b-t*d*b)*P,e[12]=D*P,e[13]=(g*T*s-w*y*s+w*a*v-t*T*v-g*a*_+t*y*_)*P,e[14]=(w*d*s-c*T*s-w*a*h+t*T*h+c*a*_-t*d*_)*P,e[15]=(c*y*s-g*d*s+g*a*h-t*y*h-c*a*v+t*d*v)*P,this}scale(e){const t=this.elements,a=e.x,s=e.y,l=e.z;return t[0]*=a,t[4]*=s,t[8]*=l,t[1]*=a,t[5]*=s,t[9]*=l,t[2]*=a,t[6]*=s,t[10]*=l,t[3]*=a,t[7]*=s,t[11]*=l,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],a=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,a,s))}makeTranslation(e,t,a){return this.set(1,0,0,e,0,1,0,t,0,0,1,a,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),a=Math.sin(e);return this.set(1,0,0,0,0,t,-a,0,0,a,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),a=Math.sin(e);return this.set(t,0,a,0,0,1,0,0,-a,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),a=Math.sin(e);return this.set(t,-a,0,0,a,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const a=Math.cos(t),s=Math.sin(t),l=1-a,c=e.x,d=e.y,h=e.z,f=l*c,g=l*d;return this.set(f*c+a,f*d-s*h,f*h+s*d,0,f*d+s*h,g*d+a,g*h-s*c,0,f*h-s*d,g*h+s*c,l*h*h+a,0,0,0,0,1),this}makeScale(e,t,a){return this.set(e,0,0,0,0,t,0,0,0,0,a,0,0,0,0,1),this}makeShear(e,t,a){return this.set(1,t,a,0,e,1,a,0,e,t,1,0,0,0,0,1),this}compose(e,t,a){const s=this.elements,l=t._x,c=t._y,d=t._z,h=t._w,f=l+l,g=c+c,y=d+d,v=l*f,b=l*g,w=l*y,T=c*g,_=c*y,S=d*y,x=h*f,B=h*g,O=h*y,D=a.x,A=a.y,P=a.z;return s[0]=(1-(T+S))*D,s[1]=(b+O)*D,s[2]=(w-B)*D,s[3]=0,s[4]=(b-O)*A,s[5]=(1-(v+S))*A,s[6]=(_+x)*A,s[7]=0,s[8]=(w+B)*P,s[9]=(_-x)*P,s[10]=(1-(v+T))*P,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,a){const s=this.elements;let l=hs.set(s[0],s[1],s[2]).length();const c=hs.set(s[4],s[5],s[6]).length(),d=hs.set(s[8],s[9],s[10]).length();this.determinant()<0&&(l=-l),e.x=s[12],e.y=s[13],e.z=s[14],gi.copy(this);const f=1/l,g=1/c,y=1/d;return gi.elements[0]*=f,gi.elements[1]*=f,gi.elements[2]*=f,gi.elements[4]*=g,gi.elements[5]*=g,gi.elements[6]*=g,gi.elements[8]*=y,gi.elements[9]*=y,gi.elements[10]*=y,t.setFromRotationMatrix(gi),a.x=l,a.y=c,a.z=d,this}makePerspective(e,t,a,s,l,c){c===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const d=this.elements,h=2*l/(t-e),f=2*l/(a-s),g=(t+e)/(t-e),y=(a+s)/(a-s),v=-(c+l)/(c-l),b=-2*c*l/(c-l);return d[0]=h,d[4]=0,d[8]=g,d[12]=0,d[1]=0,d[5]=f,d[9]=y,d[13]=0,d[2]=0,d[6]=0,d[10]=v,d[14]=b,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,t,a,s,l,c){const d=this.elements,h=1/(t-e),f=1/(a-s),g=1/(c-l),y=(t+e)*h,v=(a+s)*f,b=(c+l)*g;return d[0]=2*h,d[4]=0,d[8]=0,d[12]=-y,d[1]=0,d[5]=2*f,d[9]=0,d[13]=-v,d[2]=0,d[6]=0,d[10]=-2*g,d[14]=-b,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const t=this.elements,a=e.elements;for(let s=0;s<16;s++)if(t[s]!==a[s])return!1;return!0}fromArray(e,t=0){for(let a=0;a<16;a++)this.elements[a]=e[a+t];return this}toArray(e=[],t=0){const a=this.elements;return e[t]=a[0],e[t+1]=a[1],e[t+2]=a[2],e[t+3]=a[3],e[t+4]=a[4],e[t+5]=a[5],e[t+6]=a[6],e[t+7]=a[7],e[t+8]=a[8],e[t+9]=a[9],e[t+10]=a[10],e[t+11]=a[11],e[t+12]=a[12],e[t+13]=a[13],e[t+14]=a[14],e[t+15]=a[15],e}}Je.prototype.isMatrix4=!0;const hs=new I,gi=new Je,A_=new I(0,0,0),R_=new I(1,1,1),Oa=new I,Fc=new I,Yn=new I,F0=new Je,G0=new Ln;class js{constructor(e=0,t=0,a=0,s=js.DefaultOrder){this._x=e,this._y=t,this._z=a,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,a,s){return this._x=e,this._y=t,this._z=a,this._order=s||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t,a){const s=e.elements,l=s[0],c=s[4],d=s[8],h=s[1],f=s[5],g=s[9],y=s[2],v=s[6],b=s[10];switch(t=t||this._order,t){case"XYZ":this._y=Math.asin($n(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-g,b),this._z=Math.atan2(-c,l)):(this._x=Math.atan2(v,f),this._z=0);break;case"YXZ":this._x=Math.asin(-$n(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(d,b),this._z=Math.atan2(h,f)):(this._y=Math.atan2(-y,l),this._z=0);break;case"ZXY":this._x=Math.asin($n(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-y,b),this._z=Math.atan2(-c,f)):(this._y=0,this._z=Math.atan2(h,l));break;case"ZYX":this._y=Math.asin(-$n(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(v,b),this._z=Math.atan2(h,l)):(this._x=0,this._z=Math.atan2(-c,f));break;case"YZX":this._z=Math.asin($n(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-g,f),this._y=Math.atan2(-y,l)):(this._x=0,this._y=Math.atan2(d,b));break;case"XZY":this._z=Math.asin(-$n(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(v,f),this._y=Math.atan2(d,l)):(this._x=Math.atan2(-g,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,a!==!1&&this._onChangeCallback(),this}setFromQuaternion(e,t,a){return F0.makeRotationFromQuaternion(e),this.setFromRotationMatrix(F0,t,a)}setFromVector3(e,t){return this.set(e.x,e.y,e.z,t||this._order)}reorder(e){return G0.setFromEuler(this),this.setFromQuaternion(G0,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new I(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}js.prototype.isEuler=!0;js.DefaultOrder="XYZ";js.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Cx{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}}let L_=0;const H0=new I,fs=new Ln,ea=new Je,Gc=new I,Vo=new I,k_=new I,N_=new Ln,V0=new I(1,0,0),W0=new I(0,1,0),j0=new I(0,0,1),U_={type:"added"},q0={type:"removed"};class Mt extends _r{constructor(){super(),Object.defineProperty(this,"id",{value:L_++}),this.uuid=Ri(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mt.DefaultUp.clone();const e=new I,t=new js,a=new Ln,s=new I(1,1,1);function l(){a.setFromEuler(t,!1)}function c(){t.setFromQuaternion(a,void 0,!1)}t._onChange(l),a._onChange(c),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Je},normalMatrix:{value:new xn}}),this.matrix=new Je,this.matrixWorld=new Je,this.matrixAutoUpdate=Mt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Cx,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return fs.setFromAxisAngle(e,t),this.quaternion.multiply(fs),this}rotateOnWorldAxis(e,t){return fs.setFromAxisAngle(e,t),this.quaternion.premultiply(fs),this}rotateX(e){return this.rotateOnAxis(V0,e)}rotateY(e){return this.rotateOnAxis(W0,e)}rotateZ(e){return this.rotateOnAxis(j0,e)}translateOnAxis(e,t){return H0.copy(e).applyQuaternion(this.quaternion),this.position.add(H0.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(V0,e)}translateY(e){return this.translateOnAxis(W0,e)}translateZ(e){return this.translateOnAxis(j0,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ea.copy(this.matrixWorld).invert())}lookAt(e,t,a){e.isVector3?Gc.copy(e):Gc.set(e,t,a);const s=this.parent;this.updateWorldMatrix(!0,!1),Vo.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ea.lookAt(Vo,Gc,this.up):ea.lookAt(Gc,Vo,this.up),this.quaternion.setFromRotationMatrix(ea),s&&(ea.extractRotation(s.matrixWorld),fs.setFromRotationMatrix(ea),this.quaternion.premultiply(fs.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(U_)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.remove(arguments[a]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(q0)),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(q0)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ea.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ea.multiply(e.parent.matrixWorld)),e.applyMatrix4(ea),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let a=0,s=this.children.length;a<s;a++){const c=this.children[a].getObjectByProperty(e,t);if(c!==void 0)return c}}getWorldPosition(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new I),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Ln),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vo,e,k_),e}getWorldScale(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new I),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vo,N_,e),e}getWorldDirection(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new I),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let a=0,s=t.length;a<s;a++)t[a].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let a=0,s=t.length;a<s;a++)t[a].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let a=0,s=t.length;a<s;a++)t[a].updateMatrixWorld(e)}updateWorldMatrix(e,t){const a=this.parent;if(e===!0&&a!==null&&a.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const s=this.children;for(let l=0,c=s.length;l<c;l++)s[l].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",a={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},a.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON()));function l(d,h){return d[h.uuid]===void 0&&(d[h.uuid]=h.toJSON(e)),h.uuid}if(this.isMesh||this.isLine||this.isPoints){s.geometry=l(e.geometries,this.geometry);const d=this.geometry.parameters;if(d!==void 0&&d.shapes!==void 0){const h=d.shapes;if(Array.isArray(h))for(let f=0,g=h.length;f<g;f++){const y=h[f];l(e.shapes,y)}else l(e.shapes,h)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(l(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const d=[];for(let h=0,f=this.material.length;h<f;h++)d.push(l(e.materials,this.material[h]));s.material=d}else s.material=l(e.materials,this.material);if(this.children.length>0){s.children=[];for(let d=0;d<this.children.length;d++)s.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let d=0;d<this.animations.length;d++){const h=this.animations[d];s.animations.push(l(e.animations,h))}}if(t){const d=c(e.geometries),h=c(e.materials),f=c(e.textures),g=c(e.images),y=c(e.shapes),v=c(e.skeletons),b=c(e.animations);d.length>0&&(a.geometries=d),h.length>0&&(a.materials=h),f.length>0&&(a.textures=f),g.length>0&&(a.images=g),y.length>0&&(a.shapes=y),v.length>0&&(a.skeletons=v),b.length>0&&(a.animations=b)}return a.object=s,a;function c(d){const h=[];for(const f in d){const g=d[f];delete g.metadata,h.push(g)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let a=0;a<e.children.length;a++){const s=e.children[a];this.add(s.clone())}return this}}Mt.DefaultUp=new I(0,1,0);Mt.DefaultMatrixAutoUpdate=!0;Mt.prototype.isObject3D=!0;const Sf=new I,B_=new I,D_=new xn;class Ci{constructor(e=new I(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,a,s){return this.normal.set(e,t,a),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,a){const s=Sf.subVectors(a,t).cross(B_.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new I),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){t===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new I);const a=e.delta(Sf),s=this.normal.dot(a);if(s===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const l=-(e.start.dot(this.normal)+this.constant)/s;return l<0||l>1?null:t.copy(a).multiplyScalar(l).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),a=this.distanceToPoint(e.end);return t<0&&a>0||a<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new I),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const a=t||D_.getNormalMatrix(e),s=this.coplanarPoint(Sf).applyMatrix4(e),l=this.normal.applyMatrix3(a).normalize();return this.constant=-s.dot(l),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}Ci.prototype.isPlane=!0;const yi=new I,ta=new I,Mf=new I,na=new I,ps=new I,ms=new I,K0=new I,Tf=new I,_f=new I,Ef=new I;class sn{constructor(e=new I,t=new I,a=new I){this.a=e,this.b=t,this.c=a}static getNormal(e,t,a,s){s===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),s=new I),s.subVectors(a,t),yi.subVectors(e,t),s.cross(yi);const l=s.lengthSq();return l>0?s.multiplyScalar(1/Math.sqrt(l)):s.set(0,0,0)}static getBarycoord(e,t,a,s,l){yi.subVectors(s,t),ta.subVectors(a,t),Mf.subVectors(e,t);const c=yi.dot(yi),d=yi.dot(ta),h=yi.dot(Mf),f=ta.dot(ta),g=ta.dot(Mf),y=c*f-d*d;if(l===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),l=new I),y===0)return l.set(-2,-1,-1);const v=1/y,b=(f*h-d*g)*v,w=(c*g-d*h)*v;return l.set(1-b-w,w,b)}static containsPoint(e,t,a,s){return this.getBarycoord(e,t,a,s,na),na.x>=0&&na.y>=0&&na.x+na.y<=1}static getUV(e,t,a,s,l,c,d,h){return this.getBarycoord(e,t,a,s,na),h.set(0,0),h.addScaledVector(l,na.x),h.addScaledVector(c,na.y),h.addScaledVector(d,na.z),h}static isFrontFacing(e,t,a,s){return yi.subVectors(a,t),ta.subVectors(e,t),yi.cross(ta).dot(s)<0}set(e,t,a){return this.a.copy(e),this.b.copy(t),this.c.copy(a),this}setFromPointsAndIndices(e,t,a,s){return this.a.copy(e[t]),this.b.copy(e[a]),this.c.copy(e[s]),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return yi.subVectors(this.c,this.b),ta.subVectors(this.a,this.b),yi.cross(ta).length()*.5}getMidpoint(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new I),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return sn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Ci),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return sn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,a,s,l){return sn.getUV(e,this.a,this.b,this.c,t,a,s,l)}containsPoint(e){return sn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return sn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){t===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new I);const a=this.a,s=this.b,l=this.c;let c,d;ps.subVectors(s,a),ms.subVectors(l,a),Tf.subVectors(e,a);const h=ps.dot(Tf),f=ms.dot(Tf);if(h<=0&&f<=0)return t.copy(a);_f.subVectors(e,s);const g=ps.dot(_f),y=ms.dot(_f);if(g>=0&&y<=g)return t.copy(s);const v=h*y-g*f;if(v<=0&&h>=0&&g<=0)return c=h/(h-g),t.copy(a).addScaledVector(ps,c);Ef.subVectors(e,l);const b=ps.dot(Ef),w=ms.dot(Ef);if(w>=0&&b<=w)return t.copy(l);const T=b*f-h*w;if(T<=0&&f>=0&&w<=0)return d=f/(f-w),t.copy(a).addScaledVector(ms,d);const _=g*w-b*y;if(_<=0&&y-g>=0&&b-w>=0)return K0.subVectors(l,s),d=(y-g)/(y-g+(b-w)),t.copy(s).addScaledVector(K0,d);const S=1/(_+T+v);return c=T*S,d=v*S,t.copy(a).addScaledVector(ps,c).addScaledVector(ms,d)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let P_=0;function hn(){Object.defineProperty(this,"id",{value:P_++}),this.uuid=Ri(),this.name="",this.type="Material",this.fog=!0,this.blending=il,this.side=Pu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Sx,this.blendDst=Mx,this.blendEquation=Es,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=lp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=w_,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=uf,this.stencilZFail=uf,this.stencilZPass=uf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}hn.prototype=Object.assign(Object.create(_r.prototype),{constructor:hn,isMaterial:!0,onBuild:function(){},onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(r){if(r!==void 0)for(const e in r){const t=r[e];if(t===void 0){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if(e==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===wx;continue}const a=this[e];if(a===void 0){console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.");continue}a&&a.isColor?a.set(t):a&&a.isVector3&&t&&t.isVector3?a.copy(t):this[e]=t}},toJSON:function(r){const e=r===void 0||typeof r=="string";e&&(r={textures:{},images:{}});const t={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),this.color&&this.color.isColor&&(t.color=this.color.getHex()),this.roughness!==void 0&&(t.roughness=this.roughness),this.metalness!==void 0&&(t.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(t.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(t.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(t.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(t.specular=this.specular.getHex()),this.shininess!==void 0&&(t.shininess=this.shininess),this.clearcoat!==void 0&&(t.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(t.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(t.clearcoatMap=this.clearcoatMap.toJSON(r).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(t.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(r).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(t.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(r).uuid,t.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(t.map=this.map.toJSON(r).uuid),this.matcap&&this.matcap.isTexture&&(t.matcap=this.matcap.toJSON(r).uuid),this.alphaMap&&this.alphaMap.isTexture&&(t.alphaMap=this.alphaMap.toJSON(r).uuid),this.lightMap&&this.lightMap.isTexture&&(t.lightMap=this.lightMap.toJSON(r).uuid,t.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(t.aoMap=this.aoMap.toJSON(r).uuid,t.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(t.bumpMap=this.bumpMap.toJSON(r).uuid,t.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(t.normalMap=this.normalMap.toJSON(r).uuid,t.normalMapType=this.normalMapType,t.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(t.displacementMap=this.displacementMap.toJSON(r).uuid,t.displacementScale=this.displacementScale,t.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(t.roughnessMap=this.roughnessMap.toJSON(r).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(t.metalnessMap=this.metalnessMap.toJSON(r).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(t.emissiveMap=this.emissiveMap.toJSON(r).uuid),this.specularMap&&this.specularMap.isTexture&&(t.specularMap=this.specularMap.toJSON(r).uuid),this.envMap&&this.envMap.isTexture&&(t.envMap=this.envMap.toJSON(r).uuid,this.combine!==void 0&&(t.combine=this.combine)),this.envMapIntensity!==void 0&&(t.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(t.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(t.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(t.gradientMap=this.gradientMap.toJSON(r).uuid),this.size!==void 0&&(t.size=this.size),this.shadowSide!==null&&(t.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(t.sizeAttenuation=this.sizeAttenuation),this.blending!==il&&(t.blending=this.blending),this.side!==Pu&&(t.side=this.side),this.vertexColors&&(t.vertexColors=!0),this.opacity<1&&(t.opacity=this.opacity),this.transparent===!0&&(t.transparent=this.transparent),t.depthFunc=this.depthFunc,t.depthTest=this.depthTest,t.depthWrite=this.depthWrite,t.colorWrite=this.colorWrite,t.stencilWrite=this.stencilWrite,t.stencilWriteMask=this.stencilWriteMask,t.stencilFunc=this.stencilFunc,t.stencilRef=this.stencilRef,t.stencilFuncMask=this.stencilFuncMask,t.stencilFail=this.stencilFail,t.stencilZFail=this.stencilZFail,t.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(t.rotation=this.rotation),this.polygonOffset===!0&&(t.polygonOffset=!0),this.polygonOffsetFactor!==0&&(t.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(t.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(t.linewidth=this.linewidth),this.dashSize!==void 0&&(t.dashSize=this.dashSize),this.gapSize!==void 0&&(t.gapSize=this.gapSize),this.scale!==void 0&&(t.scale=this.scale),this.dithering===!0&&(t.dithering=!0),this.alphaTest>0&&(t.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(t.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(t.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(t.wireframe=this.wireframe),this.wireframeLinewidth>1&&(t.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(t.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(t.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(t.morphTargets=!0),this.morphNormals===!0&&(t.morphNormals=!0),this.skinning===!0&&(t.skinning=!0),this.flatShading===!0&&(t.flatShading=this.flatShading),this.visible===!1&&(t.visible=!1),this.toneMapped===!1&&(t.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(t.userData=this.userData);function a(s){const l=[];for(const c in s){const d=s[c];delete d.metadata,l.push(d)}return l}if(e){const s=a(r.textures),l=a(r.images);s.length>0&&(t.textures=s),l.length>0&&(t.images=l)}return t},clone:function(){return new this.constructor().copy(this)},copy:function(r){this.name=r.name,this.fog=r.fog,this.blending=r.blending,this.side=r.side,this.vertexColors=r.vertexColors,this.opacity=r.opacity,this.transparent=r.transparent,this.blendSrc=r.blendSrc,this.blendDst=r.blendDst,this.blendEquation=r.blendEquation,this.blendSrcAlpha=r.blendSrcAlpha,this.blendDstAlpha=r.blendDstAlpha,this.blendEquationAlpha=r.blendEquationAlpha,this.depthFunc=r.depthFunc,this.depthTest=r.depthTest,this.depthWrite=r.depthWrite,this.stencilWriteMask=r.stencilWriteMask,this.stencilFunc=r.stencilFunc,this.stencilRef=r.stencilRef,this.stencilFuncMask=r.stencilFuncMask,this.stencilFail=r.stencilFail,this.stencilZFail=r.stencilZFail,this.stencilZPass=r.stencilZPass,this.stencilWrite=r.stencilWrite;const e=r.clippingPlanes;let t=null;if(e!==null){const a=e.length;t=new Array(a);for(let s=0;s!==a;++s)t[s]=e[s].clone()}return this.clippingPlanes=t,this.clipIntersection=r.clipIntersection,this.clipShadows=r.clipShadows,this.shadowSide=r.shadowSide,this.colorWrite=r.colorWrite,this.precision=r.precision,this.polygonOffset=r.polygonOffset,this.polygonOffsetFactor=r.polygonOffsetFactor,this.polygonOffsetUnits=r.polygonOffsetUnits,this.dithering=r.dithering,this.alphaTest=r.alphaTest,this.alphaToCoverage=r.alphaToCoverage,this.premultipliedAlpha=r.premultipliedAlpha,this.visible=r.visible,this.toneMapped=r.toneMapped,this.userData=JSON.parse(JSON.stringify(r.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(hn.prototype,"needsUpdate",{set:function(r){r===!0&&this.version++}});const Ax={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},vi={h:0,s:0,l:0},Hc={h:0,s:0,l:0};function Cf(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}function Af(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function Rf(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}class qe{constructor(e,t,a){return t===void 0&&a===void 0?this.set(e):this.setRGB(e,t,a)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,a){return this.r=e,this.g=t,this.b=a,this}setHSL(e,t,a){if(e=S_(e,1),t=$n(t,0,1),a=$n(a,0,1),t===0)this.r=this.g=this.b=a;else{const s=a<=.5?a*(1+t):a+t-a*t,l=2*a-s;this.r=Cf(l,s,e+1/3),this.g=Cf(l,s,e),this.b=Cf(l,s,e-1/3)}return this}setStyle(e){function t(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const l=a[1],c=a[2];switch(l){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,t(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,t(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c)){const d=parseFloat(s[1])/360,h=parseInt(s[2],10)/100,f=parseInt(s[3],10)/100;return t(s[4]),this.setHSL(d,h,f)}break}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=a[1],l=s.length;if(l===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,this;if(l===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=Ax[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const a=t>0?1/t:1;return this.r=Math.pow(e.r,a),this.g=Math.pow(e.g,a),this.b=Math.pow(e.b,a),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Af(e.r),this.g=Af(e.g),this.b=Af(e.b),this}copyLinearToSRGB(e){return this.r=Rf(e.r),this.g=Rf(e.g),this.b=Rf(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,a=this.g,s=this.b,l=Math.max(t,a,s),c=Math.min(t,a,s);let d,h;const f=(c+l)/2;if(c===l)d=0,h=0;else{const g=l-c;switch(h=f<=.5?g/(l+c):g/(2-l-c),l){case t:d=(a-s)/g+(a<s?6:0);break;case a:d=(s-t)/g+2;break;case s:d=(t-a)/g+4;break}d/=6}return e.h=d,e.s=h,e.l=f,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,a){return this.getHSL(vi),vi.h+=e,vi.s+=t,vi.l+=a,this.setHSL(vi.h,vi.s,vi.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,a){return this.r=e.r+(t.r-e.r)*a,this.g=e.g+(t.g-e.g)*a,this.b=e.b+(t.b-e.b)*a,this}lerpHSL(e,t){this.getHSL(vi),e.getHSL(Hc);const a=hf(vi.h,Hc.h,t),s=hf(vi.s,Hc.s,t),l=hf(vi.l,Hc.l,t);return this.setHSL(a,s,l),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}qe.NAMES=Ax;qe.prototype.isColor=!0;qe.prototype.r=1;qe.prototype.g=1;qe.prototype.b=1;class ra extends hn{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ou,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this}}ra.prototype.isMeshBasicMaterial=!0;const Dt=new I,Vc=new Le;class dn{constructor(e,t,a){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=a===!0,this.usage=dl,this.updateRange={offset:0,count:-1},this.version=0,this.onUploadCallback=function(){}}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,a){e*=this.itemSize,a*=t.itemSize;for(let s=0,l=this.itemSize;s<l;s++)this.array[e+s]=t.array[a+s];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let a=0;for(let s=0,l=e.length;s<l;s++){let c=e[s];c===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",s),c=new qe),t[a++]=c.r,t[a++]=c.g,t[a++]=c.b}return this}copyVector2sArray(e){const t=this.array;let a=0;for(let s=0,l=e.length;s<l;s++){let c=e[s];c===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",s),c=new Le),t[a++]=c.x,t[a++]=c.y}return this}copyVector3sArray(e){const t=this.array;let a=0;for(let s=0,l=e.length;s<l;s++){let c=e[s];c===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",s),c=new I),t[a++]=c.x,t[a++]=c.y,t[a++]=c.z}return this}copyVector4sArray(e){const t=this.array;let a=0;for(let s=0,l=e.length;s<l;s++){let c=e[s];c===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",s),c=new Lt),t[a++]=c.x,t[a++]=c.y,t[a++]=c.z,t[a++]=c.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,a=this.count;t<a;t++)Vc.fromBufferAttribute(this,t),Vc.applyMatrix3(e),this.setXY(t,Vc.x,Vc.y);else if(this.itemSize===3)for(let t=0,a=this.count;t<a;t++)Dt.fromBufferAttribute(this,t),Dt.applyMatrix3(e),this.setXYZ(t,Dt.x,Dt.y,Dt.z);return this}applyMatrix4(e){for(let t=0,a=this.count;t<a;t++)Dt.x=this.getX(t),Dt.y=this.getY(t),Dt.z=this.getZ(t),Dt.applyMatrix4(e),this.setXYZ(t,Dt.x,Dt.y,Dt.z);return this}applyNormalMatrix(e){for(let t=0,a=this.count;t<a;t++)Dt.x=this.getX(t),Dt.y=this.getY(t),Dt.z=this.getZ(t),Dt.applyNormalMatrix(e),this.setXYZ(t,Dt.x,Dt.y,Dt.z);return this}transformDirection(e){for(let t=0,a=this.count;t<a;t++)Dt.x=this.getX(t),Dt.y=this.getY(t),Dt.z=this.getZ(t),Dt.transformDirection(e),this.setXYZ(t,Dt.x,Dt.y,Dt.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=a,this}setXYZ(e,t,a,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=a,this.array[e+2]=s,this}setXYZW(e,t,a,s,l){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=a,this.array[e+2]=s,this.array[e+3]=l,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==dl&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}dn.prototype.isBufferAttribute=!0;class Rx extends dn{constructor(e,t,a){super(new Uint16Array(e),t,a)}}class Lx extends dn{constructor(e,t,a){super(new Uint32Array(e),t,a)}}class O_ extends dn{constructor(e,t,a){super(new Uint16Array(e),t,a)}}O_.prototype.isFloat16BufferAttribute=!0;class Ht extends dn{constructor(e,t,a){super(new Float32Array(e),t,a)}}function kx(r){if(r.length===0)return-1/0;let e=r[0];for(let t=1,a=r.length;t<a;++t)r[t]>e&&(e=r[t]);return e}let z_=0;const Ei=new Je,Lf=new Mt,gs=new I,Jn=new hi,Wo=new hi,cn=new I;class bt extends _r{constructor(){super(),Object.defineProperty(this,"id",{value:z_++}),this.uuid=Ri(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(kx(e)>65535?Lx:Rx)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,a=0){this.groups.push({start:e,count:t,materialIndex:a})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const a=this.attributes.normal;if(a!==void 0){const l=new xn().getNormalMatrix(e);a.applyNormalMatrix(l),a.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}rotateX(e){return Ei.makeRotationX(e),this.applyMatrix4(Ei),this}rotateY(e){return Ei.makeRotationY(e),this.applyMatrix4(Ei),this}rotateZ(e){return Ei.makeRotationZ(e),this.applyMatrix4(Ei),this}translate(e,t,a){return Ei.makeTranslation(e,t,a),this.applyMatrix4(Ei),this}scale(e,t,a){return Ei.makeScale(e,t,a),this.applyMatrix4(Ei),this}lookAt(e){return Lf.lookAt(e),Lf.updateMatrix(),this.applyMatrix4(Lf.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(gs).negate(),this.translate(gs.x,gs.y,gs.z),this}setFromPoints(e){const t=[];for(let a=0,s=e.length;a<s;a++){const l=e[a];t.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new Ht(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new hi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new I(-1/0,-1/0,-1/0),new I(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const l=t[a];Jn.setFromBufferAttribute(l),this.morphTargetsRelative?(cn.addVectors(this.boundingBox.min,Jn.min),this.boundingBox.expandByPoint(cn),cn.addVectors(this.boundingBox.max,Jn.max),this.boundingBox.expandByPoint(cn)):(this.boundingBox.expandByPoint(Jn.min),this.boundingBox.expandByPoint(Jn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ws);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new I,1/0);return}if(e){const a=this.boundingSphere.center;if(Jn.setFromBufferAttribute(e),t)for(let l=0,c=t.length;l<c;l++){const d=t[l];Wo.setFromBufferAttribute(d),this.morphTargetsRelative?(cn.addVectors(Jn.min,Wo.min),Jn.expandByPoint(cn),cn.addVectors(Jn.max,Wo.max),Jn.expandByPoint(cn)):(Jn.expandByPoint(Wo.min),Jn.expandByPoint(Wo.max))}Jn.getCenter(a);let s=0;for(let l=0,c=e.count;l<c;l++)cn.fromBufferAttribute(e,l),s=Math.max(s,a.distanceToSquared(cn));if(t)for(let l=0,c=t.length;l<c;l++){const d=t[l],h=this.morphTargetsRelative;for(let f=0,g=d.count;f<g;f++)cn.fromBufferAttribute(d,f),h&&(gs.fromBufferAttribute(e,f),cn.add(gs)),s=Math.max(s,a.distanceToSquared(cn))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeFaceNormals(){}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const a=e.array,s=t.position.array,l=t.normal.array,c=t.uv.array,d=s.length/3;t.tangent===void 0&&this.setAttribute("tangent",new dn(new Float32Array(4*d),4));const h=t.tangent.array,f=[],g=[];for(let te=0;te<d;te++)f[te]=new I,g[te]=new I;const y=new I,v=new I,b=new I,w=new Le,T=new Le,_=new Le,S=new I,x=new I;function B(te,de,re){y.fromArray(s,te*3),v.fromArray(s,de*3),b.fromArray(s,re*3),w.fromArray(c,te*2),T.fromArray(c,de*2),_.fromArray(c,re*2),v.sub(y),b.sub(y),T.sub(w),_.sub(w);const K=1/(T.x*_.y-_.x*T.y);isFinite(K)&&(S.copy(v).multiplyScalar(_.y).addScaledVector(b,-T.y).multiplyScalar(K),x.copy(b).multiplyScalar(T.x).addScaledVector(v,-_.x).multiplyScalar(K),f[te].add(S),f[de].add(S),f[re].add(S),g[te].add(x),g[de].add(x),g[re].add(x))}let O=this.groups;O.length===0&&(O=[{start:0,count:a.length}]);for(let te=0,de=O.length;te<de;++te){const re=O[te],K=re.start,N=re.count;for(let V=K,C=K+N;V<C;V+=3)B(a[V+0],a[V+1],a[V+2])}const D=new I,A=new I,P=new I,q=new I;function X(te){P.fromArray(l,te*3),q.copy(P);const de=f[te];D.copy(de),D.sub(P.multiplyScalar(P.dot(de))).normalize(),A.crossVectors(q,de);const K=A.dot(g[te])<0?-1:1;h[te*4]=D.x,h[te*4+1]=D.y,h[te*4+2]=D.z,h[te*4+3]=K}for(let te=0,de=O.length;te<de;++te){const re=O[te],K=re.start,N=re.count;for(let V=K,C=K+N;V<C;V+=3)X(a[V+0]),X(a[V+1]),X(a[V+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let a=this.getAttribute("normal");if(a===void 0)a=new dn(new Float32Array(t.count*3),3),this.setAttribute("normal",a);else for(let v=0,b=a.count;v<b;v++)a.setXYZ(v,0,0,0);const s=new I,l=new I,c=new I,d=new I,h=new I,f=new I,g=new I,y=new I;if(e)for(let v=0,b=e.count;v<b;v+=3){const w=e.getX(v+0),T=e.getX(v+1),_=e.getX(v+2);s.fromBufferAttribute(t,w),l.fromBufferAttribute(t,T),c.fromBufferAttribute(t,_),g.subVectors(c,l),y.subVectors(s,l),g.cross(y),d.fromBufferAttribute(a,w),h.fromBufferAttribute(a,T),f.fromBufferAttribute(a,_),d.add(g),h.add(g),f.add(g),a.setXYZ(w,d.x,d.y,d.z),a.setXYZ(T,h.x,h.y,h.z),a.setXYZ(_,f.x,f.y,f.z)}else for(let v=0,b=t.count;v<b;v+=3)s.fromBufferAttribute(t,v+0),l.fromBufferAttribute(t,v+1),c.fromBufferAttribute(t,v+2),g.subVectors(c,l),y.subVectors(s,l),g.cross(y),a.setXYZ(v+0,g.x,g.y,g.z),a.setXYZ(v+1,g.x,g.y,g.z),a.setXYZ(v+2,g.x,g.y,g.z);this.normalizeNormals(),a.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const a=this.attributes;for(const s in a){if(e.attributes[s]===void 0)continue;const c=a[s].array,d=e.attributes[s],h=d.array,f=d.itemSize*t,g=Math.min(h.length,c.length-f);for(let y=0,v=f;y<g;y++,v++)c[v]=h[y]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,a=e.count;t<a;t++)cn.fromBufferAttribute(e,t),cn.normalize(),e.setXYZ(t,cn.x,cn.y,cn.z)}toNonIndexed(){function e(d,h){const f=d.array,g=d.itemSize,y=d.normalized,v=new f.constructor(h.length*g);let b=0,w=0;for(let T=0,_=h.length;T<_;T++){b=h[T]*g;for(let S=0;S<g;S++)v[w++]=f[b++]}return new dn(v,g,y)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new bt,a=this.index.array,s=this.attributes;for(const d in s){const h=s[d],f=e(h,a);t.setAttribute(d,f)}const l=this.morphAttributes;for(const d in l){const h=[],f=l[d];for(let g=0,y=f.length;g<y;g++){const v=f[g],b=e(v,a);h.push(b)}t.morphAttributes[d]=h}t.morphTargetsRelative=this.morphTargetsRelative;const c=this.groups;for(let d=0,h=c.length;d<h;d++){const f=c[d];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const f in h)h[f]!==void 0&&(e[f]=h[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const a=this.attributes;for(const h in a){const f=a[h];e.data.attributes[h]=f.toJSON(e.data)}const s={};let l=!1;for(const h in this.morphAttributes){const f=this.morphAttributes[h],g=[];for(let y=0,v=f.length;y<v;y++){const b=f[y];g.push(b.toJSON(e.data))}g.length>0&&(s[h]=g,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const c=this.groups;c.length>0&&(e.data.groups=JSON.parse(JSON.stringify(c)));const d=this.boundingSphere;return d!==null&&(e.data.boundingSphere={center:d.center.toArray(),radius:d.radius}),e}clone(){return new bt().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const a=e.index;a!==null&&this.setIndex(a.clone(t));const s=e.attributes;for(const f in s){const g=s[f];this.setAttribute(f,g.clone(t))}const l=e.morphAttributes;for(const f in l){const g=[],y=l[f];for(let v=0,b=y.length;v<b;v++)g.push(y[v].clone(t));this.morphAttributes[f]=g}this.morphTargetsRelative=e.morphTargetsRelative;const c=e.groups;for(let f=0,g=c.length;f<g;f++){const y=c[f];this.addGroup(y.start,y.count,y.materialIndex)}const d=e.boundingBox;d!==null&&(this.boundingBox=d.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}bt.prototype.isBufferGeometry=!0;const Y0=new Je,ys=new Er,kf=new Ws,za=new I,Ia=new I,Fa=new I,Nf=new I,Uf=new I,Bf=new I,Wc=new I,jc=new I,qc=new I,Kc=new Le,Yc=new Le,Jc=new Le,Df=new I,$c=new I;class un extends Mt{constructor(e=new bt,t=new ra){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,a=Object.keys(t);if(a.length>0){const s=t[a[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,c=s.length;l<c;l++){const d=s[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=l}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const a=this.geometry,s=this.material,l=this.matrixWorld;if(s===void 0||(a.boundingSphere===null&&a.computeBoundingSphere(),kf.copy(a.boundingSphere),kf.applyMatrix4(l),e.ray.intersectsSphere(kf)===!1)||(Y0.copy(l).invert(),ys.copy(e.ray).applyMatrix4(Y0),a.boundingBox!==null&&ys.intersectsBox(a.boundingBox)===!1))return;let c;if(a.isBufferGeometry){const d=a.index,h=a.attributes.position,f=a.morphAttributes.position,g=a.morphTargetsRelative,y=a.attributes.uv,v=a.attributes.uv2,b=a.groups,w=a.drawRange;if(d!==null)if(Array.isArray(s))for(let T=0,_=b.length;T<_;T++){const S=b[T],x=s[S.materialIndex],B=Math.max(S.start,w.start),O=Math.min(S.start+S.count,w.start+w.count);for(let D=B,A=O;D<A;D+=3){const P=d.getX(D),q=d.getX(D+1),X=d.getX(D+2);c=Xc(this,x,e,ys,h,f,g,y,v,P,q,X),c&&(c.faceIndex=Math.floor(D/3),c.face.materialIndex=S.materialIndex,t.push(c))}}else{const T=Math.max(0,w.start),_=Math.min(d.count,w.start+w.count);for(let S=T,x=_;S<x;S+=3){const B=d.getX(S),O=d.getX(S+1),D=d.getX(S+2);c=Xc(this,s,e,ys,h,f,g,y,v,B,O,D),c&&(c.faceIndex=Math.floor(S/3),t.push(c))}}else if(h!==void 0)if(Array.isArray(s))for(let T=0,_=b.length;T<_;T++){const S=b[T],x=s[S.materialIndex],B=Math.max(S.start,w.start),O=Math.min(S.start+S.count,w.start+w.count);for(let D=B,A=O;D<A;D+=3){const P=D,q=D+1,X=D+2;c=Xc(this,x,e,ys,h,f,g,y,v,P,q,X),c&&(c.faceIndex=Math.floor(D/3),c.face.materialIndex=S.materialIndex,t.push(c))}}else{const T=Math.max(0,w.start),_=Math.min(h.count,w.start+w.count);for(let S=T,x=_;S<x;S+=3){const B=S,O=S+1,D=S+2;c=Xc(this,s,e,ys,h,f,g,y,v,B,O,D),c&&(c.faceIndex=Math.floor(S/3),t.push(c))}}}else a.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}un.prototype.isMesh=!0;function I_(r,e,t,a,s,l,c,d){let h;if(e.side===rn?h=a.intersectTriangle(c,l,s,!0,d):h=a.intersectTriangle(s,l,c,e.side!==Sr,d),h===null)return null;$c.copy(d),$c.applyMatrix4(r.matrixWorld);const f=t.ray.origin.distanceTo($c);return f<t.near||f>t.far?null:{distance:f,point:$c.clone(),object:r}}function Xc(r,e,t,a,s,l,c,d,h,f,g,y){za.fromBufferAttribute(s,f),Ia.fromBufferAttribute(s,g),Fa.fromBufferAttribute(s,y);const v=r.morphTargetInfluences;if(e.morphTargets&&l&&v){Wc.set(0,0,0),jc.set(0,0,0),qc.set(0,0,0);for(let w=0,T=l.length;w<T;w++){const _=v[w],S=l[w];_!==0&&(Nf.fromBufferAttribute(S,f),Uf.fromBufferAttribute(S,g),Bf.fromBufferAttribute(S,y),c?(Wc.addScaledVector(Nf,_),jc.addScaledVector(Uf,_),qc.addScaledVector(Bf,_)):(Wc.addScaledVector(Nf.sub(za),_),jc.addScaledVector(Uf.sub(Ia),_),qc.addScaledVector(Bf.sub(Fa),_)))}za.add(Wc),Ia.add(jc),Fa.add(qc)}r.isSkinnedMesh&&e.skinning&&(r.boneTransform(f,za),r.boneTransform(g,Ia),r.boneTransform(y,Fa));const b=I_(r,e,t,a,za,Ia,Fa,Df);if(b){d&&(Kc.fromBufferAttribute(d,f),Yc.fromBufferAttribute(d,g),Jc.fromBufferAttribute(d,y),b.uv=sn.getUV(Df,za,Ia,Fa,Kc,Yc,Jc,new Le)),h&&(Kc.fromBufferAttribute(h,f),Yc.fromBufferAttribute(h,g),Jc.fromBufferAttribute(h,y),b.uv2=sn.getUV(Df,za,Ia,Fa,Kc,Yc,Jc,new Le));const w={a:f,b:g,c:y,normal:new I,materialIndex:0};sn.getNormal(za,Ia,Fa,w.normal),b.face=w}return b}class Fp extends bt{constructor(e=1,t=1,a=1,s=1,l=1,c=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:a,widthSegments:s,heightSegments:l,depthSegments:c};const d=this;s=Math.floor(s),l=Math.floor(l),c=Math.floor(c);const h=[],f=[],g=[],y=[];let v=0,b=0;w("z","y","x",-1,-1,a,t,e,c,l,0),w("z","y","x",1,-1,a,t,-e,c,l,1),w("x","z","y",1,1,e,a,t,s,c,2),w("x","z","y",1,-1,e,a,-t,s,c,3),w("x","y","z",1,-1,e,t,a,s,l,4),w("x","y","z",-1,-1,e,t,-a,s,l,5),this.setIndex(h),this.setAttribute("position",new Ht(f,3)),this.setAttribute("normal",new Ht(g,3)),this.setAttribute("uv",new Ht(y,2));function w(T,_,S,x,B,O,D,A,P,q,X){const te=O/P,de=D/q,re=O/2,K=D/2,N=A/2,V=P+1,C=q+1;let H=0,Z=0;const se=new I;for(let he=0;he<C;he++){const L=he*de-K;for(let W=0;W<V;W++){const ne=W*te-re;se[T]=ne*x,se[_]=L*B,se[S]=N,f.push(se.x,se.y,se.z),se[T]=0,se[_]=0,se[S]=A>0?1:-1,g.push(se.x,se.y,se.z),y.push(W/P),y.push(1-he/q),H+=1}}for(let he=0;he<q;he++)for(let L=0;L<P;L++){const W=v+L+V*he,ne=v+L+V*(he+1),Y=v+(L+1)+V*(he+1),xe=v+(L+1)+V*he;h.push(W,ne,xe),h.push(ne,Y,xe),Z+=6}d.addGroup(b,Z,X),b+=Z,v+=H}}}function Os(r){const e={};for(const t in r){e[t]={};for(const a in r[t]){const s=r[t][a];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?e[t][a]=s.clone():Array.isArray(s)?e[t][a]=s.slice():e[t][a]=s}}return e}function Mn(r){const e={};for(let t=0;t<r.length;t++){const a=Os(r[t]);for(const s in a)e[s]=a[s]}return e}const F_={clone:Os,merge:Mn};var G_=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,H_=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Mr extends hn{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=G_,this.fragmentShader=H_,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Os(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const c=this.uniforms[s].value;c&&c.isTexture?t.uniforms[s]={type:"t",value:c.toJSON(e).uuid}:c&&c.isColor?t.uniforms[s]={type:"c",value:c.getHex()}:c&&c.isVector2?t.uniforms[s]={type:"v2",value:c.toArray()}:c&&c.isVector3?t.uniforms[s]={type:"v3",value:c.toArray()}:c&&c.isVector4?t.uniforms[s]={type:"v4",value:c.toArray()}:c&&c.isMatrix3?t.uniforms[s]={type:"m3",value:c.toArray()}:c&&c.isMatrix4?t.uniforms[s]={type:"m4",value:c.toArray()}:t.uniforms[s]={value:c}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const a={};for(const s in this.extensions)this.extensions[s]===!0&&(a[s]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}Mr.prototype.isShaderMaterial=!0;class Gp extends Mt{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Je,this.projectionMatrix=new Je,this.projectionMatrixInverse=new Je}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new I),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Gp.prototype.isCamera=!0;class In extends Gp{constructor(e=50,t=1,a=.1,s=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=a,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=dp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(df*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return dp*2*Math.atan(Math.tan(df*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,a,s,l,c){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=a,this.view.offsetY=s,this.view.width=l,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(df*.5*this.fov)/this.zoom,a=2*t,s=this.aspect*a,l=-.5*s;const c=this.view;if(this.view!==null&&this.view.enabled){const h=c.fullWidth,f=c.fullHeight;l+=c.offsetX*s/h,t-=c.offsetY*a/f,s*=c.width/h,a*=c.height/f}const d=this.filmOffset;d!==0&&(l+=e*d/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+s,t,t-a,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}In.prototype.isPerspectiveCamera=!0;const vs=90,bs=1;class Hp extends Mt{constructor(e,t,a){if(super(),this.type="CubeCamera",a.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=a;const s=new In(vs,bs,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new I(1,0,0)),this.add(s);const l=new In(vs,bs,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new I(-1,0,0)),this.add(l);const c=new In(vs,bs,e,t);c.layers=this.layers,c.up.set(0,0,1),c.lookAt(new I(0,1,0)),this.add(c);const d=new In(vs,bs,e,t);d.layers=this.layers,d.up.set(0,0,-1),d.lookAt(new I(0,-1,0)),this.add(d);const h=new In(vs,bs,e,t);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new I(0,0,1)),this.add(h);const f=new In(vs,bs,e,t);f.layers=this.layers,f.up.set(0,-1,0),f.lookAt(new I(0,0,-1)),this.add(f)}update(e,t){this.parent===null&&this.updateMatrixWorld();const a=this.renderTarget,[s,l,c,d,h,f]=this.children,g=e.xr.enabled,y=e.getRenderTarget();e.xr.enabled=!1;const v=a.texture.generateMipmaps;a.texture.generateMipmaps=!1,e.setRenderTarget(a,0),e.render(t,s),e.setRenderTarget(a,1),e.render(t,l),e.setRenderTarget(a,2),e.render(t,c),e.setRenderTarget(a,3),e.render(t,d),e.setRenderTarget(a,4),e.render(t,h),a.texture.generateMipmaps=v,e.setRenderTarget(a,5),e.render(t,f),e.setRenderTarget(y),e.xr.enabled=g}}class zu extends wn{constructor(e,t,a,s,l,c,d,h,f,g){e=e!==void 0?e:[],t=t!==void 0?t:Up,d=d!==void 0?d:vr,super(e,t,a,s,l,c,d,h,f,g),this._needsFlipEnvMap=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}zu.prototype.isCubeTexture=!0;class Nx extends br{constructor(e,t,a){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=a),super(e,e,t),t=t||{},this.texture=new zu(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ci,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=xi,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const a={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Fp(5,5,5),l=new Mr({name:"CubemapFromEquirect",uniforms:Os(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,side:rn,blending:nl});l.uniforms.tEquirect.value=t;const c=new un(s,l),d=t.minFilter;return t.minFilter===Op&&(t.minFilter=ci),new Hp(1,10,this).update(e,c),t.minFilter=d,c.geometry.dispose(),c.material.dispose(),this}clear(e,t,a,s){const l=e.getRenderTarget();for(let c=0;c<6;c++)e.setRenderTarget(this,c),e.clear(t,a,s);e.setRenderTarget(l)}}Nx.prototype.isWebGLCubeRenderTarget=!0;class Ux extends wn{constructor(e,t,a,s,l,c,d,h,f,g,y,v){super(null,c,d,h,f,g,s,l,y,v),this.image={data:e||null,width:t||1,height:a||1},this.magFilter=f!==void 0?f:Rn,this.minFilter=g!==void 0?g:Rn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Ux.prototype.isDataTexture=!0;const xs=new Ws,Zc=new I;class Iu{constructor(e=new Ci,t=new Ci,a=new Ci,s=new Ci,l=new Ci,c=new Ci){this.planes=[e,t,a,s,l,c]}set(e,t,a,s,l,c){const d=this.planes;return d[0].copy(e),d[1].copy(t),d[2].copy(a),d[3].copy(s),d[4].copy(l),d[5].copy(c),this}copy(e){const t=this.planes;for(let a=0;a<6;a++)t[a].copy(e.planes[a]);return this}setFromProjectionMatrix(e){const t=this.planes,a=e.elements,s=a[0],l=a[1],c=a[2],d=a[3],h=a[4],f=a[5],g=a[6],y=a[7],v=a[8],b=a[9],w=a[10],T=a[11],_=a[12],S=a[13],x=a[14],B=a[15];return t[0].setComponents(d-s,y-h,T-v,B-_).normalize(),t[1].setComponents(d+s,y+h,T+v,B+_).normalize(),t[2].setComponents(d+l,y+f,T+b,B+S).normalize(),t[3].setComponents(d-l,y-f,T-b,B-S).normalize(),t[4].setComponents(d-c,y-g,T-w,B-x).normalize(),t[5].setComponents(d+c,y+g,T+w,B+x).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),xs.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(xs)}intersectsSprite(e){return xs.center.set(0,0,0),xs.radius=.7071067811865476,xs.applyMatrix4(e.matrixWorld),this.intersectsSphere(xs)}intersectsSphere(e){const t=this.planes,a=e.center,s=-e.radius;for(let l=0;l<6;l++)if(t[l].distanceToPoint(a)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let a=0;a<6;a++){const s=t[a];if(Zc.x=s.normal.x>0?e.max.x:e.min.x,Zc.y=s.normal.y>0?e.max.y:e.min.y,Zc.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(Zc)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let a=0;a<6;a++)if(t[a].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Bx(){let r=null,e=!1,t=null,a=null;function s(l,c){t(l,c),a=r.requestAnimationFrame(s)}return{start:function(){e!==!0&&t!==null&&(a=r.requestAnimationFrame(s),e=!0)},stop:function(){r.cancelAnimationFrame(a),e=!1},setAnimationLoop:function(l){t=l},setContext:function(l){r=l}}}function V_(r,e){const t=e.isWebGL2,a=new WeakMap;function s(f,g){const y=f.array,v=f.usage,b=r.createBuffer();r.bindBuffer(g,b),r.bufferData(g,y,v),f.onUploadCallback();let w=5126;return y instanceof Float32Array?w=5126:y instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):y instanceof Uint16Array?f.isFloat16BufferAttribute?t?w=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):w=5123:y instanceof Int16Array?w=5122:y instanceof Uint32Array?w=5125:y instanceof Int32Array?w=5124:y instanceof Int8Array?w=5120:y instanceof Uint8Array&&(w=5121),{buffer:b,type:w,bytesPerElement:y.BYTES_PER_ELEMENT,version:f.version}}function l(f,g,y){const v=g.array,b=g.updateRange;r.bindBuffer(y,f),b.count===-1?r.bufferSubData(y,0,v):(t?r.bufferSubData(y,b.offset*v.BYTES_PER_ELEMENT,v,b.offset,b.count):r.bufferSubData(y,b.offset*v.BYTES_PER_ELEMENT,v.subarray(b.offset,b.offset+b.count)),b.count=-1)}function c(f){return f.isInterleavedBufferAttribute&&(f=f.data),a.get(f)}function d(f){f.isInterleavedBufferAttribute&&(f=f.data);const g=a.get(f);g&&(r.deleteBuffer(g.buffer),a.delete(f))}function h(f,g){if(f.isGLBufferAttribute){const v=a.get(f);(!v||v.version<f.version)&&a.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const y=a.get(f);y===void 0?a.set(f,s(f,g)):y.version<f.version&&(l(y.buffer,f,g),y.version=f.version)}return{get:c,remove:d,update:h}}class W_ extends bt{constructor(e=1,t=1,a=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:a,heightSegments:s};const l=e/2,c=t/2,d=Math.floor(a),h=Math.floor(s),f=d+1,g=h+1,y=e/d,v=t/h,b=[],w=[],T=[],_=[];for(let S=0;S<g;S++){const x=S*v-c;for(let B=0;B<f;B++){const O=B*y-l;w.push(O,-x,0),T.push(0,0,1),_.push(B/d),_.push(1-S/h)}}for(let S=0;S<h;S++)for(let x=0;x<d;x++){const B=x+f*S,O=x+f*(S+1),D=x+1+f*(S+1),A=x+1+f*S;b.push(B,O,A),b.push(O,D,A)}this.setIndex(b),this.setAttribute("position",new Ht(w,3)),this.setAttribute("normal",new Ht(T,3)),this.setAttribute("uv",new Ht(_,2))}}var j_=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,q_=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,K_=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,Y_=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,J_=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,$_="vec3 transformed = vec3( position );",X_=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Z_=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,Q_=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,eE=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,tE=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,nE=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,iE=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,aE=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,rE=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,sE=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,oE=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,lE=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cE=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,uE=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,dE=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,hE=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,fE=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,pE=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,mE="gl_FragColor = linearToOutputTexel( gl_FragColor );",gE=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,yE=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,vE=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,bE=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,xE=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,wE=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,SE=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,ME=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,TE=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,_E=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,EE=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,CE=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,AE=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,RE=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,LE=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,kE=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,NE=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,UE=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,BE=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,DE=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,PE=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,OE=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zE=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,IE=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,FE=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,GE=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,HE=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,VE=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,WE=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,jE=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,qE=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,KE=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,YE=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,JE=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$E=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,XE=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,ZE=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,QE=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,eC=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,tC=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,nC=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,iC=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,aC=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,rC=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,sC=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,oC=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,lC=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,cC=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,uC=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,dC=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,hC=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,fC=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,pC=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,mC=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,gC=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,yC=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,vC=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,bC=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,xC=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,wC=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,SC=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,MC=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,TC=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,_C=`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,EC=`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,CC=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,AC=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,RC=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,LC=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,kC=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,NC=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,UC=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,BC=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,DC=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,PC=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,OC=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zC=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,IC=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,FC=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,GC=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,HC=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,VC=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,WC=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,jC=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qC=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KC=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,YC=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JC=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$C=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XC=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ZC=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QC=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,eA=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tA=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nA=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iA=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aA=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,rA=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,sA=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,oA=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,lA=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,cA=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uA=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,dA=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const ut={alphamap_fragment:j_,alphamap_pars_fragment:q_,alphatest_fragment:K_,aomap_fragment:Y_,aomap_pars_fragment:J_,begin_vertex:$_,beginnormal_vertex:X_,bsdfs:Z_,bumpmap_pars_fragment:Q_,clipping_planes_fragment:eE,clipping_planes_pars_fragment:tE,clipping_planes_pars_vertex:nE,clipping_planes_vertex:iE,color_fragment:aE,color_pars_fragment:rE,color_pars_vertex:sE,color_vertex:oE,common:lE,cube_uv_reflection_fragment:cE,defaultnormal_vertex:uE,displacementmap_pars_vertex:dE,displacementmap_vertex:hE,emissivemap_fragment:fE,emissivemap_pars_fragment:pE,encodings_fragment:mE,encodings_pars_fragment:gE,envmap_fragment:yE,envmap_common_pars_fragment:vE,envmap_pars_fragment:bE,envmap_pars_vertex:xE,envmap_physical_pars_fragment:kE,envmap_vertex:wE,fog_vertex:SE,fog_pars_vertex:ME,fog_fragment:TE,fog_pars_fragment:_E,gradientmap_pars_fragment:EE,lightmap_fragment:CE,lightmap_pars_fragment:AE,lights_lambert_vertex:RE,lights_pars_begin:LE,lights_toon_fragment:NE,lights_toon_pars_fragment:UE,lights_phong_fragment:BE,lights_phong_pars_fragment:DE,lights_physical_fragment:PE,lights_physical_pars_fragment:OE,lights_fragment_begin:zE,lights_fragment_maps:IE,lights_fragment_end:FE,logdepthbuf_fragment:GE,logdepthbuf_pars_fragment:HE,logdepthbuf_pars_vertex:VE,logdepthbuf_vertex:WE,map_fragment:jE,map_pars_fragment:qE,map_particle_fragment:KE,map_particle_pars_fragment:YE,metalnessmap_fragment:JE,metalnessmap_pars_fragment:$E,morphnormal_vertex:XE,morphtarget_pars_vertex:ZE,morphtarget_vertex:QE,normal_fragment_begin:eC,normal_fragment_maps:tC,normalmap_pars_fragment:nC,clearcoat_normal_fragment_begin:iC,clearcoat_normal_fragment_maps:aC,clearcoat_pars_fragment:rC,packing:sC,premultiplied_alpha_fragment:oC,project_vertex:lC,dithering_fragment:cC,dithering_pars_fragment:uC,roughnessmap_fragment:dC,roughnessmap_pars_fragment:hC,shadowmap_pars_fragment:fC,shadowmap_pars_vertex:pC,shadowmap_vertex:mC,shadowmask_pars_fragment:gC,skinbase_vertex:yC,skinning_pars_vertex:vC,skinning_vertex:bC,skinnormal_vertex:xC,specularmap_fragment:wC,specularmap_pars_fragment:SC,tonemapping_fragment:MC,tonemapping_pars_fragment:TC,transmissionmap_fragment:_C,transmissionmap_pars_fragment:EC,uv_pars_fragment:CC,uv_pars_vertex:AC,uv_vertex:RC,uv2_pars_fragment:LC,uv2_pars_vertex:kC,uv2_vertex:NC,worldpos_vertex:UC,background_frag:BC,background_vert:DC,cube_frag:PC,cube_vert:OC,depth_frag:zC,depth_vert:IC,distanceRGBA_frag:FC,distanceRGBA_vert:GC,equirect_frag:HC,equirect_vert:VC,linedashed_frag:WC,linedashed_vert:jC,meshbasic_frag:qC,meshbasic_vert:KC,meshlambert_frag:YC,meshlambert_vert:JC,meshmatcap_frag:$C,meshmatcap_vert:XC,meshtoon_frag:ZC,meshtoon_vert:QC,meshphong_frag:eA,meshphong_vert:tA,meshphysical_frag:nA,meshphysical_vert:iA,normal_frag:aA,normal_vert:rA,points_frag:sA,points_vert:oA,shadow_frag:lA,shadow_vert:cA,sprite_frag:uA,sprite_vert:dA},Be={common:{diffuse:{value:new qe(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new xn},uv2Transform:{value:new xn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new qe(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new xn}},sprite:{diffuse:{value:new qe(15658734)},opacity:{value:1},center:{value:new Le(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new xn}}},Ai={basic:{uniforms:Mn([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.fog]),vertexShader:ut.meshbasic_vert,fragmentShader:ut.meshbasic_frag},lambert:{uniforms:Mn([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.fog,Be.lights,{emissive:{value:new qe(0)}}]),vertexShader:ut.meshlambert_vert,fragmentShader:ut.meshlambert_frag},phong:{uniforms:Mn([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new qe(0)},specular:{value:new qe(1118481)},shininess:{value:30}}]),vertexShader:ut.meshphong_vert,fragmentShader:ut.meshphong_frag},standard:{uniforms:Mn([Be.common,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.roughnessmap,Be.metalnessmap,Be.fog,Be.lights,{emissive:{value:new qe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ut.meshphysical_vert,fragmentShader:ut.meshphysical_frag},toon:{uniforms:Mn([Be.common,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.gradientmap,Be.fog,Be.lights,{emissive:{value:new qe(0)}}]),vertexShader:ut.meshtoon_vert,fragmentShader:ut.meshtoon_frag},matcap:{uniforms:Mn([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,{matcap:{value:null}}]),vertexShader:ut.meshmatcap_vert,fragmentShader:ut.meshmatcap_frag},points:{uniforms:Mn([Be.points,Be.fog]),vertexShader:ut.points_vert,fragmentShader:ut.points_frag},dashed:{uniforms:Mn([Be.common,Be.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ut.linedashed_vert,fragmentShader:ut.linedashed_frag},depth:{uniforms:Mn([Be.common,Be.displacementmap]),vertexShader:ut.depth_vert,fragmentShader:ut.depth_frag},normal:{uniforms:Mn([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,{opacity:{value:1}}]),vertexShader:ut.normal_vert,fragmentShader:ut.normal_frag},sprite:{uniforms:Mn([Be.sprite,Be.fog]),vertexShader:ut.sprite_vert,fragmentShader:ut.sprite_frag},background:{uniforms:{uvTransform:{value:new xn},t2D:{value:null}},vertexShader:ut.background_vert,fragmentShader:ut.background_frag},cube:{uniforms:Mn([Be.envmap,{opacity:{value:1}}]),vertexShader:ut.cube_vert,fragmentShader:ut.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ut.equirect_vert,fragmentShader:ut.equirect_frag},distanceRGBA:{uniforms:Mn([Be.common,Be.displacementmap,{referencePosition:{value:new I},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ut.distanceRGBA_vert,fragmentShader:ut.distanceRGBA_frag},shadow:{uniforms:Mn([Be.lights,Be.fog,{color:{value:new qe(0)},opacity:{value:1}}]),vertexShader:ut.shadow_vert,fragmentShader:ut.shadow_frag}};Ai.physical={uniforms:Mn([Ai.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Le(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new qe(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:ut.meshphysical_vert,fragmentShader:ut.meshphysical_frag};function hA(r,e,t,a,s){const l=new qe(0);let c=0,d,h,f=null,g=0,y=null;function v(w,T,_,S){let x=T.isScene===!0?T.background:null;x&&x.isTexture&&(x=e.get(x));const B=r.xr,O=B.getSession&&B.getSession();O&&O.environmentBlendMode==="additive"&&(x=null),x===null?b(l,c):x&&x.isColor&&(b(x,1),S=!0),(r.autoClear||S)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),x&&(x.isCubeTexture||x.mapping===Dp)?(h===void 0&&(h=new un(new Fp(1,1,1),new Mr({name:"BackgroundCubeMaterial",uniforms:Os(Ai.cube.uniforms),vertexShader:Ai.cube.vertexShader,fragmentShader:Ai.cube.fragmentShader,side:rn,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(D,A,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(h)),h.material.uniforms.envMap.value=x,h.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x._needsFlipEnvMap?-1:1,(f!==x||g!==x.version||y!==r.toneMapping)&&(h.material.needsUpdate=!0,f=x,g=x.version,y=r.toneMapping),w.unshift(h,h.geometry,h.material,0,0,null)):x&&x.isTexture&&(d===void 0&&(d=new un(new W_(2,2),new Mr({name:"BackgroundMaterial",uniforms:Os(Ai.background.uniforms),vertexShader:Ai.background.vertexShader,fragmentShader:Ai.background.fragmentShader,side:Pu,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(d)),d.material.uniforms.t2D.value=x,x.matrixAutoUpdate===!0&&x.updateMatrix(),d.material.uniforms.uvTransform.value.copy(x.matrix),(f!==x||g!==x.version||y!==r.toneMapping)&&(d.material.needsUpdate=!0,f=x,g=x.version,y=r.toneMapping),w.unshift(d,d.geometry,d.material,0,0,null))}function b(w,T){t.buffers.color.setClear(w.r,w.g,w.b,T,s)}return{getClearColor:function(){return l},setClearColor:function(w,T=1){l.set(w),c=T,b(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(w){c=w,b(l,c)},render:v}}function fA(r,e,t,a){const s=r.getParameter(34921),l=a.isWebGL2?null:e.get("OES_vertex_array_object"),c=a.isWebGL2||l!==null,d={},h=T(null);let f=h;function g(K,N,V,C,H){let Z=!1;if(c){const se=w(C,V,N);f!==se&&(f=se,v(f.object)),Z=_(C,H),Z&&S(C,H)}else{const se=N.wireframe===!0;(f.geometry!==C.id||f.program!==V.id||f.wireframe!==se)&&(f.geometry=C.id,f.program=V.id,f.wireframe=se,Z=!0)}K.isInstancedMesh===!0&&(Z=!0),H!==null&&t.update(H,34963),Z&&(P(K,N,V,C),H!==null&&r.bindBuffer(34963,t.get(H).buffer))}function y(){return a.isWebGL2?r.createVertexArray():l.createVertexArrayOES()}function v(K){return a.isWebGL2?r.bindVertexArray(K):l.bindVertexArrayOES(K)}function b(K){return a.isWebGL2?r.deleteVertexArray(K):l.deleteVertexArrayOES(K)}function w(K,N,V){const C=V.wireframe===!0;let H=d[K.id];H===void 0&&(H={},d[K.id]=H);let Z=H[N.id];Z===void 0&&(Z={},H[N.id]=Z);let se=Z[C];return se===void 0&&(se=T(y()),Z[C]=se),se}function T(K){const N=[],V=[],C=[];for(let H=0;H<s;H++)N[H]=0,V[H]=0,C[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:V,attributeDivisors:C,object:K,attributes:{},index:null}}function _(K,N){const V=f.attributes,C=K.attributes;let H=0;for(const Z in C){const se=V[Z],he=C[Z];if(se===void 0||se.attribute!==he||se.data!==he.data)return!0;H++}return f.attributesNum!==H||f.index!==N}function S(K,N){const V={},C=K.attributes;let H=0;for(const Z in C){const se=C[Z],he={};he.attribute=se,se.data&&(he.data=se.data),V[Z]=he,H++}f.attributes=V,f.attributesNum=H,f.index=N}function x(){const K=f.newAttributes;for(let N=0,V=K.length;N<V;N++)K[N]=0}function B(K){O(K,0)}function O(K,N){const V=f.newAttributes,C=f.enabledAttributes,H=f.attributeDivisors;V[K]=1,C[K]===0&&(r.enableVertexAttribArray(K),C[K]=1),H[K]!==N&&((a.isWebGL2?r:e.get("ANGLE_instanced_arrays"))[a.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](K,N),H[K]=N)}function D(){const K=f.newAttributes,N=f.enabledAttributes;for(let V=0,C=N.length;V<C;V++)N[V]!==K[V]&&(r.disableVertexAttribArray(V),N[V]=0)}function A(K,N,V,C,H,Z){a.isWebGL2===!0&&(V===5124||V===5125)?r.vertexAttribIPointer(K,N,V,H,Z):r.vertexAttribPointer(K,N,V,C,H,Z)}function P(K,N,V,C){if(a.isWebGL2===!1&&(K.isInstancedMesh||C.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const H=C.attributes,Z=V.getAttributes(),se=N.defaultAttributeValues;for(const he in Z){const L=Z[he];if(L>=0){const W=H[he];if(W!==void 0){const ne=W.normalized,Y=W.itemSize,xe=t.get(W);if(xe===void 0)continue;const we=xe.buffer,ve=xe.type,_e=xe.bytesPerElement;if(W.isInterleavedBufferAttribute){const Ne=W.data,Re=Ne.stride,Xe=W.offset;Ne&&Ne.isInstancedInterleavedBuffer?(O(L,Ne.meshPerAttribute),C._maxInstanceCount===void 0&&(C._maxInstanceCount=Ne.meshPerAttribute*Ne.count)):B(L),r.bindBuffer(34962,we),A(L,Y,ve,ne,Re*_e,Xe*_e)}else W.isInstancedBufferAttribute?(O(L,W.meshPerAttribute),C._maxInstanceCount===void 0&&(C._maxInstanceCount=W.meshPerAttribute*W.count)):B(L),r.bindBuffer(34962,we),A(L,Y,ve,ne,0,0)}else if(he==="instanceMatrix"){const ne=t.get(K.instanceMatrix);if(ne===void 0)continue;const Y=ne.buffer,xe=ne.type;O(L+0,1),O(L+1,1),O(L+2,1),O(L+3,1),r.bindBuffer(34962,Y),r.vertexAttribPointer(L+0,4,xe,!1,64,0),r.vertexAttribPointer(L+1,4,xe,!1,64,16),r.vertexAttribPointer(L+2,4,xe,!1,64,32),r.vertexAttribPointer(L+3,4,xe,!1,64,48)}else if(he==="instanceColor"){const ne=t.get(K.instanceColor);if(ne===void 0)continue;const Y=ne.buffer,xe=ne.type;O(L,1),r.bindBuffer(34962,Y),r.vertexAttribPointer(L,3,xe,!1,12,0)}else if(se!==void 0){const ne=se[he];if(ne!==void 0)switch(ne.length){case 2:r.vertexAttrib2fv(L,ne);break;case 3:r.vertexAttrib3fv(L,ne);break;case 4:r.vertexAttrib4fv(L,ne);break;default:r.vertexAttrib1fv(L,ne)}}}}D()}function q(){de();for(const K in d){const N=d[K];for(const V in N){const C=N[V];for(const H in C)b(C[H].object),delete C[H];delete N[V]}delete d[K]}}function X(K){if(d[K.id]===void 0)return;const N=d[K.id];for(const V in N){const C=N[V];for(const H in C)b(C[H].object),delete C[H];delete N[V]}delete d[K.id]}function te(K){for(const N in d){const V=d[N];if(V[K.id]===void 0)continue;const C=V[K.id];for(const H in C)b(C[H].object),delete C[H];delete V[K.id]}}function de(){re(),f!==h&&(f=h,v(f.object))}function re(){h.geometry=null,h.program=null,h.wireframe=!1}return{setup:g,reset:de,resetDefaultState:re,dispose:q,releaseStatesOfGeometry:X,releaseStatesOfProgram:te,initAttributes:x,enableAttribute:B,disableUnusedAttributes:D}}function pA(r,e,t,a){const s=a.isWebGL2;let l;function c(f){l=f}function d(f,g){r.drawArrays(l,f,g),t.update(g,l,1)}function h(f,g,y){if(y===0)return;let v,b;if(s)v=r,b="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),b="drawArraysInstancedANGLE",v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[b](l,f,g,y),t.update(g,l,y)}this.setMode=c,this.render=d,this.renderInstances=h}function mA(r,e,t){let a;function s(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");a=r.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function l(A){if(A==="highp"){if(r.getShaderPrecisionFormat(35633,36338).precision>0&&r.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";A="mediump"}return A==="mediump"&&r.getShaderPrecisionFormat(35633,36337).precision>0&&r.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const c=typeof WebGL2RenderingContext<"u"&&r instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&r instanceof WebGL2ComputeRenderingContext;let d=t.precision!==void 0?t.precision:"highp";const h=l(d);h!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",h,"instead."),d=h);const f=t.logarithmicDepthBuffer===!0,g=r.getParameter(34930),y=r.getParameter(35660),v=r.getParameter(3379),b=r.getParameter(34076),w=r.getParameter(34921),T=r.getParameter(36347),_=r.getParameter(36348),S=r.getParameter(36349),x=y>0,B=c||e.has("OES_texture_float"),O=x&&B,D=c?r.getParameter(36183):0;return{isWebGL2:c,getMaxAnisotropy:s,getMaxPrecision:l,precision:d,logarithmicDepthBuffer:f,maxTextures:g,maxVertexTextures:y,maxTextureSize:v,maxCubemapSize:b,maxAttributes:w,maxVertexUniforms:T,maxVaryings:_,maxFragmentUniforms:S,vertexTextures:x,floatFragmentTextures:B,floatVertexTextures:O,maxSamples:D}}function gA(r){const e=this;let t=null,a=0,s=!1,l=!1;const c=new Ci,d=new xn,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(y,v,b){const w=y.length!==0||v||a!==0||s;return s=v,t=g(y,b,0),a=y.length,w},this.beginShadows=function(){l=!0,g(null)},this.endShadows=function(){l=!1,f()},this.setState=function(y,v,b){const w=y.clippingPlanes,T=y.clipIntersection,_=y.clipShadows,S=r.get(y);if(!s||w===null||w.length===0||l&&!_)l?g(null):f();else{const x=l?0:a,B=x*4;let O=S.clippingState||null;h.value=O,O=g(w,v,B,b);for(let D=0;D!==B;++D)O[D]=t[D];S.clippingState=O,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=x}};function f(){h.value!==t&&(h.value=t,h.needsUpdate=a>0),e.numPlanes=a,e.numIntersection=0}function g(y,v,b,w){const T=y!==null?y.length:0;let _=null;if(T!==0){if(_=h.value,w!==!0||_===null){const S=b+T*4,x=v.matrixWorldInverse;d.getNormalMatrix(x),(_===null||_.length<S)&&(_=new Float32Array(S));for(let B=0,O=b;B!==T;++B,O+=4)c.copy(y[B]).applyMatrix4(x,d),c.normal.toArray(_,O),_[O+3]=c.constant}h.value=_,h.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,_}}function yA(r){let e=new WeakMap;function t(c,d){return d===S0?c.mapping=Up:d===M0&&(c.mapping=Bp),c}function a(c){if(c&&c.isTexture){const d=c.mapping;if(d===S0||d===M0)if(e.has(c)){const h=e.get(c).texture;return t(h,c.mapping)}else{const h=c.image;if(h&&h.height>0){const f=r.getRenderTarget(),g=new Nx(h.height/2);return g.fromEquirectangularTexture(r,c),e.set(c,g),r.setRenderTarget(f),c.addEventListener("dispose",s),t(g.texture,c.mapping)}else return null}}return c}function s(c){const d=c.target;d.removeEventListener("dispose",s);const h=e.get(d);h!==void 0&&(e.delete(d),h.dispose())}function l(){e=new WeakMap}return{get:a,dispose:l}}function vA(r){const e={};function t(a){if(e[a]!==void 0)return e[a];let s;switch(a){case"WEBGL_depth_texture":s=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=r.getExtension(a)}return e[a]=s,s}return{has:function(a){return t(a)!==null},init:function(a){a.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float")},get:function(a){const s=t(a);return s===null&&console.warn("THREE.WebGLRenderer: "+a+" extension not supported."),s}}}function bA(r,e,t,a){const s={},l=new WeakMap;function c(y){const v=y.target;v.index!==null&&e.remove(v.index);for(const w in v.attributes)e.remove(v.attributes[w]);v.removeEventListener("dispose",c),delete s[v.id];const b=l.get(v);b&&(e.remove(b),l.delete(v)),a.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function d(y,v){return s[v.id]===!0||(v.addEventListener("dispose",c),s[v.id]=!0,t.memory.geometries++),v}function h(y){const v=y.attributes;for(const w in v)e.update(v[w],34962);const b=y.morphAttributes;for(const w in b){const T=b[w];for(let _=0,S=T.length;_<S;_++)e.update(T[_],34962)}}function f(y){const v=[],b=y.index,w=y.attributes.position;let T=0;if(b!==null){const x=b.array;T=b.version;for(let B=0,O=x.length;B<O;B+=3){const D=x[B+0],A=x[B+1],P=x[B+2];v.push(D,A,A,P,P,D)}}else{const x=w.array;T=w.version;for(let B=0,O=x.length/3-1;B<O;B+=3){const D=B+0,A=B+1,P=B+2;v.push(D,A,A,P,P,D)}}const _=new(kx(v)>65535?Lx:Rx)(v,1);_.version=T;const S=l.get(y);S&&e.remove(S),l.set(y,_)}function g(y){const v=l.get(y);if(v){const b=y.index;b!==null&&v.version<b.version&&f(y)}else f(y);return l.get(y)}return{get:d,update:h,getWireframeAttribute:g}}function xA(r,e,t,a){const s=a.isWebGL2;let l;function c(v){l=v}let d,h;function f(v){d=v.type,h=v.bytesPerElement}function g(v,b){r.drawElements(l,b,d,v*h),t.update(b,l,1)}function y(v,b,w){if(w===0)return;let T,_;if(s)T=r,_="drawElementsInstanced";else if(T=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",T===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}T[_](l,b,d,v*h,w),t.update(b,l,w)}this.setMode=c,this.setIndex=f,this.render=g,this.renderInstances=y}function wA(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function a(l,c,d){switch(t.calls++,c){case 4:t.triangles+=d*(l/3);break;case 1:t.lines+=d*(l/2);break;case 3:t.lines+=d*(l-1);break;case 2:t.lines+=d*l;break;case 0:t.points+=d*l;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c);break}}function s(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:s,update:a}}function SA(r,e){return r[0]-e[0]}function MA(r,e){return Math.abs(e[1])-Math.abs(r[1])}function TA(r){const e={},t=new Float32Array(8),a=[];for(let l=0;l<8;l++)a[l]=[l,0];function s(l,c,d,h){const f=l.morphTargetInfluences,g=f===void 0?0:f.length;let y=e[c.id];if(y===void 0){y=[];for(let _=0;_<g;_++)y[_]=[_,0];e[c.id]=y}for(let _=0;_<g;_++){const S=y[_];S[0]=_,S[1]=f[_]}y.sort(MA);for(let _=0;_<8;_++)_<g&&y[_][1]?(a[_][0]=y[_][0],a[_][1]=y[_][1]):(a[_][0]=Number.MAX_SAFE_INTEGER,a[_][1]=0);a.sort(SA);const v=d.morphTargets&&c.morphAttributes.position,b=d.morphNormals&&c.morphAttributes.normal;let w=0;for(let _=0;_<8;_++){const S=a[_],x=S[0],B=S[1];x!==Number.MAX_SAFE_INTEGER&&B?(v&&c.getAttribute("morphTarget"+_)!==v[x]&&c.setAttribute("morphTarget"+_,v[x]),b&&c.getAttribute("morphNormal"+_)!==b[x]&&c.setAttribute("morphNormal"+_,b[x]),t[_]=B,w+=B):(v&&c.hasAttribute("morphTarget"+_)===!0&&c.deleteAttribute("morphTarget"+_),b&&c.hasAttribute("morphNormal"+_)===!0&&c.deleteAttribute("morphNormal"+_),t[_]=0)}const T=c.morphTargetsRelative?1:1-w;h.getUniforms().setValue(r,"morphTargetBaseInfluence",T),h.getUniforms().setValue(r,"morphTargetInfluences",t)}return{update:s}}function _A(r,e,t,a){let s=new WeakMap;function l(h){const f=a.render.frame,g=h.geometry,y=e.get(h,g);return s.get(y)!==f&&(e.update(y),s.set(y,f)),h.isInstancedMesh&&(h.hasEventListener("dispose",d)===!1&&h.addEventListener("dispose",d),t.update(h.instanceMatrix,34962),h.instanceColor!==null&&t.update(h.instanceColor,34962)),y}function c(){s=new WeakMap}function d(h){const f=h.target;f.removeEventListener("dispose",d),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:l,dispose:c}}class Dx extends wn{constructor(e=null,t=1,a=1,s=1){super(null),this.image={data:e,width:t,height:a,depth:s},this.magFilter=Rn,this.minFilter=Rn,this.wrapR=An,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Dx.prototype.isDataTexture2DArray=!0;class Px extends wn{constructor(e=null,t=1,a=1,s=1){super(null),this.image={data:e,width:t,height:a,depth:s},this.magFilter=Rn,this.minFilter=Rn,this.wrapR=An,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Px.prototype.isDataTexture3D=!0;const Ox=new wn,EA=new Dx,CA=new Px,zx=new zu,J0=[],$0=[],X0=new Float32Array(16),Z0=new Float32Array(9),Q0=new Float32Array(4);function qs(r,e,t){const a=r[0];if(a<=0||a>0)return r;const s=e*t;let l=J0[s];if(l===void 0&&(l=new Float32Array(s),J0[s]=l),e!==0){a.toArray(l,0);for(let c=1,d=0;c!==e;++c)d+=t,r[c].toArray(l,d)}return l}function kn(r,e){if(r.length!==e.length)return!1;for(let t=0,a=r.length;t<a;t++)if(r[t]!==e[t])return!1;return!0}function Tn(r,e){for(let t=0,a=e.length;t<a;t++)r[t]=e[t]}function Ix(r,e){let t=$0[e];t===void 0&&(t=new Int32Array(e),$0[e]=t);for(let a=0;a!==e;++a)t[a]=r.allocateTextureUnit();return t}function AA(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function RA(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kn(t,e))return;r.uniform2fv(this.addr,e),Tn(t,e)}}function LA(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(kn(t,e))return;r.uniform3fv(this.addr,e),Tn(t,e)}}function kA(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kn(t,e))return;r.uniform4fv(this.addr,e),Tn(t,e)}}function NA(r,e){const t=this.cache,a=e.elements;if(a===void 0){if(kn(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),Tn(t,e)}else{if(kn(t,a))return;Q0.set(a),r.uniformMatrix2fv(this.addr,!1,Q0),Tn(t,a)}}function UA(r,e){const t=this.cache,a=e.elements;if(a===void 0){if(kn(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),Tn(t,e)}else{if(kn(t,a))return;Z0.set(a),r.uniformMatrix3fv(this.addr,!1,Z0),Tn(t,a)}}function BA(r,e){const t=this.cache,a=e.elements;if(a===void 0){if(kn(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),Tn(t,e)}else{if(kn(t,a))return;X0.set(a),r.uniformMatrix4fv(this.addr,!1,X0),Tn(t,a)}}function DA(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function PA(r,e){const t=this.cache;kn(t,e)||(r.uniform2iv(this.addr,e),Tn(t,e))}function OA(r,e){const t=this.cache;kn(t,e)||(r.uniform3iv(this.addr,e),Tn(t,e))}function zA(r,e){const t=this.cache;kn(t,e)||(r.uniform4iv(this.addr,e),Tn(t,e))}function IA(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function FA(r,e){const t=this.cache;kn(t,e)||(r.uniform2uiv(this.addr,e),Tn(t,e))}function GA(r,e){const t=this.cache;kn(t,e)||(r.uniform3uiv(this.addr,e),Tn(t,e))}function HA(r,e){const t=this.cache;kn(t,e)||(r.uniform4uiv(this.addr,e),Tn(t,e))}function VA(r,e,t){const a=this.cache,s=t.allocateTextureUnit();a[0]!==s&&(r.uniform1i(this.addr,s),a[0]=s),t.safeSetTexture2D(e||Ox,s)}function WA(r,e,t){const a=this.cache,s=t.allocateTextureUnit();a[0]!==s&&(r.uniform1i(this.addr,s),a[0]=s),t.setTexture3D(e||CA,s)}function jA(r,e,t){const a=this.cache,s=t.allocateTextureUnit();a[0]!==s&&(r.uniform1i(this.addr,s),a[0]=s),t.safeSetTextureCube(e||zx,s)}function qA(r,e,t){const a=this.cache,s=t.allocateTextureUnit();a[0]!==s&&(r.uniform1i(this.addr,s),a[0]=s),t.setTexture2DArray(e||EA,s)}function KA(r){switch(r){case 5126:return AA;case 35664:return RA;case 35665:return LA;case 35666:return kA;case 35674:return NA;case 35675:return UA;case 35676:return BA;case 5124:case 35670:return DA;case 35667:case 35671:return PA;case 35668:case 35672:return OA;case 35669:case 35673:return zA;case 5125:return IA;case 36294:return FA;case 36295:return GA;case 36296:return HA;case 35678:case 36198:case 36298:case 36306:case 35682:return VA;case 35679:case 36299:case 36307:return WA;case 35680:case 36300:case 36308:case 36293:return jA;case 36289:case 36303:case 36311:case 36292:return qA}}function YA(r,e){r.uniform1fv(this.addr,e)}function JA(r,e){const t=qs(e,this.size,2);r.uniform2fv(this.addr,t)}function $A(r,e){const t=qs(e,this.size,3);r.uniform3fv(this.addr,t)}function XA(r,e){const t=qs(e,this.size,4);r.uniform4fv(this.addr,t)}function ZA(r,e){const t=qs(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function QA(r,e){const t=qs(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function e3(r,e){const t=qs(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function t3(r,e){r.uniform1iv(this.addr,e)}function n3(r,e){r.uniform2iv(this.addr,e)}function i3(r,e){r.uniform3iv(this.addr,e)}function a3(r,e){r.uniform4iv(this.addr,e)}function r3(r,e){r.uniform1uiv(this.addr,e)}function s3(r,e){r.uniform2uiv(this.addr,e)}function o3(r,e){r.uniform3uiv(this.addr,e)}function l3(r,e){r.uniform4uiv(this.addr,e)}function c3(r,e,t){const a=e.length,s=Ix(t,a);r.uniform1iv(this.addr,s);for(let l=0;l!==a;++l)t.safeSetTexture2D(e[l]||Ox,s[l])}function u3(r,e,t){const a=e.length,s=Ix(t,a);r.uniform1iv(this.addr,s);for(let l=0;l!==a;++l)t.safeSetTextureCube(e[l]||zx,s[l])}function d3(r){switch(r){case 5126:return YA;case 35664:return JA;case 35665:return $A;case 35666:return XA;case 35674:return ZA;case 35675:return QA;case 35676:return e3;case 5124:case 35670:return t3;case 35667:case 35671:return n3;case 35668:case 35672:return i3;case 35669:case 35673:return a3;case 5125:return r3;case 36294:return s3;case 36295:return o3;case 36296:return l3;case 35678:case 36198:case 36298:case 36306:case 35682:return c3;case 35680:case 36300:case 36308:case 36293:return u3}}function h3(r,e,t){this.id=r,this.addr=t,this.cache=[],this.setValue=KA(e.type)}function Fx(r,e,t){this.id=r,this.addr=t,this.cache=[],this.size=e.size,this.setValue=d3(e.type)}Fx.prototype.updateCache=function(r){const e=this.cache;r instanceof Float32Array&&e.length!==r.length&&(this.cache=new Float32Array(r.length)),Tn(e,r)};function Gx(r){this.id=r,this.seq=[],this.map={}}Gx.prototype.setValue=function(r,e,t){const a=this.seq;for(let s=0,l=a.length;s!==l;++s){const c=a[s];c.setValue(r,e[c.id],t)}};const Pf=/(\w+)(\])?(\[|\.)?/g;function eb(r,e){r.seq.push(e),r.map[e.id]=e}function f3(r,e,t){const a=r.name,s=a.length;for(Pf.lastIndex=0;;){const l=Pf.exec(a),c=Pf.lastIndex;let d=l[1];const h=l[2]==="]",f=l[3];if(h&&(d=d|0),f===void 0||f==="["&&c+2===s){eb(t,f===void 0?new h3(d,r,e):new Fx(d,r,e));break}else{let y=t.map[d];y===void 0&&(y=new Gx(d),eb(t,y)),t=y}}}function qa(r,e){this.seq=[],this.map={};const t=r.getProgramParameter(e,35718);for(let a=0;a<t;++a){const s=r.getActiveUniform(e,a),l=r.getUniformLocation(e,s.name);f3(s,l,this)}}qa.prototype.setValue=function(r,e,t,a){const s=this.map[e];s!==void 0&&s.setValue(r,t,a)};qa.prototype.setOptional=function(r,e,t){const a=e[t];a!==void 0&&this.setValue(r,t,a)};qa.upload=function(r,e,t,a){for(let s=0,l=e.length;s!==l;++s){const c=e[s],d=t[c.id];d.needsUpdate!==!1&&c.setValue(r,d.value,a)}};qa.seqWithValue=function(r,e){const t=[];for(let a=0,s=r.length;a!==s;++a){const l=r[a];l.id in e&&t.push(l)}return t};function tb(r,e,t){const a=r.createShader(e);return r.shaderSource(a,t),r.compileShader(a),a}let p3=0;function m3(r){const e=r.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function Hx(r){switch(r){case bl:return["Linear","( value )"];case Ex:return["sRGB","( value )"];case f_:return["RGBE","( value )"];case m_:return["RGBM","( value, 7.0 )"];case g_:return["RGBM","( value, 16.0 )"];case y_:return["RGBD","( value, 256.0 )"];case h_:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case p_:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",r),["Linear","( value )"]}}function nb(r,e,t){const a=r.getShaderParameter(e,35713),s=r.getShaderInfoLog(e).trim();if(a&&s==="")return"";const l=r.getShaderSource(e);return"THREE.WebGLShader: gl.getShaderInfoLog() "+t+`
`+s+m3(l)}function jo(r,e){const t=Hx(e);return"vec4 "+r+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function g3(r,e){const t=Hx(e);return"vec4 "+r+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function y3(r,e){let t;switch(e){case d2:t="Linear";break;case h2:t="Reinhard";break;case f2:t="OptimizedCineon";break;case p2:t="ACESFilmic";break;case m2:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function v3(r){return[r.extensionDerivatives||r.envMapCubeUV||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||r.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(el).join(`
`)}function b3(r){const e=[];for(const t in r){const a=r[t];a!==!1&&e.push("#define "+t+" "+a)}return e.join(`
`)}function x3(r,e){const t={},a=r.getProgramParameter(e,35721);for(let s=0;s<a;s++){const c=r.getActiveAttrib(e,s).name;t[c]=r.getAttribLocation(e,c)}return t}function el(r){return r!==""}function ib(r,e){return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ab(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const w3=/^[ \t]*#include +<([\w\d./]+)>/gm;function hp(r){return r.replace(w3,S3)}function S3(r,e){const t=ut[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return hp(t)}const M3=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,T3=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function rb(r){return r.replace(T3,Vx).replace(M3,_3)}function _3(r,e,t,a){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Vx(r,e,t,a)}function Vx(r,e,t,a){let s="";for(let l=parseInt(e);l<parseInt(t);l++)s+=a.replace(/\[\s*i\s*\]/g,"[ "+l+" ]").replace(/UNROLLED_LOOP_INDEX/g,l);return s}function sb(r){let e="precision "+r.precision+` float;
precision `+r.precision+" int;";return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function E3(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===xx?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===VT?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===Qo&&(e="SHADOWMAP_TYPE_VSM"),e}function C3(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Up:case Bp:e="ENVMAP_TYPE_CUBE";break;case Dp:case Pp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function A3(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case Bp:case Pp:e="ENVMAP_MODE_REFRACTION";break}return e}function R3(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case Ou:e="ENVMAP_BLENDING_MULTIPLY";break;case c2:e="ENVMAP_BLENDING_MIX";break;case u2:e="ENVMAP_BLENDING_ADD";break}return e}function L3(r,e,t,a){const s=r.getContext(),l=t.defines;let c=t.vertexShader,d=t.fragmentShader;const h=E3(t),f=C3(t),g=A3(t),y=R3(t),v=r.gammaFactor>0?r.gammaFactor:1,b=t.isWebGL2?"":v3(t),w=b3(l),T=s.createProgram();let _,S,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=[w].filter(el).join(`
`),_.length>0&&(_+=`
`),S=[b,w].filter(el).join(`
`),S.length>0&&(S+=`
`)):(_=[sb(t),"#define SHADER_NAME "+t.shaderName,w,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+g:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(el).join(`
`),S=[b,sb(t),"#define SHADER_NAME "+t.shaderName,w,t.alphaTest?"#define ALPHATEST "+t.alphaTest+(t.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+g:"",t.envMap?"#define "+y:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.sheen?"#define USE_SHEEN":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==al?"#define TONE_MAPPING":"",t.toneMapping!==al?ut.tonemapping_pars_fragment:"",t.toneMapping!==al?y3("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",ut.encodings_pars_fragment,t.map?jo("mapTexelToLinear",t.mapEncoding):"",t.matcap?jo("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?jo("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?jo("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.lightMap?jo("lightMapTexelToLinear",t.lightMapEncoding):"",g3("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(el).join(`
`)),c=hp(c),c=ib(c,t),c=ab(c,t),d=hp(d),d=ib(d,t),d=ab(d,t),c=rb(c),d=rb(d),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,_=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,S=["#define varying in",t.glslVersion===P0?"":"out highp vec4 pc_fragColor;",t.glslVersion===P0?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const B=x+_+c,O=x+S+d,D=tb(s,35633,B),A=tb(s,35632,O);if(s.attachShader(T,D),s.attachShader(T,A),t.index0AttributeName!==void 0?s.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&s.bindAttribLocation(T,0,"position"),s.linkProgram(T),r.debug.checkShaderErrors){const X=s.getProgramInfoLog(T).trim(),te=s.getShaderInfoLog(D).trim(),de=s.getShaderInfoLog(A).trim();let re=!0,K=!0;if(s.getProgramParameter(T,35714)===!1){re=!1;const N=nb(s,D,"vertex"),V=nb(s,A,"fragment");console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(T,35715),"gl.getProgramInfoLog",X,N,V)}else X!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",X):(te===""||de==="")&&(K=!1);K&&(this.diagnostics={runnable:re,programLog:X,vertexShader:{log:te,prefix:_},fragmentShader:{log:de,prefix:S}})}s.deleteShader(D),s.deleteShader(A);let P;this.getUniforms=function(){return P===void 0&&(P=new qa(s,T)),P};let q;return this.getAttributes=function(){return q===void 0&&(q=x3(s,T)),q},this.destroy=function(){a.releaseStatesOfProgram(this),s.deleteProgram(T),this.program=void 0},this.name=t.shaderName,this.id=p3++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=D,this.fragmentShader=A,this}function k3(r,e,t,a,s,l){const c=[],d=a.isWebGL2,h=a.logarithmicDepthBuffer,f=a.floatVertexTextures,g=a.maxVertexUniforms,y=a.vertexTextures;let v=a.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},w=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function T(A){const q=A.skeleton.bones;if(f)return 1024;{const te=Math.floor((g-20)/4),de=Math.min(te,q.length);return de<q.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+q.length+" bones. This GPU supports "+de+"."),0):de}}function _(A){let P;return A&&A.isTexture?P=A.encoding:A&&A.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),P=A.texture.encoding):P=bl,P}function S(A,P,q,X,te){const de=X.fog,re=A.isMeshStandardMaterial?X.environment:null,K=e.get(A.envMap||re),N=b[A.type],V=te.isSkinnedMesh?T(te):0;A.precision!==null&&(v=a.getMaxPrecision(A.precision),v!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",v,"instead."));let C,H;if(N){const he=Ai[N];C=he.vertexShader,H=he.fragmentShader}else C=A.vertexShader,H=A.fragmentShader;const Z=r.getRenderTarget();return{isWebGL2:d,shaderID:N,shaderName:A.type,vertexShader:C,fragmentShader:H,defines:A.defines,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:v,instancing:te.isInstancedMesh===!0,instancingColor:te.isInstancedMesh===!0&&te.instanceColor!==null,supportsVertexTextures:y,outputEncoding:Z!==null?_(Z.texture):r.outputEncoding,map:!!A.map,mapEncoding:_(A.map),matcap:!!A.matcap,matcapEncoding:_(A.matcap),envMap:!!K,envMapMode:K&&K.mapping,envMapEncoding:_(K),envMapCubeUV:!!K&&(K.mapping===Dp||K.mapping===Pp),lightMap:!!A.lightMap,lightMapEncoding:_(A.lightMap),aoMap:!!A.aoMap,emissiveMap:!!A.emissiveMap,emissiveMapEncoding:_(A.emissiveMap),bumpMap:!!A.bumpMap,normalMap:!!A.normalMap,objectSpaceNormalMap:A.normalMapType===x_,tangentSpaceNormalMap:A.normalMapType===Hs,clearcoatMap:!!A.clearcoatMap,clearcoatRoughnessMap:!!A.clearcoatRoughnessMap,clearcoatNormalMap:!!A.clearcoatNormalMap,displacementMap:!!A.displacementMap,roughnessMap:!!A.roughnessMap,metalnessMap:!!A.metalnessMap,specularMap:!!A.specularMap,alphaMap:!!A.alphaMap,gradientMap:!!A.gradientMap,sheen:!!A.sheen,transmissionMap:!!A.transmissionMap,combine:A.combine,vertexTangents:A.normalMap&&A.vertexTangents,vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&te.geometry&&te.geometry.attributes.color&&te.geometry.attributes.color.itemSize===4,vertexUvs:!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatMap||!!A.clearcoatRoughnessMap||!!A.clearcoatNormalMap||!!A.displacementMap||!!A.transmissionMap,uvsVertexOnly:!(A.map||A.bumpMap||A.normalMap||A.specularMap||A.alphaMap||A.emissiveMap||A.roughnessMap||A.metalnessMap||A.clearcoatNormalMap||A.transmissionMap)&&!!A.displacementMap,fog:!!de,useFog:A.fog,fogExp2:de&&de.isFogExp2,flatShading:!!A.flatShading,sizeAttenuation:A.sizeAttenuation,logarithmicDepthBuffer:h,skinning:A.skinning&&V>0,maxBones:V,useVertexTexture:f,morphTargets:A.morphTargets,morphNormals:A.morphNormals,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:A.dithering,shadowMapEnabled:r.shadowMap.enabled&&q.length>0,shadowMapType:r.shadowMap.type,toneMapping:A.toneMapped?r.toneMapping:al,physicallyCorrectLights:r.physicallyCorrectLights,premultipliedAlpha:A.premultipliedAlpha,alphaTest:A.alphaTest,doubleSided:A.side===Sr,flipSided:A.side===rn,depthPacking:A.depthPacking!==void 0?A.depthPacking:!1,index0AttributeName:A.index0AttributeName,extensionDerivatives:A.extensions&&A.extensions.derivatives,extensionFragDepth:A.extensions&&A.extensions.fragDepth,extensionDrawBuffers:A.extensions&&A.extensions.drawBuffers,extensionShaderTextureLOD:A.extensions&&A.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||t.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||t.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||t.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}}function x(A){const P=[];if(A.shaderID?P.push(A.shaderID):(P.push(A.fragmentShader),P.push(A.vertexShader)),A.defines!==void 0)for(const q in A.defines)P.push(q),P.push(A.defines[q]);if(A.isRawShaderMaterial===!1){for(let q=0;q<w.length;q++)P.push(A[w[q]]);P.push(r.outputEncoding),P.push(r.gammaFactor)}return P.push(A.customProgramCacheKey),P.join()}function B(A){const P=b[A.type];let q;if(P){const X=Ai[P];q=F_.clone(X.uniforms)}else q=A.uniforms;return q}function O(A,P){let q;for(let X=0,te=c.length;X<te;X++){const de=c[X];if(de.cacheKey===P){q=de,++q.usedTimes;break}}return q===void 0&&(q=new L3(r,P,A,s),c.push(q)),q}function D(A){if(--A.usedTimes===0){const P=c.indexOf(A);c[P]=c[c.length-1],c.pop(),A.destroy()}}return{getParameters:S,getProgramCacheKey:x,getUniforms:B,acquireProgram:O,releaseProgram:D,programs:c}}function N3(){let r=new WeakMap;function e(l){let c=r.get(l);return c===void 0&&(c={},r.set(l,c)),c}function t(l){r.delete(l)}function a(l,c,d){r.get(l)[c]=d}function s(){r=new WeakMap}return{get:e,remove:t,update:a,dispose:s}}function U3(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.program!==e.program?r.program.id-e.program.id:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function B3(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function ob(r){const e=[];let t=0;const a=[],s=[],l={id:-1};function c(){t=0,a.length=0,s.length=0}function d(v,b,w,T,_,S){let x=e[t];const B=r.get(w);return x===void 0?(x={id:v.id,object:v,geometry:b,material:w,program:B.program||l,groupOrder:T,renderOrder:v.renderOrder,z:_,group:S},e[t]=x):(x.id=v.id,x.object=v,x.geometry=b,x.material=w,x.program=B.program||l,x.groupOrder=T,x.renderOrder=v.renderOrder,x.z=_,x.group=S),t++,x}function h(v,b,w,T,_,S){const x=d(v,b,w,T,_,S);(w.transparent===!0?s:a).push(x)}function f(v,b,w,T,_,S){const x=d(v,b,w,T,_,S);(w.transparent===!0?s:a).unshift(x)}function g(v,b){a.length>1&&a.sort(v||U3),s.length>1&&s.sort(b||B3)}function y(){for(let v=t,b=e.length;v<b;v++){const w=e[v];if(w.id===null)break;w.id=null,w.object=null,w.geometry=null,w.material=null,w.program=null,w.group=null}}return{opaque:a,transparent:s,init:c,push:h,unshift:f,finish:y,sort:g}}function D3(r){let e=new WeakMap;function t(s,l){let c;return e.has(s)===!1?(c=new ob(r),e.set(s,[c])):l>=e.get(s).length?(c=new ob(r),e.get(s).push(c)):c=e.get(s)[l],c}function a(){e=new WeakMap}return{get:t,dispose:a}}function P3(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new I,color:new qe};break;case"SpotLight":t={position:new I,direction:new I,color:new qe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new I,color:new qe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new I,skyColor:new qe,groundColor:new qe};break;case"RectAreaLight":t={color:new qe,position:new I,halfWidth:new I,halfHeight:new I};break}return r[e.id]=t,t}}}function O3(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let z3=0;function I3(r,e){return(e.castShadow?1:0)-(r.castShadow?1:0)}function F3(r,e){const t=new P3,a=O3(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let g=0;g<9;g++)s.probe.push(new I);const l=new I,c=new Je,d=new Je;function h(g){let y=0,v=0,b=0;for(let P=0;P<9;P++)s.probe[P].set(0,0,0);let w=0,T=0,_=0,S=0,x=0,B=0,O=0,D=0;g.sort(I3);for(let P=0,q=g.length;P<q;P++){const X=g[P],te=X.color,de=X.intensity,re=X.distance,K=X.shadow&&X.shadow.map?X.shadow.map.texture:null;if(X.isAmbientLight)y+=te.r*de,v+=te.g*de,b+=te.b*de;else if(X.isLightProbe)for(let N=0;N<9;N++)s.probe[N].addScaledVector(X.sh.coefficients[N],de);else if(X.isDirectionalLight){const N=t.get(X);if(N.color.copy(X.color).multiplyScalar(X.intensity),X.castShadow){const V=X.shadow,C=a.get(X);C.shadowBias=V.bias,C.shadowNormalBias=V.normalBias,C.shadowRadius=V.radius,C.shadowMapSize=V.mapSize,s.directionalShadow[w]=C,s.directionalShadowMap[w]=K,s.directionalShadowMatrix[w]=X.shadow.matrix,B++}s.directional[w]=N,w++}else if(X.isSpotLight){const N=t.get(X);if(N.position.setFromMatrixPosition(X.matrixWorld),N.color.copy(te).multiplyScalar(de),N.distance=re,N.coneCos=Math.cos(X.angle),N.penumbraCos=Math.cos(X.angle*(1-X.penumbra)),N.decay=X.decay,X.castShadow){const V=X.shadow,C=a.get(X);C.shadowBias=V.bias,C.shadowNormalBias=V.normalBias,C.shadowRadius=V.radius,C.shadowMapSize=V.mapSize,s.spotShadow[_]=C,s.spotShadowMap[_]=K,s.spotShadowMatrix[_]=X.shadow.matrix,D++}s.spot[_]=N,_++}else if(X.isRectAreaLight){const N=t.get(X);N.color.copy(te).multiplyScalar(de),N.halfWidth.set(X.width*.5,0,0),N.halfHeight.set(0,X.height*.5,0),s.rectArea[S]=N,S++}else if(X.isPointLight){const N=t.get(X);if(N.color.copy(X.color).multiplyScalar(X.intensity),N.distance=X.distance,N.decay=X.decay,X.castShadow){const V=X.shadow,C=a.get(X);C.shadowBias=V.bias,C.shadowNormalBias=V.normalBias,C.shadowRadius=V.radius,C.shadowMapSize=V.mapSize,C.shadowCameraNear=V.camera.near,C.shadowCameraFar=V.camera.far,s.pointShadow[T]=C,s.pointShadowMap[T]=K,s.pointShadowMatrix[T]=X.shadow.matrix,O++}s.point[T]=N,T++}else if(X.isHemisphereLight){const N=t.get(X);N.skyColor.copy(X.color).multiplyScalar(de),N.groundColor.copy(X.groundColor).multiplyScalar(de),s.hemi[x]=N,x++}}S>0&&(e.isWebGL2||r.has("OES_texture_float_linear")===!0?(s.rectAreaLTC1=Be.LTC_FLOAT_1,s.rectAreaLTC2=Be.LTC_FLOAT_2):r.has("OES_texture_half_float_linear")===!0?(s.rectAreaLTC1=Be.LTC_HALF_1,s.rectAreaLTC2=Be.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),s.ambient[0]=y,s.ambient[1]=v,s.ambient[2]=b;const A=s.hash;(A.directionalLength!==w||A.pointLength!==T||A.spotLength!==_||A.rectAreaLength!==S||A.hemiLength!==x||A.numDirectionalShadows!==B||A.numPointShadows!==O||A.numSpotShadows!==D)&&(s.directional.length=w,s.spot.length=_,s.rectArea.length=S,s.point.length=T,s.hemi.length=x,s.directionalShadow.length=B,s.directionalShadowMap.length=B,s.pointShadow.length=O,s.pointShadowMap.length=O,s.spotShadow.length=D,s.spotShadowMap.length=D,s.directionalShadowMatrix.length=B,s.pointShadowMatrix.length=O,s.spotShadowMatrix.length=D,A.directionalLength=w,A.pointLength=T,A.spotLength=_,A.rectAreaLength=S,A.hemiLength=x,A.numDirectionalShadows=B,A.numPointShadows=O,A.numSpotShadows=D,s.version=z3++)}function f(g,y){let v=0,b=0,w=0,T=0,_=0;const S=y.matrixWorldInverse;for(let x=0,B=g.length;x<B;x++){const O=g[x];if(O.isDirectionalLight){const D=s.directional[v];D.direction.setFromMatrixPosition(O.matrixWorld),l.setFromMatrixPosition(O.target.matrixWorld),D.direction.sub(l),D.direction.transformDirection(S),v++}else if(O.isSpotLight){const D=s.spot[w];D.position.setFromMatrixPosition(O.matrixWorld),D.position.applyMatrix4(S),D.direction.setFromMatrixPosition(O.matrixWorld),l.setFromMatrixPosition(O.target.matrixWorld),D.direction.sub(l),D.direction.transformDirection(S),w++}else if(O.isRectAreaLight){const D=s.rectArea[T];D.position.setFromMatrixPosition(O.matrixWorld),D.position.applyMatrix4(S),d.identity(),c.copy(O.matrixWorld),c.premultiply(S),d.extractRotation(c),D.halfWidth.set(O.width*.5,0,0),D.halfHeight.set(0,O.height*.5,0),D.halfWidth.applyMatrix4(d),D.halfHeight.applyMatrix4(d),T++}else if(O.isPointLight){const D=s.point[b];D.position.setFromMatrixPosition(O.matrixWorld),D.position.applyMatrix4(S),b++}else if(O.isHemisphereLight){const D=s.hemi[_];D.direction.setFromMatrixPosition(O.matrixWorld),D.direction.transformDirection(S),D.direction.normalize(),_++}}}return{setup:h,setupView:f,state:s}}function lb(r,e){const t=new F3(r,e),a=[],s=[];function l(){a.length=0,s.length=0}function c(y){a.push(y)}function d(y){s.push(y)}function h(){t.setup(a)}function f(y){t.setupView(a,y)}return{init:l,state:{lightsArray:a,shadowsArray:s,lights:t},setupLights:h,setupLightsView:f,pushLight:c,pushShadow:d}}function G3(r,e){let t=new WeakMap;function a(l,c=0){let d;return t.has(l)===!1?(d=new lb(r,e),t.set(l,[d])):c>=t.get(l).length?(d=new lb(r,e),t.get(l).push(d)):d=t.get(l)[c],d}function s(){t=new WeakMap}return{get:a,dispose:s}}class Wx extends hn{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=v_,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Wx.prototype.isMeshDepthMaterial=!0;class jx extends hn{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new I,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}jx.prototype.isMeshDistanceMaterial=!0;var H3=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,V3=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function qx(r,e,t){let a=new Iu;const s=new Le,l=new Le,c=new Lt,d=[],h=[],f={},g=t.maxTextureSize,y={0:rn,1:Pu,2:Sr},v=new Mr({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Le},radius:{value:4}},vertexShader:V3,fragmentShader:H3}),b=v.clone();b.defines.HORIZONTAL_PASS=1;const w=new bt;w.setAttribute("position",new dn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new un(w,v),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xx,this.render=function(A,P,q){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||A.length===0)return;const X=r.getRenderTarget(),te=r.getActiveCubeFace(),de=r.getActiveMipmapLevel(),re=r.state;re.setBlending(nl),re.buffers.color.setClear(1,1,1,1),re.buffers.depth.setTest(!0),re.setScissorTest(!1);for(let K=0,N=A.length;K<N;K++){const V=A[K],C=V.shadow;if(C===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}if(C.autoUpdate===!1&&C.needsUpdate===!1)continue;s.copy(C.mapSize);const H=C.getFrameExtents();if(s.multiply(H),l.copy(C.mapSize),(s.x>g||s.y>g)&&(s.x>g&&(l.x=Math.floor(g/H.x),s.x=l.x*H.x,C.mapSize.x=l.x),s.y>g&&(l.y=Math.floor(g/H.y),s.y=l.y*H.y,C.mapSize.y=l.y)),C.map===null&&!C.isPointLightShadow&&this.type===Qo){const se={minFilter:ci,magFilter:ci,format:xi};C.map=new br(s.x,s.y,se),C.map.texture.name=V.name+".shadowMap",C.mapPass=new br(s.x,s.y,se),C.camera.updateProjectionMatrix()}if(C.map===null){const se={minFilter:Rn,magFilter:Rn,format:xi};C.map=new br(s.x,s.y,se),C.map.texture.name=V.name+".shadowMap",C.camera.updateProjectionMatrix()}r.setRenderTarget(C.map),r.clear();const Z=C.getViewportCount();for(let se=0;se<Z;se++){const he=C.getViewport(se);c.set(l.x*he.x,l.y*he.y,l.x*he.z,l.y*he.w),re.viewport(c),C.updateMatrices(V,se),a=C.getFrustum(),D(P,q,C.camera,V,this.type)}!C.isPointLightShadow&&this.type===Qo&&S(C,q),C.needsUpdate=!1}_.needsUpdate=!1,r.setRenderTarget(X,te,de)};function S(A,P){const q=e.update(T);v.uniforms.shadow_pass.value=A.map.texture,v.uniforms.resolution.value=A.mapSize,v.uniforms.radius.value=A.radius,r.setRenderTarget(A.mapPass),r.clear(),r.renderBufferDirect(P,null,q,v,T,null),b.uniforms.shadow_pass.value=A.mapPass.texture,b.uniforms.resolution.value=A.mapSize,b.uniforms.radius.value=A.radius,r.setRenderTarget(A.map),r.clear(),r.renderBufferDirect(P,null,q,b,T,null)}function x(A,P,q){const X=A<<0|P<<1|q<<2;let te=d[X];return te===void 0&&(te=new Wx({depthPacking:b_,morphTargets:A,skinning:P}),d[X]=te),te}function B(A,P,q){const X=A<<0|P<<1|q<<2;let te=h[X];return te===void 0&&(te=new jx({morphTargets:A,skinning:P}),h[X]=te),te}function O(A,P,q,X,te,de,re){let K=null,N=x,V=A.customDepthMaterial;if(X.isPointLight===!0&&(N=B,V=A.customDistanceMaterial),V===void 0){let C=!1;q.morphTargets===!0&&(C=P.morphAttributes&&P.morphAttributes.position&&P.morphAttributes.position.length>0);let H=!1;A.isSkinnedMesh===!0&&(q.skinning===!0?H=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",A));const Z=A.isInstancedMesh===!0;K=N(C,H,Z)}else K=V;if(r.localClippingEnabled&&q.clipShadows===!0&&q.clippingPlanes.length!==0){const C=K.uuid,H=q.uuid;let Z=f[C];Z===void 0&&(Z={},f[C]=Z);let se=Z[H];se===void 0&&(se=K.clone(),Z[H]=se),K=se}return K.visible=q.visible,K.wireframe=q.wireframe,re===Qo?K.side=q.shadowSide!==null?q.shadowSide:q.side:K.side=q.shadowSide!==null?q.shadowSide:y[q.side],K.clipShadows=q.clipShadows,K.clippingPlanes=q.clippingPlanes,K.clipIntersection=q.clipIntersection,K.wireframeLinewidth=q.wireframeLinewidth,K.linewidth=q.linewidth,X.isPointLight===!0&&K.isMeshDistanceMaterial===!0&&(K.referencePosition.setFromMatrixPosition(X.matrixWorld),K.nearDistance=te,K.farDistance=de),K}function D(A,P,q,X,te){if(A.visible===!1)return;if(A.layers.test(P.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&te===Qo)&&(!A.frustumCulled||a.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(q.matrixWorldInverse,A.matrixWorld);const K=e.update(A),N=A.material;if(Array.isArray(N)){const V=K.groups;for(let C=0,H=V.length;C<H;C++){const Z=V[C],se=N[Z.materialIndex];if(se&&se.visible){const he=O(A,K,se,X,q.near,q.far,te);r.renderBufferDirect(q,null,K,he,A,Z)}}}else if(N.visible){const V=O(A,K,N,X,q.near,q.far,te);r.renderBufferDirect(q,null,K,V,A,null)}}const re=A.children;for(let K=0,N=re.length;K<N;K++)D(re[K],P,q,X,te)}}function W3(r,e,t){const a=t.isWebGL2;function s(){let J=!1;const Te=new Lt;let Ae=null;const Fe=new Lt(0,0,0,0);return{setMask:function(ye){Ae!==ye&&!J&&(r.colorMask(ye,ye,ye,ye),Ae=ye)},setLocked:function(ye){J=ye},setClear:function(ye,We,rt,Nt,fn){fn===!0&&(ye*=Nt,We*=Nt,rt*=Nt),Te.set(ye,We,rt,Nt),Fe.equals(Te)===!1&&(r.clearColor(ye,We,rt,Nt),Fe.copy(Te))},reset:function(){J=!1,Ae=null,Fe.set(-1,0,0,0)}}}function l(){let J=!1,Te=null,Ae=null,Fe=null;return{setTest:function(ye){ye?W(2929):ne(2929)},setMask:function(ye){Te!==ye&&!J&&(r.depthMask(ye),Te=ye)},setFunc:function(ye){if(Ae!==ye){if(ye)switch(ye){case n2:r.depthFunc(512);break;case i2:r.depthFunc(519);break;case a2:r.depthFunc(513);break;case lp:r.depthFunc(515);break;case r2:r.depthFunc(514);break;case s2:r.depthFunc(518);break;case o2:r.depthFunc(516);break;case l2:r.depthFunc(517);break;default:r.depthFunc(515)}else r.depthFunc(515);Ae=ye}},setLocked:function(ye){J=ye},setClear:function(ye){Fe!==ye&&(r.clearDepth(ye),Fe=ye)},reset:function(){J=!1,Te=null,Ae=null,Fe=null}}}function c(){let J=!1,Te=null,Ae=null,Fe=null,ye=null,We=null,rt=null,Nt=null,fn=null;return{setTest:function(st){J||(st?W(2960):ne(2960))},setMask:function(st){Te!==st&&!J&&(r.stencilMask(st),Te=st)},setFunc:function(st,Se,De){(Ae!==st||Fe!==Se||ye!==De)&&(r.stencilFunc(st,Se,De),Ae=st,Fe=Se,ye=De)},setOp:function(st,Se,De){(We!==st||rt!==Se||Nt!==De)&&(r.stencilOp(st,Se,De),We=st,rt=Se,Nt=De)},setLocked:function(st){J=st},setClear:function(st){fn!==st&&(r.clearStencil(st),fn=st)},reset:function(){J=!1,Te=null,Ae=null,Fe=null,ye=null,We=null,rt=null,Nt=null,fn=null}}}const d=new s,h=new l,f=new c;let g={},y=null,v={},b=null,w=!1,T=null,_=null,S=null,x=null,B=null,O=null,D=null,A=!1,P=null,q=null,X=null,te=null,de=null;const re=r.getParameter(35661);let K=!1,N=0;const V=r.getParameter(7938);V.indexOf("WebGL")!==-1?(N=parseFloat(/^WebGL (\d)/.exec(V)[1]),K=N>=1):V.indexOf("OpenGL ES")!==-1&&(N=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),K=N>=2);let C=null,H={};const Z=new Lt(0,0,r.canvas.width,r.canvas.height),se=new Lt(0,0,r.canvas.width,r.canvas.height);function he(J,Te,Ae){const Fe=new Uint8Array(4),ye=r.createTexture();r.bindTexture(J,ye),r.texParameteri(J,10241,9728),r.texParameteri(J,10240,9728);for(let We=0;We<Ae;We++)r.texImage2D(Te+We,0,6408,1,1,0,6408,5121,Fe);return ye}const L={};L[3553]=he(3553,3553,1),L[34067]=he(34067,34069,6),d.setClear(0,0,0,1),h.setClear(1),f.setClear(0),W(2929),h.setFunc(lp),Xe(!1),Me(g0),W(2884),Ne(nl);function W(J){g[J]!==!0&&(r.enable(J),g[J]=!0)}function ne(J){g[J]!==!1&&(r.disable(J),g[J]=!1)}function Y(J){J!==y&&(r.bindFramebuffer(36160,J),y=J)}function xe(J,Te){Te===null&&y!==null&&(Te=y),v[J]!==Te&&(r.bindFramebuffer(J,Te),v[J]=Te,a&&(J===36009&&(v[36160]=Te),J===36160&&(v[36009]=Te)))}function we(J){return b!==J?(r.useProgram(J),b=J,!0):!1}const ve={[Es]:32774,[jT]:32778,[qT]:32779};if(a)ve[x0]=32775,ve[w0]=32776;else{const J=e.get("EXT_blend_minmax");J!==null&&(ve[x0]=J.MIN_EXT,ve[w0]=J.MAX_EXT)}const _e={[KT]:0,[YT]:1,[JT]:768,[Sx]:770,[t2]:776,[QT]:774,[XT]:772,[$T]:769,[Mx]:771,[e2]:775,[ZT]:773};function Ne(J,Te,Ae,Fe,ye,We,rt,Nt){if(J===nl){w===!0&&(ne(3042),w=!1);return}if(w===!1&&(W(3042),w=!0),J!==WT){if(J!==T||Nt!==A){if((_!==Es||B!==Es)&&(r.blendEquation(32774),_=Es,B=Es),Nt)switch(J){case il:r.blendFuncSeparate(1,771,1,771);break;case y0:r.blendFunc(1,1);break;case v0:r.blendFuncSeparate(0,0,769,771);break;case b0:r.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}else switch(J){case il:r.blendFuncSeparate(770,771,1,771);break;case y0:r.blendFunc(770,1);break;case v0:r.blendFunc(0,769);break;case b0:r.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}S=null,x=null,O=null,D=null,T=J,A=Nt}return}ye=ye||Te,We=We||Ae,rt=rt||Fe,(Te!==_||ye!==B)&&(r.blendEquationSeparate(ve[Te],ve[ye]),_=Te,B=ye),(Ae!==S||Fe!==x||We!==O||rt!==D)&&(r.blendFuncSeparate(_e[Ae],_e[Fe],_e[We],_e[rt]),S=Ae,x=Fe,O=We,D=rt),T=J,A=null}function Re(J,Te){J.side===Sr?ne(2884):W(2884);let Ae=J.side===rn;Te&&(Ae=!Ae),Xe(Ae),J.blending===il&&J.transparent===!1?Ne(nl):Ne(J.blending,J.blendEquation,J.blendSrc,J.blendDst,J.blendEquationAlpha,J.blendSrcAlpha,J.blendDstAlpha,J.premultipliedAlpha),h.setFunc(J.depthFunc),h.setTest(J.depthTest),h.setMask(J.depthWrite),d.setMask(J.colorWrite);const Fe=J.stencilWrite;f.setTest(Fe),Fe&&(f.setMask(J.stencilWriteMask),f.setFunc(J.stencilFunc,J.stencilRef,J.stencilFuncMask),f.setOp(J.stencilFail,J.stencilZFail,J.stencilZPass)),be(J.polygonOffset,J.polygonOffsetFactor,J.polygonOffsetUnits),J.alphaToCoverage===!0?W(32926):ne(32926)}function Xe(J){P!==J&&(J?r.frontFace(2304):r.frontFace(2305),P=J)}function Me(J){J!==GT?(W(2884),J!==q&&(J===g0?r.cullFace(1029):J===HT?r.cullFace(1028):r.cullFace(1032))):ne(2884),q=J}function Ce(J){J!==X&&(K&&r.lineWidth(J),X=J)}function be(J,Te,Ae){J?(W(32823),(te!==Te||de!==Ae)&&(r.polygonOffset(Te,Ae),te=Te,de=Ae)):ne(32823)}function Oe(J){J?W(3089):ne(3089)}function ke(J){J===void 0&&(J=33984+re-1),C!==J&&(r.activeTexture(J),C=J)}function z(J,Te){C===null&&ke();let Ae=H[C];Ae===void 0&&(Ae={type:void 0,texture:void 0},H[C]=Ae),(Ae.type!==J||Ae.texture!==Te)&&(r.bindTexture(J,Te||L[J]),Ae.type=J,Ae.texture=Te)}function k(){const J=H[C];J!==void 0&&J.type!==void 0&&(r.bindTexture(J.type,null),J.type=void 0,J.texture=void 0)}function oe(){try{r.compressedTexImage2D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ce(){try{r.texImage2D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Ee(){try{r.texImage3D.apply(r,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ze(J){Z.equals(J)===!1&&(r.scissor(J.x,J.y,J.z,J.w),Z.copy(J))}function nt(J){se.equals(J)===!1&&(r.viewport(J.x,J.y,J.z,J.w),se.copy(J))}function Ie(){r.disable(3042),r.disable(2884),r.disable(2929),r.disable(32823),r.disable(3089),r.disable(2960),r.disable(32926),r.blendEquation(32774),r.blendFunc(1,0),r.blendFuncSeparate(1,0,1,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(513),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(519,0,4294967295),r.stencilOp(7680,7680,7680),r.clearStencil(0),r.cullFace(1029),r.frontFace(2305),r.polygonOffset(0,0),r.activeTexture(33984),r.bindFramebuffer(36160,null),a===!0&&(r.bindFramebuffer(36009,null),r.bindFramebuffer(36008,null)),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),g={},C=null,H={},y=null,v={},b=null,w=!1,T=null,_=null,S=null,x=null,B=null,O=null,D=null,A=!1,P=null,q=null,X=null,te=null,de=null,Z.set(0,0,r.canvas.width,r.canvas.height),se.set(0,0,r.canvas.width,r.canvas.height),d.reset(),h.reset(),f.reset()}return{buffers:{color:d,depth:h,stencil:f},enable:W,disable:ne,bindFramebuffer:xe,bindXRFramebuffer:Y,useProgram:we,setBlending:Ne,setMaterial:Re,setFlipSided:Xe,setCullFace:Me,setLineWidth:Ce,setPolygonOffset:be,setScissorTest:Oe,activeTexture:ke,bindTexture:z,unbindTexture:k,compressedTexImage2D:oe,texImage2D:ce,texImage3D:Ee,scissor:ze,viewport:nt,reset:Ie}}function j3(r,e,t,a,s,l,c){const d=s.isWebGL2,h=s.maxTextures,f=s.maxCubemapSize,g=s.maxTextureSize,y=s.maxSamples,v=new WeakMap;let b,w=!1;try{w=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function T(z,k){return w?new OffscreenCanvas(z,k):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function _(z,k,oe,ce){let Ee=1;if((z.width>ce||z.height>ce)&&(Ee=ce/Math.max(z.width,z.height)),Ee<1||k===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){const ze=k?T_:Math.floor,nt=ze(Ee*z.width),Ie=ze(Ee*z.height);b===void 0&&(b=T(nt,Ie));const J=oe?T(nt,Ie):b;return J.width=nt,J.height=Ie,J.getContext("2d").drawImage(z,0,0,nt,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+nt+"x"+Ie+")."),J}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function S(z){return O0(z.width)&&O0(z.height)}function x(z){return d?!1:z.wrapS!==An||z.wrapT!==An||z.minFilter!==Rn&&z.minFilter!==ci}function B(z,k){return z.generateMipmaps&&k&&z.minFilter!==Rn&&z.minFilter!==ci}function O(z,k,oe,ce){r.generateMipmap(z);const Ee=a.get(k);Ee.__maxMipLevel=Math.log2(Math.max(oe,ce))}function D(z,k,oe){if(d===!1)return k;if(z!==null){if(r[z]!==void 0)return r[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let ce=k;return k===6403&&(oe===5126&&(ce=33326),oe===5131&&(ce=33325),oe===5121&&(ce=33321)),k===6407&&(oe===5126&&(ce=34837),oe===5131&&(ce=34843),oe===5121&&(ce=32849)),k===6408&&(oe===5126&&(ce=34836),oe===5131&&(ce=34842),oe===5121&&(ce=32856)),(ce===33325||ce===33326||ce===34842||ce===34836)&&e.get("EXT_color_buffer_float"),ce}function A(z){return z===Rn||z===T0||z===_0?9728:9729}function P(z){const k=z.target;k.removeEventListener("dispose",P),X(k),k.isVideoTexture&&v.delete(k),c.memory.textures--}function q(z){const k=z.target;k.removeEventListener("dispose",q),te(k),c.memory.textures--}function X(z){const k=a.get(z);k.__webglInit!==void 0&&(r.deleteTexture(k.__webglTexture),a.remove(z))}function te(z){const k=z.texture,oe=a.get(z),ce=a.get(k);if(z){if(ce.__webglTexture!==void 0&&r.deleteTexture(ce.__webglTexture),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let Ee=0;Ee<6;Ee++)r.deleteFramebuffer(oe.__webglFramebuffer[Ee]),oe.__webglDepthbuffer&&r.deleteRenderbuffer(oe.__webglDepthbuffer[Ee]);else r.deleteFramebuffer(oe.__webglFramebuffer),oe.__webglDepthbuffer&&r.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&r.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer&&r.deleteRenderbuffer(oe.__webglColorRenderbuffer),oe.__webglDepthRenderbuffer&&r.deleteRenderbuffer(oe.__webglDepthRenderbuffer);a.remove(k),a.remove(z)}}let de=0;function re(){de=0}function K(){const z=de;return z>=h&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+h),de+=1,z}function N(z,k){const oe=a.get(z);if(z.isVideoTexture&&Me(z),z.version>0&&oe.__version!==z.version){const ce=z.image;if(ce===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{W(oe,z,k);return}}t.activeTexture(33984+k),t.bindTexture(3553,oe.__webglTexture)}function V(z,k){const oe=a.get(z);if(z.version>0&&oe.__version!==z.version){W(oe,z,k);return}t.activeTexture(33984+k),t.bindTexture(35866,oe.__webglTexture)}function C(z,k){const oe=a.get(z);if(z.version>0&&oe.__version!==z.version){W(oe,z,k);return}t.activeTexture(33984+k),t.bindTexture(32879,oe.__webglTexture)}function H(z,k){const oe=a.get(z);if(z.version>0&&oe.__version!==z.version){ne(oe,z,k);return}t.activeTexture(33984+k),t.bindTexture(34067,oe.__webglTexture)}const Z={[cp]:10497,[An]:33071,[up]:33648},se={[Rn]:9728,[T0]:9984,[_0]:9986,[ci]:9729,[g2]:9985,[Op]:9987};function he(z,k,oe){if(oe?(r.texParameteri(z,10242,Z[k.wrapS]),r.texParameteri(z,10243,Z[k.wrapT]),(z===32879||z===35866)&&r.texParameteri(z,32882,Z[k.wrapR]),r.texParameteri(z,10240,se[k.magFilter]),r.texParameteri(z,10241,se[k.minFilter])):(r.texParameteri(z,10242,33071),r.texParameteri(z,10243,33071),(z===32879||z===35866)&&r.texParameteri(z,32882,33071),(k.wrapS!==An||k.wrapT!==An)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),r.texParameteri(z,10240,A(k.magFilter)),r.texParameteri(z,10241,A(k.minFilter)),k.minFilter!==Rn&&k.minFilter!==ci&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ce=e.get("EXT_texture_filter_anisotropic");if(k.type===Va&&e.has("OES_texture_float_linear")===!1||d===!1&&k.type===_u&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||a.get(k).__currentAnisotropy)&&(r.texParameterf(z,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,s.getMaxAnisotropy())),a.get(k).__currentAnisotropy=k.anisotropy)}}function L(z,k){z.__webglInit===void 0&&(z.__webglInit=!0,k.addEventListener("dispose",P),z.__webglTexture=r.createTexture(),c.memory.textures++)}function W(z,k,oe){let ce=3553;k.isDataTexture2DArray&&(ce=35866),k.isDataTexture3D&&(ce=32879),L(z,k),t.activeTexture(33984+oe),t.bindTexture(ce,z.__webglTexture),r.pixelStorei(37440,k.flipY),r.pixelStorei(37441,k.premultiplyAlpha),r.pixelStorei(3317,k.unpackAlignment),r.pixelStorei(37443,0);const Ee=x(k)&&S(k.image)===!1,ze=_(k.image,Ee,!1,g),nt=S(ze)||d,Ie=l.convert(k.format);let J=l.convert(k.type),Te=D(k.internalFormat,Ie,J);he(ce,k,nt);let Ae;const Fe=k.mipmaps;if(k.isDepthTexture)Te=6402,d?k.type===Va?Te=36012:k.type===vu?Te=33190:k.type===rl?Te=35056:Te=33189:k.type===Va&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===Us&&Te===6402&&k.type!==Tu&&k.type!==vu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=Tu,J=l.convert(k.type)),k.format===ul&&Te===6402&&(Te=34041,k.type!==rl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=rl,J=l.convert(k.type))),t.texImage2D(3553,0,Te,ze.width,ze.height,0,Ie,J,null);else if(k.isDataTexture)if(Fe.length>0&&nt){for(let ye=0,We=Fe.length;ye<We;ye++)Ae=Fe[ye],t.texImage2D(3553,ye,Te,Ae.width,Ae.height,0,Ie,J,Ae.data);k.generateMipmaps=!1,z.__maxMipLevel=Fe.length-1}else t.texImage2D(3553,0,Te,ze.width,ze.height,0,Ie,J,ze.data),z.__maxMipLevel=0;else if(k.isCompressedTexture){for(let ye=0,We=Fe.length;ye<We;ye++)Ae=Fe[ye],k.format!==xi&&k.format!==vr?Ie!==null?t.compressedTexImage2D(3553,ye,Te,Ae.width,Ae.height,0,Ae.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,ye,Te,Ae.width,Ae.height,0,Ie,J,Ae.data);z.__maxMipLevel=Fe.length-1}else if(k.isDataTexture2DArray)t.texImage3D(35866,0,Te,ze.width,ze.height,ze.depth,0,Ie,J,ze.data),z.__maxMipLevel=0;else if(k.isDataTexture3D)t.texImage3D(32879,0,Te,ze.width,ze.height,ze.depth,0,Ie,J,ze.data),z.__maxMipLevel=0;else if(Fe.length>0&&nt){for(let ye=0,We=Fe.length;ye<We;ye++)Ae=Fe[ye],t.texImage2D(3553,ye,Te,Ie,J,Ae);k.generateMipmaps=!1,z.__maxMipLevel=Fe.length-1}else t.texImage2D(3553,0,Te,Ie,J,ze),z.__maxMipLevel=0;B(k,nt)&&O(ce,k,ze.width,ze.height),z.__version=k.version,k.onUpdate&&k.onUpdate(k)}function ne(z,k,oe){if(k.image.length!==6)return;L(z,k),t.activeTexture(33984+oe),t.bindTexture(34067,z.__webglTexture),r.pixelStorei(37440,k.flipY),r.pixelStorei(37441,k.premultiplyAlpha),r.pixelStorei(3317,k.unpackAlignment),r.pixelStorei(37443,0);const ce=k&&(k.isCompressedTexture||k.image[0].isCompressedTexture),Ee=k.image[0]&&k.image[0].isDataTexture,ze=[];for(let ye=0;ye<6;ye++)!ce&&!Ee?ze[ye]=_(k.image[ye],!1,!0,f):ze[ye]=Ee?k.image[ye].image:k.image[ye];const nt=ze[0],Ie=S(nt)||d,J=l.convert(k.format),Te=l.convert(k.type),Ae=D(k.internalFormat,J,Te);he(34067,k,Ie);let Fe;if(ce){for(let ye=0;ye<6;ye++){Fe=ze[ye].mipmaps;for(let We=0;We<Fe.length;We++){const rt=Fe[We];k.format!==xi&&k.format!==vr?J!==null?t.compressedTexImage2D(34069+ye,We,Ae,rt.width,rt.height,0,rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+ye,We,Ae,rt.width,rt.height,0,J,Te,rt.data)}}z.__maxMipLevel=Fe.length-1}else{Fe=k.mipmaps;for(let ye=0;ye<6;ye++)if(Ee){t.texImage2D(34069+ye,0,Ae,ze[ye].width,ze[ye].height,0,J,Te,ze[ye].data);for(let We=0;We<Fe.length;We++){const Nt=Fe[We].image[ye].image;t.texImage2D(34069+ye,We+1,Ae,Nt.width,Nt.height,0,J,Te,Nt.data)}}else{t.texImage2D(34069+ye,0,Ae,J,Te,ze[ye]);for(let We=0;We<Fe.length;We++){const rt=Fe[We];t.texImage2D(34069+ye,We+1,Ae,J,Te,rt.image[ye])}}z.__maxMipLevel=Fe.length}B(k,Ie)&&O(34067,k,nt.width,nt.height),z.__version=k.version,k.onUpdate&&k.onUpdate(k)}function Y(z,k,oe,ce){const Ee=k.texture,ze=l.convert(Ee.format),nt=l.convert(Ee.type),Ie=D(Ee.internalFormat,ze,nt);ce===32879||ce===35866?t.texImage3D(ce,0,Ie,k.width,k.height,k.depth,0,ze,nt,null):t.texImage2D(ce,0,Ie,k.width,k.height,0,ze,nt,null),t.bindFramebuffer(36160,z),r.framebufferTexture2D(36160,oe,ce,a.get(Ee).__webglTexture,0),t.bindFramebuffer(36160,null)}function xe(z,k,oe){if(r.bindRenderbuffer(36161,z),k.depthBuffer&&!k.stencilBuffer){let ce=33189;if(oe){const Ee=k.depthTexture;Ee&&Ee.isDepthTexture&&(Ee.type===Va?ce=36012:Ee.type===vu&&(ce=33190));const ze=Xe(k);r.renderbufferStorageMultisample(36161,ze,ce,k.width,k.height)}else r.renderbufferStorage(36161,ce,k.width,k.height);r.framebufferRenderbuffer(36160,36096,36161,z)}else if(k.depthBuffer&&k.stencilBuffer){if(oe){const ce=Xe(k);r.renderbufferStorageMultisample(36161,ce,35056,k.width,k.height)}else r.renderbufferStorage(36161,34041,k.width,k.height);r.framebufferRenderbuffer(36160,33306,36161,z)}else{const ce=k.texture,Ee=l.convert(ce.format),ze=l.convert(ce.type),nt=D(ce.internalFormat,Ee,ze);if(oe){const Ie=Xe(k);r.renderbufferStorageMultisample(36161,Ie,nt,k.width,k.height)}else r.renderbufferStorage(36161,nt,k.width,k.height)}r.bindRenderbuffer(36161,null)}function we(z,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,z),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!a.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),N(k.depthTexture,0);const ce=a.get(k.depthTexture).__webglTexture;if(k.depthTexture.format===Us)r.framebufferTexture2D(36160,36096,3553,ce,0);else if(k.depthTexture.format===ul)r.framebufferTexture2D(36160,33306,3553,ce,0);else throw new Error("Unknown depthTexture format")}function ve(z){const k=a.get(z),oe=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");we(k.__webglFramebuffer,z)}else if(oe){k.__webglDepthbuffer=[];for(let ce=0;ce<6;ce++)t.bindFramebuffer(36160,k.__webglFramebuffer[ce]),k.__webglDepthbuffer[ce]=r.createRenderbuffer(),xe(k.__webglDepthbuffer[ce],z,!1)}else t.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=r.createRenderbuffer(),xe(k.__webglDepthbuffer,z,!1);t.bindFramebuffer(36160,null)}function _e(z){const k=z.texture,oe=a.get(z),ce=a.get(k);z.addEventListener("dispose",q),ce.__webglTexture=r.createTexture(),ce.__version=k.version,c.memory.textures++;const Ee=z.isWebGLCubeRenderTarget===!0,ze=z.isWebGLMultisampleRenderTarget===!0,nt=k.isDataTexture3D||k.isDataTexture2DArray,Ie=S(z)||d;if(d&&k.format===vr&&(k.type===Va||k.type===_u)&&(k.format=xi,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Ee){oe.__webglFramebuffer=[];for(let J=0;J<6;J++)oe.__webglFramebuffer[J]=r.createFramebuffer()}else if(oe.__webglFramebuffer=r.createFramebuffer(),ze)if(d){oe.__webglMultisampledFramebuffer=r.createFramebuffer(),oe.__webglColorRenderbuffer=r.createRenderbuffer(),r.bindRenderbuffer(36161,oe.__webglColorRenderbuffer);const J=l.convert(k.format),Te=l.convert(k.type),Ae=D(k.internalFormat,J,Te),Fe=Xe(z);r.renderbufferStorageMultisample(36161,Fe,Ae,z.width,z.height),t.bindFramebuffer(36160,oe.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064,36161,oe.__webglColorRenderbuffer),r.bindRenderbuffer(36161,null),z.depthBuffer&&(oe.__webglDepthRenderbuffer=r.createRenderbuffer(),xe(oe.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Ee){t.bindTexture(34067,ce.__webglTexture),he(34067,k,Ie);for(let J=0;J<6;J++)Y(oe.__webglFramebuffer[J],z,36064,34069+J);B(k,Ie)&&O(34067,k,z.width,z.height),t.bindTexture(34067,null)}else{let J=3553;nt&&(d?J=k.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(J,ce.__webglTexture),he(J,k,Ie),Y(oe.__webglFramebuffer,z,36064,J),B(k,Ie)&&O(3553,k,z.width,z.height),t.bindTexture(3553,null)}z.depthBuffer&&ve(z)}function Ne(z){const k=z.texture,oe=S(z)||d;if(B(k,oe)){const ce=z.isWebGLCubeRenderTarget?34067:3553,Ee=a.get(k).__webglTexture;t.bindTexture(ce,Ee),O(ce,k,z.width,z.height),t.bindTexture(ce,null)}}function Re(z){if(z.isWebGLMultisampleRenderTarget)if(d){const k=z.width,oe=z.height;let ce=16384;z.depthBuffer&&(ce|=256),z.stencilBuffer&&(ce|=1024);const Ee=a.get(z);t.bindFramebuffer(36008,Ee.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ee.__webglFramebuffer),r.blitFramebuffer(0,0,k,oe,0,0,k,oe,ce,9728),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,Ee.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Xe(z){return d&&z.isWebGLMultisampleRenderTarget?Math.min(y,z.samples):0}function Me(z){const k=c.render.frame;v.get(z)!==k&&(v.set(z,k),z.update())}let Ce=!1,be=!1;function Oe(z,k){z&&z.isWebGLRenderTarget&&(Ce===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Ce=!0),z=z.texture),N(z,k)}function ke(z,k){z&&z.isWebGLCubeRenderTarget&&(be===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),be=!0),z=z.texture),H(z,k)}this.allocateTextureUnit=K,this.resetTextureUnits=re,this.setTexture2D=N,this.setTexture2DArray=V,this.setTexture3D=C,this.setTextureCube=H,this.setupRenderTarget=_e,this.updateRenderTargetMipmap=Ne,this.updateMultisampleRenderTarget=Re,this.safeSetTexture2D=Oe,this.safeSetTextureCube=ke}function q3(r,e,t){const a=t.isWebGL2;function s(l){let c;if(l===zp)return 5121;if(l===x2)return 32819;if(l===w2)return 32820;if(l===S2)return 33635;if(l===y2)return 5120;if(l===v2)return 5122;if(l===Tu)return 5123;if(l===b2)return 5124;if(l===vu)return 5125;if(l===Va)return 5126;if(l===_u)return a?5131:(c=e.get("OES_texture_half_float"),c!==null?c.HALF_FLOAT_OES:null);if(l===M2)return 6406;if(l===vr)return 6407;if(l===xi)return 6408;if(l===T2)return 6409;if(l===_2)return 6410;if(l===Us)return 6402;if(l===ul)return 34041;if(l===E2)return 6403;if(l===C2)return 36244;if(l===A2)return 33319;if(l===R2)return 33320;if(l===L2)return 36248;if(l===k2)return 36249;if(l===E0||l===C0||l===A0||l===R0)if(c=e.get("WEBGL_compressed_texture_s3tc"),c!==null){if(l===E0)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(l===C0)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(l===A0)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(l===R0)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(l===L0||l===k0||l===N0||l===U0)if(c=e.get("WEBGL_compressed_texture_pvrtc"),c!==null){if(l===L0)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(l===k0)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(l===N0)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(l===U0)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(l===N2)return c=e.get("WEBGL_compressed_texture_etc1"),c!==null?c.COMPRESSED_RGB_ETC1_WEBGL:null;if((l===B0||l===D0)&&(c=e.get("WEBGL_compressed_texture_etc"),c!==null)){if(l===B0)return c.COMPRESSED_RGB8_ETC2;if(l===D0)return c.COMPRESSED_RGBA8_ETC2_EAC}if(l===U2||l===B2||l===D2||l===P2||l===O2||l===z2||l===I2||l===F2||l===G2||l===H2||l===V2||l===W2||l===j2||l===q2||l===Y2||l===J2||l===$2||l===X2||l===Z2||l===Q2||l===e_||l===t_||l===n_||l===i_||l===a_||l===r_||l===s_||l===o_)return c=e.get("WEBGL_compressed_texture_astc"),c!==null?l:null;if(l===K2)return c=e.get("EXT_texture_compression_bptc"),c!==null?l:null;if(l===rl)return a?34042:(c=e.get("WEBGL_depth_texture"),c!==null?c.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:s}}class Kx extends In{constructor(e=[]){super(),this.cameras=e}}Kx.prototype.isArrayCamera=!0;class Ls extends Mt{constructor(){super(),this.type="Group"}}Ls.prototype.isGroup=!0;const K3={type:"move"};class Of{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ls,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ls,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new I,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new I),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ls,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new I,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new I),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,a){let s=null,l=null,c=null;const d=this._targetRay,h=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(d!==null&&(s=t.getPose(e.targetRaySpace,a),s!==null&&(d.matrix.fromArray(s.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),s.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(s.linearVelocity)):d.hasLinearVelocity=!1,s.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(s.angularVelocity)):d.hasAngularVelocity=!1,this.dispatchEvent(K3))),f&&e.hand){c=!0;for(const T of e.hand.values()){const _=t.getJointPose(T,a);if(f.joints[T.jointName]===void 0){const x=new Ls;x.matrixAutoUpdate=!1,x.visible=!1,f.joints[T.jointName]=x,f.add(x)}const S=f.joints[T.jointName];_!==null&&(S.matrix.fromArray(_.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.jointRadius=_.radius),S.visible=_!==null}const g=f.joints["index-finger-tip"],y=f.joints["thumb-tip"],v=g.position.distanceTo(y.position),b=.02,w=.005;f.inputState.pinching&&v>b+w?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&v<=b-w&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(l=t.getPose(e.gripSpace,a),l!==null&&(h.matrix.fromArray(l.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),l.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(l.linearVelocity)):h.hasLinearVelocity=!1,l.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(l.angularVelocity)):h.hasAngularVelocity=!1));return d!==null&&(d.visible=s!==null),h!==null&&(h.visible=l!==null),f!==null&&(f.visible=c!==null),this}}class Y3 extends _r{constructor(e,t){super();const a=this,s=e.state;let l=null,c=1,d=null,h="local-floor",f=null;const g=[],y=new Map,v=new In;v.layers.enable(1),v.viewport=new Lt;const b=new In;b.layers.enable(2),b.viewport=new Lt;const w=[v,b],T=new Kx;T.layers.enable(1),T.layers.enable(2);let _=null,S=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let K=g[re];return K===void 0&&(K=new Of,g[re]=K),K.getTargetRaySpace()},this.getControllerGrip=function(re){let K=g[re];return K===void 0&&(K=new Of,g[re]=K),K.getGripSpace()},this.getHand=function(re){let K=g[re];return K===void 0&&(K=new Of,g[re]=K),K.getHandSpace()};function x(re){const K=y.get(re.inputSource);K&&K.dispatchEvent({type:re.type,data:re.inputSource})}function B(){y.forEach(function(re,K){re.disconnect(K)}),y.clear(),_=null,S=null,s.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),de.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){c=re,a.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){h=re,a.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d},this.getSession=function(){return l},this.setSession=async function(re){if(l=re,l!==null){l.addEventListener("select",x),l.addEventListener("selectstart",x),l.addEventListener("selectend",x),l.addEventListener("squeeze",x),l.addEventListener("squeezestart",x),l.addEventListener("squeezeend",x),l.addEventListener("end",B),l.addEventListener("inputsourceschange",O);const K=t.getContextAttributes();K.xrCompatible!==!0&&await t.makeXRCompatible();const N={antialias:K.antialias,alpha:K.alpha,depth:K.depth,stencil:K.stencil,framebufferScaleFactor:c},V=new XRWebGLLayer(l,t,N);l.updateRenderState({baseLayer:V}),d=await l.requestReferenceSpace(h),de.setContext(l),de.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"})}};function O(re){const K=l.inputSources;for(let N=0;N<g.length;N++)y.set(K[N],g[N]);for(let N=0;N<re.removed.length;N++){const V=re.removed[N],C=y.get(V);C&&(C.dispatchEvent({type:"disconnected",data:V}),y.delete(V))}for(let N=0;N<re.added.length;N++){const V=re.added[N],C=y.get(V);C&&C.dispatchEvent({type:"connected",data:V})}}const D=new I,A=new I;function P(re,K,N){D.setFromMatrixPosition(K.matrixWorld),A.setFromMatrixPosition(N.matrixWorld);const V=D.distanceTo(A),C=K.projectionMatrix.elements,H=N.projectionMatrix.elements,Z=C[14]/(C[10]-1),se=C[14]/(C[10]+1),he=(C[9]+1)/C[5],L=(C[9]-1)/C[5],W=(C[8]-1)/C[0],ne=(H[8]+1)/H[0],Y=Z*W,xe=Z*ne,we=V/(-W+ne),ve=we*-W;K.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(ve),re.translateZ(we),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert();const _e=Z+we,Ne=se+we,Re=Y-ve,Xe=xe+(V-ve),Me=he*se/Ne*_e,Ce=L*se/Ne*_e;re.projectionMatrix.makePerspective(Re,Xe,Me,Ce,_e,Ne)}function q(re,K){K===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(K.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.getCamera=function(re){T.near=b.near=v.near=re.near,T.far=b.far=v.far=re.far,(_!==T.near||S!==T.far)&&(l.updateRenderState({depthNear:T.near,depthFar:T.far}),_=T.near,S=T.far);const K=re.parent,N=T.cameras;q(T,K);for(let C=0;C<N.length;C++)q(N[C],K);re.matrixWorld.copy(T.matrixWorld),re.matrix.copy(T.matrix),re.matrix.decompose(re.position,re.quaternion,re.scale);const V=re.children;for(let C=0,H=V.length;C<H;C++)V[C].updateMatrixWorld(!0);return N.length===2?P(T,v,b):T.projectionMatrix.copy(v.projectionMatrix),T};let X=null;function te(re,K){if(f=K.getViewerPose(d),f!==null){const V=f.views,C=l.renderState.baseLayer;s.bindXRFramebuffer(C.framebuffer);let H=!1;V.length!==T.cameras.length&&(T.cameras.length=0,H=!0);for(let Z=0;Z<V.length;Z++){const se=V[Z],he=C.getViewport(se),L=w[Z];L.matrix.fromArray(se.transform.matrix),L.projectionMatrix.fromArray(se.projectionMatrix),L.viewport.set(he.x,he.y,he.width,he.height),Z===0&&T.matrix.copy(L.matrix),H===!0&&T.cameras.push(L)}}const N=l.inputSources;for(let V=0;V<g.length;V++){const C=g[V],H=N[V];C.update(H,K,d)}X&&X(re,K)}const de=new Bx;de.setAnimationLoop(te),this.setAnimationLoop=function(re){X=re},this.dispose=function(){}}}function J3(r){function e(S,x){S.fogColor.value.copy(x.color),x.isFog?(S.fogNear.value=x.near,S.fogFar.value=x.far):x.isFogExp2&&(S.fogDensity.value=x.density)}function t(S,x,B,O){x.isMeshBasicMaterial?a(S,x):x.isMeshLambertMaterial?(a(S,x),h(S,x)):x.isMeshToonMaterial?(a(S,x),g(S,x)):x.isMeshPhongMaterial?(a(S,x),f(S,x)):x.isMeshStandardMaterial?(a(S,x),x.isMeshPhysicalMaterial?v(S,x):y(S,x)):x.isMeshMatcapMaterial?(a(S,x),b(S,x)):x.isMeshDepthMaterial?(a(S,x),w(S,x)):x.isMeshDistanceMaterial?(a(S,x),T(S,x)):x.isMeshNormalMaterial?(a(S,x),_(S,x)):x.isLineBasicMaterial?(s(S,x),x.isLineDashedMaterial&&l(S,x)):x.isPointsMaterial?c(S,x,B,O):x.isSpriteMaterial?d(S,x):x.isShadowMaterial?(S.color.value.copy(x.color),S.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function a(S,x){S.opacity.value=x.opacity,x.color&&S.diffuse.value.copy(x.color),x.emissive&&S.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(S.map.value=x.map),x.alphaMap&&(S.alphaMap.value=x.alphaMap),x.specularMap&&(S.specularMap.value=x.specularMap);const B=r.get(x).envMap;if(B){S.envMap.value=B,S.flipEnvMap.value=B.isCubeTexture&&B._needsFlipEnvMap?-1:1,S.reflectivity.value=x.reflectivity,S.refractionRatio.value=x.refractionRatio;const A=r.get(B).__maxMipLevel;A!==void 0&&(S.maxMipLevel.value=A)}x.lightMap&&(S.lightMap.value=x.lightMap,S.lightMapIntensity.value=x.lightMapIntensity),x.aoMap&&(S.aoMap.value=x.aoMap,S.aoMapIntensity.value=x.aoMapIntensity);let O;x.map?O=x.map:x.specularMap?O=x.specularMap:x.displacementMap?O=x.displacementMap:x.normalMap?O=x.normalMap:x.bumpMap?O=x.bumpMap:x.roughnessMap?O=x.roughnessMap:x.metalnessMap?O=x.metalnessMap:x.alphaMap?O=x.alphaMap:x.emissiveMap?O=x.emissiveMap:x.clearcoatMap?O=x.clearcoatMap:x.clearcoatNormalMap?O=x.clearcoatNormalMap:x.clearcoatRoughnessMap&&(O=x.clearcoatRoughnessMap),O!==void 0&&(O.isWebGLRenderTarget&&(O=O.texture),O.matrixAutoUpdate===!0&&O.updateMatrix(),S.uvTransform.value.copy(O.matrix));let D;x.aoMap?D=x.aoMap:x.lightMap&&(D=x.lightMap),D!==void 0&&(D.isWebGLRenderTarget&&(D=D.texture),D.matrixAutoUpdate===!0&&D.updateMatrix(),S.uv2Transform.value.copy(D.matrix))}function s(S,x){S.diffuse.value.copy(x.color),S.opacity.value=x.opacity}function l(S,x){S.dashSize.value=x.dashSize,S.totalSize.value=x.dashSize+x.gapSize,S.scale.value=x.scale}function c(S,x,B,O){S.diffuse.value.copy(x.color),S.opacity.value=x.opacity,S.size.value=x.size*B,S.scale.value=O*.5,x.map&&(S.map.value=x.map),x.alphaMap&&(S.alphaMap.value=x.alphaMap);let D;x.map?D=x.map:x.alphaMap&&(D=x.alphaMap),D!==void 0&&(D.matrixAutoUpdate===!0&&D.updateMatrix(),S.uvTransform.value.copy(D.matrix))}function d(S,x){S.diffuse.value.copy(x.color),S.opacity.value=x.opacity,S.rotation.value=x.rotation,x.map&&(S.map.value=x.map),x.alphaMap&&(S.alphaMap.value=x.alphaMap);let B;x.map?B=x.map:x.alphaMap&&(B=x.alphaMap),B!==void 0&&(B.matrixAutoUpdate===!0&&B.updateMatrix(),S.uvTransform.value.copy(B.matrix))}function h(S,x){x.emissiveMap&&(S.emissiveMap.value=x.emissiveMap)}function f(S,x){S.specular.value.copy(x.specular),S.shininess.value=Math.max(x.shininess,1e-4),x.emissiveMap&&(S.emissiveMap.value=x.emissiveMap),x.bumpMap&&(S.bumpMap.value=x.bumpMap,S.bumpScale.value=x.bumpScale,x.side===rn&&(S.bumpScale.value*=-1)),x.normalMap&&(S.normalMap.value=x.normalMap,S.normalScale.value.copy(x.normalScale),x.side===rn&&S.normalScale.value.negate()),x.displacementMap&&(S.displacementMap.value=x.displacementMap,S.displacementScale.value=x.displacementScale,S.displacementBias.value=x.displacementBias)}function g(S,x){x.gradientMap&&(S.gradientMap.value=x.gradientMap),x.emissiveMap&&(S.emissiveMap.value=x.emissiveMap),x.bumpMap&&(S.bumpMap.value=x.bumpMap,S.bumpScale.value=x.bumpScale,x.side===rn&&(S.bumpScale.value*=-1)),x.normalMap&&(S.normalMap.value=x.normalMap,S.normalScale.value.copy(x.normalScale),x.side===rn&&S.normalScale.value.negate()),x.displacementMap&&(S.displacementMap.value=x.displacementMap,S.displacementScale.value=x.displacementScale,S.displacementBias.value=x.displacementBias)}function y(S,x){S.roughness.value=x.roughness,S.metalness.value=x.metalness,x.roughnessMap&&(S.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(S.metalnessMap.value=x.metalnessMap),x.emissiveMap&&(S.emissiveMap.value=x.emissiveMap),x.bumpMap&&(S.bumpMap.value=x.bumpMap,S.bumpScale.value=x.bumpScale,x.side===rn&&(S.bumpScale.value*=-1)),x.normalMap&&(S.normalMap.value=x.normalMap,S.normalScale.value.copy(x.normalScale),x.side===rn&&S.normalScale.value.negate()),x.displacementMap&&(S.displacementMap.value=x.displacementMap,S.displacementScale.value=x.displacementScale,S.displacementBias.value=x.displacementBias),r.get(x).envMap&&(S.envMapIntensity.value=x.envMapIntensity)}function v(S,x){y(S,x),S.reflectivity.value=x.reflectivity,S.clearcoat.value=x.clearcoat,S.clearcoatRoughness.value=x.clearcoatRoughness,x.sheen&&S.sheen.value.copy(x.sheen),x.clearcoatMap&&(S.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(S.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),S.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===rn&&S.clearcoatNormalScale.value.negate()),S.transmission.value=x.transmission,x.transmissionMap&&(S.transmissionMap.value=x.transmissionMap)}function b(S,x){x.matcap&&(S.matcap.value=x.matcap),x.bumpMap&&(S.bumpMap.value=x.bumpMap,S.bumpScale.value=x.bumpScale,x.side===rn&&(S.bumpScale.value*=-1)),x.normalMap&&(S.normalMap.value=x.normalMap,S.normalScale.value.copy(x.normalScale),x.side===rn&&S.normalScale.value.negate()),x.displacementMap&&(S.displacementMap.value=x.displacementMap,S.displacementScale.value=x.displacementScale,S.displacementBias.value=x.displacementBias)}function w(S,x){x.displacementMap&&(S.displacementMap.value=x.displacementMap,S.displacementScale.value=x.displacementScale,S.displacementBias.value=x.displacementBias)}function T(S,x){x.displacementMap&&(S.displacementMap.value=x.displacementMap,S.displacementScale.value=x.displacementScale,S.displacementBias.value=x.displacementBias),S.referencePosition.value.copy(x.referencePosition),S.nearDistance.value=x.nearDistance,S.farDistance.value=x.farDistance}function _(S,x){x.bumpMap&&(S.bumpMap.value=x.bumpMap,S.bumpScale.value=x.bumpScale,x.side===rn&&(S.bumpScale.value*=-1)),x.normalMap&&(S.normalMap.value=x.normalMap,S.normalScale.value.copy(x.normalScale),x.side===rn&&S.normalScale.value.negate()),x.displacementMap&&(S.displacementMap.value=x.displacementMap,S.displacementScale.value=x.displacementScale,S.displacementBias.value=x.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function $3(){const r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.style.display="block",r}function kt(r){r=r||{};const e=r.canvas!==void 0?r.canvas:$3(),t=r.context!==void 0?r.context:null,a=r.alpha!==void 0?r.alpha:!1,s=r.depth!==void 0?r.depth:!0,l=r.stencil!==void 0?r.stencil:!0,c=r.antialias!==void 0?r.antialias:!1,d=r.premultipliedAlpha!==void 0?r.premultipliedAlpha:!0,h=r.preserveDrawingBuffer!==void 0?r.preserveDrawingBuffer:!1,f=r.powerPreference!==void 0?r.powerPreference:"default",g=r.failIfMajorPerformanceCaveat!==void 0?r.failIfMajorPerformanceCaveat:!1;let y=null,v=null;const b=[],w=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=bl,this.physicallyCorrectLights=!1,this.toneMapping=al,this.toneMappingExposure=1;const T=this;let _=!1,S=0,x=0,B=null,O=-1,D=null;const A=new Lt,P=new Lt;let q=null,X=e.width,te=e.height,de=1,re=null,K=null;const N=new Lt(0,0,X,te),V=new Lt(0,0,X,te);let C=!1;const H=new Iu;let Z=!1,se=!1;const he=new Je,L=new I,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ne(){return B===null?de:1}let Y=t;function xe(U,ue){for(let ae=0;ae<U.length;ae++){const me=U[ae],Ue=e.getContext(me,ue);if(Ue!==null)return Ue}return null}try{const U={alpha:a,depth:s,stencil:l,antialias:c,premultipliedAlpha:d,preserveDrawingBuffer:h,powerPreference:f,failIfMajorPerformanceCaveat:g};if(e.addEventListener("webglcontextlost",We,!1),e.addEventListener("webglcontextrestored",rt,!1),Y===null){const ue=["webgl2","webgl","experimental-webgl"];if(T.isWebGL1Renderer===!0&&ue.shift(),Y=xe(ue,U),Y===null)throw xe(ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let we,ve,_e,Ne,Re,Xe,Me,Ce,be,Oe,ke,z,k,oe,ce,Ee,ze,nt,Ie,J,Te,Ae;function Fe(){we=new vA(Y),ve=new mA(Y,we,r),we.init(ve),Te=new q3(Y,we,ve),_e=new W3(Y,we,ve),Ne=new wA,Re=new N3,Xe=new j3(Y,we,_e,Re,ve,Te,Ne),Me=new yA(T),Ce=new V_(Y,ve),Ae=new fA(Y,we,Ce,ve),be=new bA(Y,Ce,Ne,Ae),Oe=new _A(Y,be,Ce,Ne),nt=new TA(Y),ce=new gA(Re),ke=new k3(T,Me,we,ve,Ae,ce),z=new J3(Re),k=new D3(Re),oe=new G3(we,ve),ze=new hA(T,Me,_e,Oe,d),Ee=new qx(T,Oe,ve),Ie=new pA(Y,we,Ne,ve),J=new xA(Y,we,Ne,ve),Ne.programs=ke.programs,T.capabilities=ve,T.extensions=we,T.properties=Re,T.renderLists=k,T.shadowMap=Ee,T.state=_e,T.info=Ne}Fe();const ye=new Y3(T,Y);this.xr=ye,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const U=we.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=we.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return de},this.setPixelRatio=function(U){U!==void 0&&(de=U,this.setSize(X,te,!1))},this.getSize=function(U){return U===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),U=new Le),U.set(X,te)},this.setSize=function(U,ue,ae){if(ye.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=U,te=ue,e.width=Math.floor(U*de),e.height=Math.floor(ue*de),ae!==!1&&(e.style.width=U+"px",e.style.height=ue+"px"),this.setViewport(0,0,U,ue)},this.getDrawingBufferSize=function(U){return U===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),U=new Le),U.set(X*de,te*de).floor()},this.setDrawingBufferSize=function(U,ue,ae){X=U,te=ue,de=ae,e.width=Math.floor(U*ae),e.height=Math.floor(ue*ae),this.setViewport(0,0,U,ue)},this.getCurrentViewport=function(U){return U===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),U=new Lt),U.copy(A)},this.getViewport=function(U){return U.copy(N)},this.setViewport=function(U,ue,ae,me){U.isVector4?N.set(U.x,U.y,U.z,U.w):N.set(U,ue,ae,me),_e.viewport(A.copy(N).multiplyScalar(de).floor())},this.getScissor=function(U){return U.copy(V)},this.setScissor=function(U,ue,ae,me){U.isVector4?V.set(U.x,U.y,U.z,U.w):V.set(U,ue,ae,me),_e.scissor(P.copy(V).multiplyScalar(de).floor())},this.getScissorTest=function(){return C},this.setScissorTest=function(U){_e.setScissorTest(C=U)},this.setOpaqueSort=function(U){re=U},this.setTransparentSort=function(U){K=U},this.getClearColor=function(U){return U===void 0&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),U=new qe),U.copy(ze.getClearColor())},this.setClearColor=function(){ze.setClearColor.apply(ze,arguments)},this.getClearAlpha=function(){return ze.getClearAlpha()},this.setClearAlpha=function(){ze.setClearAlpha.apply(ze,arguments)},this.clear=function(U,ue,ae){let me=0;(U===void 0||U)&&(me|=16384),(ue===void 0||ue)&&(me|=256),(ae===void 0||ae)&&(me|=1024),Y.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",We,!1),e.removeEventListener("webglcontextrestored",rt,!1),k.dispose(),oe.dispose(),Re.dispose(),Me.dispose(),Oe.dispose(),Ae.dispose(),ye.dispose(),ye.removeEventListener("sessionstart",Bt),ye.removeEventListener("sessionend",it),dt.stop()};function We(U){U.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function rt(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const U=Ne.autoReset,ue=Ee.enabled,ae=Ee.autoUpdate,me=Ee.needsUpdate,Ue=Ee.type;Fe(),Ne.autoReset=U,Ee.enabled=ue,Ee.autoUpdate=ae,Ee.needsUpdate=me,Ee.type=Ue}function Nt(U){const ue=U.target;ue.removeEventListener("dispose",Nt),fn(ue)}function fn(U){st(U),Re.remove(U)}function st(U){const ue=Re.get(U).programs;ue!==void 0&&ue.forEach(function(ae){ke.releaseProgram(ae)})}function Se(U,ue){U.render(function(ae){T.renderBufferImmediate(ae,ue)})}this.renderBufferImmediate=function(U,ue){Ae.initAttributes();const ae=Re.get(U);U.hasPositions&&!ae.position&&(ae.position=Y.createBuffer()),U.hasNormals&&!ae.normal&&(ae.normal=Y.createBuffer()),U.hasUvs&&!ae.uv&&(ae.uv=Y.createBuffer()),U.hasColors&&!ae.color&&(ae.color=Y.createBuffer());const me=ue.getAttributes();U.hasPositions&&(Y.bindBuffer(34962,ae.position),Y.bufferData(34962,U.positionArray,35048),Ae.enableAttribute(me.position),Y.vertexAttribPointer(me.position,3,5126,!1,0,0)),U.hasNormals&&(Y.bindBuffer(34962,ae.normal),Y.bufferData(34962,U.normalArray,35048),Ae.enableAttribute(me.normal),Y.vertexAttribPointer(me.normal,3,5126,!1,0,0)),U.hasUvs&&(Y.bindBuffer(34962,ae.uv),Y.bufferData(34962,U.uvArray,35048),Ae.enableAttribute(me.uv),Y.vertexAttribPointer(me.uv,2,5126,!1,0,0)),U.hasColors&&(Y.bindBuffer(34962,ae.color),Y.bufferData(34962,U.colorArray,35048),Ae.enableAttribute(me.color),Y.vertexAttribPointer(me.color,3,5126,!1,0,0)),Ae.disableUnusedAttributes(),Y.drawArrays(4,0,U.count),U.count=0},this.renderBufferDirect=function(U,ue,ae,me,Ue,ot){ue===null&&(ue=W);const $e=Ue.isMesh&&Ue.matrixWorld.determinant()<0,Ze=wl(U,ue,me,Ue);_e.setMaterial(me,$e);let St=ae.index;const je=ae.attributes.position;if(St===null){if(je===void 0||je.count===0)return}else if(St.count===0)return;let Ye=1;me.wireframe===!0&&(St=be.getWireframeAttribute(ae),Ye=2),(me.morphTargets||me.morphNormals)&&nt.update(Ue,ae,me,Ze),Ae.setup(Ue,me,Ze,ae,St);let He,ht=Ie;St!==null&&(He=Ce.get(St),ht=J,ht.setIndex(He));const Nn=St!==null?St.count:je.count,pn=ae.drawRange.start*Ye,Ui=ae.drawRange.count*Ye,jt=ot!==null?ot.start*Ye:0,Fn=ot!==null?ot.count*Ye:1/0,zt=Math.max(pn,jt),wi=Math.min(Nn,pn+Ui,jt+Fn)-1,Yt=Math.max(0,wi-zt+1);if(Yt!==0){if(Ue.isMesh)me.wireframe===!0?(_e.setLineWidth(me.wireframeLinewidth*ne()),ht.setMode(1)):ht.setMode(4);else if(Ue.isLine){let En=me.linewidth;En===void 0&&(En=1),_e.setLineWidth(En*ne()),Ue.isLineSegments?ht.setMode(1):Ue.isLineLoop?ht.setMode(2):ht.setMode(3)}else Ue.isPoints?ht.setMode(0):Ue.isSprite&&ht.setMode(4);if(Ue.isInstancedMesh)ht.renderInstances(zt,Yt,Ue.count);else if(ae.isInstancedBufferGeometry){const En=Math.min(ae.instanceCount,ae._maxInstanceCount);ht.renderInstances(zt,Yt,En)}else ht.render(zt,Yt)}},this.compile=function(U,ue){v=oe.get(U),v.init(),U.traverseVisible(function(ae){ae.isLight&&ae.layers.test(ue.layers)&&(v.pushLight(ae),ae.castShadow&&v.pushShadow(ae))}),v.setupLights(),U.traverse(function(ae){const me=ae.material;if(me)if(Array.isArray(me))for(let Ue=0;Ue<me.length;Ue++){const ot=me[Ue];Zn(ot,U,ae)}else Zn(me,U,ae)})};let De=null;function xt(U){De&&De(U)}function Bt(){dt.stop()}function it(){dt.start()}const dt=new Bx;dt.setAnimationLoop(xt),typeof window<"u"&&dt.setContext(window),this.setAnimationLoop=function(U){De=U,ye.setAnimationLoop(U),U===null?dt.stop():dt.start()},ye.addEventListener("sessionstart",Bt),ye.addEventListener("sessionend",it),this.render=function(U,ue){let ae,me;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),ae=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),me=arguments[3]),ue!==void 0&&ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;U.autoUpdate===!0&&U.updateMatrixWorld(),ue.parent===null&&ue.updateMatrixWorld(),ye.enabled===!0&&ye.isPresenting===!0&&(ue=ye.getCamera(ue)),U.isScene===!0&&U.onBeforeRender(T,U,ue,ae||B),v=oe.get(U,w.length),v.init(),w.push(v),he.multiplyMatrices(ue.projectionMatrix,ue.matrixWorldInverse),H.setFromProjectionMatrix(he),se=this.localClippingEnabled,Z=ce.init(this.clippingPlanes,se,ue),y=k.get(U,b.length),y.init(),b.push(y),nn(U,ue,0,T.sortObjects),y.finish(),T.sortObjects===!0&&y.sort(re,K),Z===!0&&ce.beginShadows();const Ue=v.state.shadowsArray;Ee.render(Ue,U,ue),v.setupLights(),v.setupLightsView(ue),Z===!0&&ce.endShadows(),this.info.autoReset===!0&&this.info.reset(),ae!==void 0&&this.setRenderTarget(ae),ze.render(y,U,ue,me);const ot=y.opaque,$e=y.transparent;ot.length>0&&_n(ot,U,ue),$e.length>0&&_n($e,U,ue),B!==null&&(Xe.updateRenderTargetMipmap(B),Xe.updateMultisampleRenderTarget(B)),U.isScene===!0&&U.onAfterRender(T,U,ue),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1),Ae.resetDefaultState(),O=-1,D=null,w.pop(),w.length>0?v=w[w.length-1]:v=null,b.pop(),b.length>0?y=b[b.length-1]:y=null};function nn(U,ue,ae,me){if(U.visible===!1)return;if(U.layers.test(ue.layers)){if(U.isGroup)ae=U.renderOrder;else if(U.isLOD)U.autoUpdate===!0&&U.update(ue);else if(U.isLight)v.pushLight(U),U.castShadow&&v.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||H.intersectsSprite(U)){me&&L.setFromMatrixPosition(U.matrixWorld).applyMatrix4(he);const $e=Oe.update(U),Ze=U.material;Ze.visible&&y.push(U,$e,Ze,ae,L.z,null)}}else if(U.isImmediateRenderObject)me&&L.setFromMatrixPosition(U.matrixWorld).applyMatrix4(he),y.push(U,null,U.material,ae,L.z,null);else if((U.isMesh||U.isLine||U.isPoints)&&(U.isSkinnedMesh&&U.skeleton.frame!==Ne.render.frame&&(U.skeleton.update(),U.skeleton.frame=Ne.render.frame),!U.frustumCulled||H.intersectsObject(U))){me&&L.setFromMatrixPosition(U.matrixWorld).applyMatrix4(he);const $e=Oe.update(U),Ze=U.material;if(Array.isArray(Ze)){const St=$e.groups;for(let je=0,Ye=St.length;je<Ye;je++){const He=St[je],ht=Ze[He.materialIndex];ht&&ht.visible&&y.push(U,$e,ht,ae,L.z,He)}}else Ze.visible&&y.push(U,$e,Ze,ae,L.z,null)}}const ot=U.children;for(let $e=0,Ze=ot.length;$e<Ze;$e++)nn(ot[$e],ue,ae,me)}function _n(U,ue,ae){const me=ue.isScene===!0?ue.overrideMaterial:null;for(let Ue=0,ot=U.length;Ue<ot;Ue++){const $e=U[Ue],Ze=$e.object,St=$e.geometry,je=me===null?$e.material:me,Ye=$e.group;if(ae.isArrayCamera){const He=ae.cameras;for(let ht=0,Nn=He.length;ht<Nn;ht++){const pn=He[ht];Ze.layers.test(pn.layers)&&(_e.viewport(A.copy(pn.viewport)),v.setupLightsView(pn),Xn(Ze,ue,pn,St,je,Ye))}}else Xn(Ze,ue,ae,St,je,Ye)}}function Xn(U,ue,ae,me,Ue,ot){if(U.onBeforeRender(T,ue,ae,me,Ue,ot),U.modelViewMatrix.multiplyMatrices(ae.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),U.isImmediateRenderObject){const $e=wl(ae,ue,Ue,U);_e.setMaterial(Ue),Ae.reset(),Se(U,$e)}else T.renderBufferDirect(ae,ue,me,Ue,U,ot);U.onAfterRender(T,ue,ae,me,Ue,ot)}function Zn(U,ue,ae){ue.isScene!==!0&&(ue=W);const me=Re.get(U),Ue=v.state.lights,ot=v.state.shadowsArray,$e=Ue.state.version,Ze=ke.getParameters(U,Ue.state,ot,ue,ae),St=ke.getProgramCacheKey(Ze);let je=me.programs;me.environment=U.isMeshStandardMaterial?ue.environment:null,me.fog=ue.fog,me.envMap=Me.get(U.envMap||me.environment),je===void 0&&(U.addEventListener("dispose",Nt),je=new Map,me.programs=je);let Ye=je.get(St);if(Ye!==void 0){if(me.currentProgram===Ye&&me.lightsStateVersion===$e)return ca(U,Ze),Ye}else Ze.uniforms=ke.getUniforms(U),U.onBuild(Ze,T),U.onBeforeCompile(Ze,T),Ye=ke.acquireProgram(Ze,St),je.set(St,Ye),me.uniforms=Ze.uniforms;const He=me.uniforms;(!U.isShaderMaterial&&!U.isRawShaderMaterial||U.clipping===!0)&&(He.clippingPlanes=ce.uniform),ca(U,Ze),me.needsLights=Js(U),me.lightsStateVersion=$e,me.needsLights&&(He.ambientLightColor.value=Ue.state.ambient,He.lightProbe.value=Ue.state.probe,He.directionalLights.value=Ue.state.directional,He.directionalLightShadows.value=Ue.state.directionalShadow,He.spotLights.value=Ue.state.spot,He.spotLightShadows.value=Ue.state.spotShadow,He.rectAreaLights.value=Ue.state.rectArea,He.ltc_1.value=Ue.state.rectAreaLTC1,He.ltc_2.value=Ue.state.rectAreaLTC2,He.pointLights.value=Ue.state.point,He.pointLightShadows.value=Ue.state.pointShadow,He.hemisphereLights.value=Ue.state.hemi,He.directionalShadowMap.value=Ue.state.directionalShadowMap,He.directionalShadowMatrix.value=Ue.state.directionalShadowMatrix,He.spotShadowMap.value=Ue.state.spotShadowMap,He.spotShadowMatrix.value=Ue.state.spotShadowMatrix,He.pointShadowMap.value=Ue.state.pointShadowMap,He.pointShadowMatrix.value=Ue.state.pointShadowMatrix);const ht=Ye.getUniforms(),Nn=qa.seqWithValue(ht.seq,He);return me.currentProgram=Ye,me.uniformsList=Nn,Ye}function ca(U,ue){const ae=Re.get(U);ae.outputEncoding=ue.outputEncoding,ae.instancing=ue.instancing,ae.numClippingPlanes=ue.numClippingPlanes,ae.numIntersection=ue.numClipIntersection,ae.vertexAlphas=ue.vertexAlphas}function wl(U,ue,ae,me){ue.isScene!==!0&&(ue=W),Xe.resetTextureUnits();const Ue=ue.fog,ot=ae.isMeshStandardMaterial?ue.environment:null,$e=B===null?T.outputEncoding:B.texture.encoding,Ze=Me.get(ae.envMap||ot),St=ae.vertexColors===!0&&me.geometry&&me.geometry.attributes.color&&me.geometry.attributes.color.itemSize===4,je=Re.get(ae),Ye=v.state.lights;if(Z===!0&&(se===!0||U!==D)){const zt=U===D&&ae.id===O;ce.setState(ae,U,zt)}let He=!1;ae.version===je.__version?(je.needsLights&&je.lightsStateVersion!==Ye.state.version||je.outputEncoding!==$e||me.isInstancedMesh&&je.instancing===!1||!me.isInstancedMesh&&je.instancing===!0||je.envMap!==Ze||ae.fog&&je.fog!==Ue||je.numClippingPlanes!==void 0&&(je.numClippingPlanes!==ce.numPlanes||je.numIntersection!==ce.numIntersection)||je.vertexAlphas!==St)&&(He=!0):(He=!0,je.__version=ae.version);let ht=je.currentProgram;He===!0&&(ht=Zn(ae,ue,me));let Nn=!1,pn=!1,Ui=!1;const jt=ht.getUniforms(),Fn=je.uniforms;if(_e.useProgram(ht.program)&&(Nn=!0,pn=!0,Ui=!0),ae.id!==O&&(O=ae.id,pn=!0),Nn||D!==U){if(jt.setValue(Y,"projectionMatrix",U.projectionMatrix),ve.logarithmicDepthBuffer&&jt.setValue(Y,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),D!==U&&(D=U,pn=!0,Ui=!0),ae.isShaderMaterial||ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshStandardMaterial||ae.envMap){const zt=jt.map.cameraPosition;zt!==void 0&&zt.setValue(Y,L.setFromMatrixPosition(U.matrixWorld))}(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&jt.setValue(Y,"isOrthographic",U.isOrthographicCamera===!0),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial||ae.isShadowMaterial||ae.skinning)&&jt.setValue(Y,"viewMatrix",U.matrixWorldInverse)}if(ae.skinning){jt.setOptional(Y,me,"bindMatrix"),jt.setOptional(Y,me,"bindMatrixInverse");const zt=me.skeleton;if(zt){const wi=zt.bones;if(ve.floatVertexTextures){if(zt.boneTexture===null){let Yt=Math.sqrt(wi.length*4);Yt=M_(Yt),Yt=Math.max(Yt,4);const En=new Float32Array(Yt*Yt*4);En.set(zt.boneMatrices);const ua=new Ux(En,Yt,Yt,xi,Va);zt.boneMatrices=En,zt.boneTexture=ua,zt.boneTextureSize=Yt}jt.setValue(Y,"boneTexture",zt.boneTexture,Xe),jt.setValue(Y,"boneTextureSize",zt.boneTextureSize)}else jt.setOptional(Y,zt,"boneMatrices")}}return(pn||je.receiveShadow!==me.receiveShadow)&&(je.receiveShadow=me.receiveShadow,jt.setValue(Y,"receiveShadow",me.receiveShadow)),pn&&(jt.setValue(Y,"toneMappingExposure",T.toneMappingExposure),je.needsLights&&Sl(Fn,Ui),Ue&&ae.fog&&z.refreshFogUniforms(Fn,Ue),z.refreshMaterialUniforms(Fn,ae,de,te),qa.upload(Y,je.uniformsList,Fn,Xe)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(qa.upload(Y,je.uniformsList,Fn,Xe),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&jt.setValue(Y,"center",me.center),jt.setValue(Y,"modelViewMatrix",me.modelViewMatrix),jt.setValue(Y,"normalMatrix",me.normalMatrix),jt.setValue(Y,"modelMatrix",me.matrixWorld),ht}function Sl(U,ue){U.ambientLightColor.needsUpdate=ue,U.lightProbe.needsUpdate=ue,U.directionalLights.needsUpdate=ue,U.directionalLightShadows.needsUpdate=ue,U.pointLights.needsUpdate=ue,U.pointLightShadows.needsUpdate=ue,U.spotLights.needsUpdate=ue,U.spotLightShadows.needsUpdate=ue,U.rectAreaLights.needsUpdate=ue,U.hemisphereLights.needsUpdate=ue}function Js(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&U.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return B},this.setRenderTarget=function(U,ue=0,ae=0){B=U,S=ue,x=ae,U&&Re.get(U).__webglFramebuffer===void 0&&Xe.setupRenderTarget(U);let me=null,Ue=!1,ot=!1;if(U){const $e=U.texture;($e.isDataTexture3D||$e.isDataTexture2DArray)&&(ot=!0);const Ze=Re.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(me=Ze[ue],Ue=!0):U.isWebGLMultisampleRenderTarget?me=Re.get(U).__webglMultisampledFramebuffer:me=Ze,A.copy(U.viewport),P.copy(U.scissor),q=U.scissorTest}else A.copy(N).multiplyScalar(de).floor(),P.copy(V).multiplyScalar(de).floor(),q=C;if(_e.bindFramebuffer(36160,me),_e.viewport(A),_e.scissor(P),_e.setScissorTest(q),Ue){const $e=Re.get(U.texture);Y.framebufferTexture2D(36160,36064,34069+ue,$e.__webglTexture,ae)}else if(ot){const $e=Re.get(U.texture),Ze=ue||0;Y.framebufferTextureLayer(36160,36064,$e.__webglTexture,ae||0,Ze)}},this.readRenderTargetPixels=function(U,ue,ae,me,Ue,ot,$e){if(!(U&&U.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ze=Re.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&$e!==void 0&&(Ze=Ze[$e]),Ze){_e.bindFramebuffer(36160,Ze);try{const St=U.texture,je=St.format,Ye=St.type;if(je!==xi&&Te.convert(je)!==Y.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const He=Ye===_u&&(we.has("EXT_color_buffer_half_float")||ve.isWebGL2&&we.has("EXT_color_buffer_float"));if(Ye!==zp&&Te.convert(Ye)!==Y.getParameter(35738)&&!(Ye===Va&&(ve.isWebGL2||we.has("OES_texture_float")||we.has("WEBGL_color_buffer_float")))&&!He){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Y.checkFramebufferStatus(36160)===36053?ue>=0&&ue<=U.width-me&&ae>=0&&ae<=U.height-Ue&&Y.readPixels(ue,ae,me,Ue,Te.convert(je),Te.convert(Ye),ot):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const St=B!==null?Re.get(B).__webglFramebuffer:null;_e.bindFramebuffer(36160,St)}}},this.copyFramebufferToTexture=function(U,ue,ae=0){const me=Math.pow(2,-ae),Ue=Math.floor(ue.image.width*me),ot=Math.floor(ue.image.height*me),$e=Te.convert(ue.format);Xe.setTexture2D(ue,0),Y.copyTexImage2D(3553,ae,$e,U.x,U.y,Ue,ot,0),_e.unbindTexture()},this.copyTextureToTexture=function(U,ue,ae,me=0){const Ue=ue.image.width,ot=ue.image.height,$e=Te.convert(ae.format),Ze=Te.convert(ae.type);Xe.setTexture2D(ae,0),Y.pixelStorei(37440,ae.flipY),Y.pixelStorei(37441,ae.premultiplyAlpha),Y.pixelStorei(3317,ae.unpackAlignment),ue.isDataTexture?Y.texSubImage2D(3553,me,U.x,U.y,Ue,ot,$e,Ze,ue.image.data):ue.isCompressedTexture?Y.compressedTexSubImage2D(3553,me,U.x,U.y,ue.mipmaps[0].width,ue.mipmaps[0].height,$e,ue.mipmaps[0].data):Y.texSubImage2D(3553,me,U.x,U.y,$e,Ze,ue.image),me===0&&ae.generateMipmaps&&Y.generateMipmap(3553),_e.unbindTexture()},this.copyTextureToTexture3D=function(U,ue,ae,me,Ue=0){if(T.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const{width:ot,height:$e,data:Ze}=ae.image,St=Te.convert(me.format),je=Te.convert(me.type);let Ye;if(me.isDataTexture3D)Xe.setTexture3D(me,0),Ye=32879;else if(me.isDataTexture2DArray)Xe.setTexture2DArray(me,0),Ye=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(37440,me.flipY),Y.pixelStorei(37441,me.premultiplyAlpha),Y.pixelStorei(3317,me.unpackAlignment);const He=Y.getParameter(3314),ht=Y.getParameter(32878),Nn=Y.getParameter(3316),pn=Y.getParameter(3315),Ui=Y.getParameter(32877);Y.pixelStorei(3314,ot),Y.pixelStorei(32878,$e),Y.pixelStorei(3316,U.min.x),Y.pixelStorei(3315,U.min.y),Y.pixelStorei(32877,U.min.z),Y.texSubImage3D(Ye,Ue,ue.x,ue.y,ue.z,U.max.x-U.min.x+1,U.max.y-U.min.y+1,U.max.z-U.min.z+1,St,je,Ze),Y.pixelStorei(3314,He),Y.pixelStorei(32878,ht),Y.pixelStorei(3316,Nn),Y.pixelStorei(3315,pn),Y.pixelStorei(32877,Ui),Ue===0&&me.generateMipmaps&&Y.generateMipmap(Ye),_e.unbindTexture()},this.initTexture=function(U){Xe.setTexture2D(U,0),_e.unbindTexture()},this.resetState=function(){S=0,x=0,B=null,_e.reset(),Ae.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class X3 extends kt{}X3.prototype.isWebGL1Renderer=!0;class Vp extends Mt{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.background!==null&&(t.object.background=this.background.toJSON(e)),this.environment!==null&&(t.object.environment=this.environment.toJSON(e)),this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}Vp.prototype.isScene=!0;class Cr{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=dl,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ri(),this.onUploadCallback=function(){}}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,a){e*=this.stride,a*=t.stride;for(let s=0,l=this.stride;s<l;s++)this.array[e+s]=t.array[a+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ri()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),a=new Cr(t,this.stride);return a.setUsage(this.usage),a}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ri()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Cr.prototype.isInterleavedBuffer=!0;const Xt=new I;class hl{constructor(e,t,a,s){this.name="",this.data=e,this.itemSize=t,this.offset=a,this.normalized=s===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,a=this.data.count;t<a;t++)Xt.x=this.getX(t),Xt.y=this.getY(t),Xt.z=this.getZ(t),Xt.applyMatrix4(e),this.setXYZ(t,Xt.x,Xt.y,Xt.z);return this}applyNormalMatrix(e){for(let t=0,a=this.count;t<a;t++)Xt.x=this.getX(t),Xt.y=this.getY(t),Xt.z=this.getZ(t),Xt.applyNormalMatrix(e),this.setXYZ(t,Xt.x,Xt.y,Xt.z);return this}transformDirection(e){for(let t=0,a=this.count;t<a;t++)Xt.x=this.getX(t),Xt.y=this.getY(t),Xt.z=this.getZ(t),Xt.transformDirection(e),this.setXYZ(t,Xt.x,Xt.y,Xt.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=a,this}setXYZ(e,t,a,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=a,this.data.array[e+2]=s,this}setXYZW(e,t,a,s,l){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=a,this.data.array[e+2]=s,this.data.array[e+3]=l,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let a=0;a<this.count;a++){const s=a*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)t.push(this.data.array[s+l])}return new dn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new hl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let a=0;a<this.count;a++){const s=a*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)t.push(this.data.array[s+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}hl.prototype.isInterleavedBufferAttribute=!0;class Yx extends hn{constructor(e){super(),this.type="SpriteMaterial",this.color=new qe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}Yx.prototype.isSpriteMaterial=!0;let ws;const qo=new I,Ss=new I,Ms=new I,Ts=new Le,Ko=new Le,Jx=new Je,Qc=new I,Yo=new I,eu=new I,cb=new Le,zf=new Le,ub=new Le;class Z3 extends Mt{constructor(e){if(super(),this.type="Sprite",ws===void 0){ws=new bt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new Cr(t,5);ws.setIndex([0,1,2,0,2,3]),ws.setAttribute("position",new hl(a,3,0,!1)),ws.setAttribute("uv",new hl(a,2,3,!1))}this.geometry=ws,this.material=e!==void 0?e:new Yx,this.center=new Le(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ss.setFromMatrixScale(this.matrixWorld),Jx.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ms.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ss.multiplyScalar(-Ms.z);const a=this.material.rotation;let s,l;a!==0&&(l=Math.cos(a),s=Math.sin(a));const c=this.center;tu(Qc.set(-.5,-.5,0),Ms,c,Ss,s,l),tu(Yo.set(.5,-.5,0),Ms,c,Ss,s,l),tu(eu.set(.5,.5,0),Ms,c,Ss,s,l),cb.set(0,0),zf.set(1,0),ub.set(1,1);let d=e.ray.intersectTriangle(Qc,Yo,eu,!1,qo);if(d===null&&(tu(Yo.set(-.5,.5,0),Ms,c,Ss,s,l),zf.set(0,1),d=e.ray.intersectTriangle(Qc,eu,Yo,!1,qo),d===null))return;const h=e.ray.origin.distanceTo(qo);h<e.near||h>e.far||t.push({distance:h,point:qo.clone(),uv:sn.getUV(qo,Qc,Yo,eu,cb,zf,ub,new Le),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}Z3.prototype.isSprite=!0;function tu(r,e,t,a,s,l){Ts.subVectors(r,t).addScalar(.5).multiply(a),s!==void 0?(Ko.x=l*Ts.x-s*Ts.y,Ko.y=s*Ts.x+l*Ts.y):Ko.copy(Ts),r.copy(e),r.x+=Ko.x,r.y+=Ko.y,r.applyMatrix4(Jx)}const db=new I,hb=new Lt,fb=new Lt,Q3=new I,pb=new Je;class $x extends un{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Je,this.bindMatrixInverse=new Je}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Lt,t=this.geometry.attributes.skinWeight;for(let a=0,s=t.count;a<s;a++){e.x=t.getX(a),e.y=t.getY(a),e.z=t.getZ(a),e.w=t.getW(a);const l=1/e.manhattanLength();l!==1/0?e.multiplyScalar(l):e.set(1,0,0,0),t.setXYZW(a,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const a=this.skeleton,s=this.geometry;hb.fromBufferAttribute(s.attributes.skinIndex,e),fb.fromBufferAttribute(s.attributes.skinWeight,e),db.fromBufferAttribute(s.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let l=0;l<4;l++){const c=fb.getComponent(l);if(c!==0){const d=hb.getComponent(l);pb.multiplyMatrices(a.bones[d].matrixWorld,a.boneInverses[d]),t.addScaledVector(Q3.copy(db).applyMatrix4(pb),c)}}return t.applyMatrix4(this.bindMatrixInverse)}}$x.prototype.isSkinnedMesh=!0;class eR extends Mt{constructor(){super(),this.type="Bone"}}eR.prototype.isBone=!0;const mb=new Je,gb=new Je,nu=[],Jo=new un;class tR extends un{constructor(e,t,a){super(e,t),this.instanceMatrix=new dn(new Float32Array(a*16),16),this.instanceColor=null,this.count=a,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const a=this.matrixWorld,s=this.count;if(Jo.geometry=this.geometry,Jo.material=this.material,Jo.material!==void 0)for(let l=0;l<s;l++){this.getMatrixAt(l,mb),gb.multiplyMatrices(a,mb),Jo.matrixWorld=gb,Jo.raycast(e,nu);for(let c=0,d=nu.length;c<d;c++){const h=nu[c];h.instanceId=l,h.object=this,t.push(h)}nu.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new dn(new Float32Array(this.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}tR.prototype.isInstancedMesh=!0;class sa extends hn{constructor(e){super(),this.type="LineBasicMaterial",this.color=new qe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this}}sa.prototype.isLineBasicMaterial=!0;const yb=new I,vb=new I,bb=new Je,If=new Er,iu=new Ws;class xr extends Mt{constructor(e=new bt,t=new sa){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,a=[0];for(let s=1,l=t.count;s<l;s++)yb.fromBufferAttribute(t,s-1),vb.fromBufferAttribute(t,s),a[s]=a[s-1],a[s]+=yb.distanceTo(vb);e.setAttribute("lineDistance",new Ht(a,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const a=this.geometry,s=this.matrixWorld,l=e.params.Line.threshold,c=a.drawRange;if(a.boundingSphere===null&&a.computeBoundingSphere(),iu.copy(a.boundingSphere),iu.applyMatrix4(s),iu.radius+=l,e.ray.intersectsSphere(iu)===!1)return;bb.copy(s).invert(),If.copy(e.ray).applyMatrix4(bb);const d=l/((this.scale.x+this.scale.y+this.scale.z)/3),h=d*d,f=new I,g=new I,y=new I,v=new I,b=this.isLineSegments?2:1;if(a.isBufferGeometry){const w=a.index,_=a.attributes.position;if(w!==null){const S=Math.max(0,c.start),x=Math.min(w.count,c.start+c.count);for(let B=S,O=x-1;B<O;B+=b){const D=w.getX(B),A=w.getX(B+1);if(f.fromBufferAttribute(_,D),g.fromBufferAttribute(_,A),If.distanceSqToSegment(f,g,v,y)>h)continue;v.applyMatrix4(this.matrixWorld);const q=e.ray.origin.distanceTo(v);q<e.near||q>e.far||t.push({distance:q,point:y.clone().applyMatrix4(this.matrixWorld),index:B,face:null,faceIndex:null,object:this})}}else{const S=Math.max(0,c.start),x=Math.min(_.count,c.start+c.count);for(let B=S,O=x-1;B<O;B+=b){if(f.fromBufferAttribute(_,B),g.fromBufferAttribute(_,B+1),If.distanceSqToSegment(f,g,v,y)>h)continue;v.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(v);A<e.near||A>e.far||t.push({distance:A,point:y.clone().applyMatrix4(this.matrixWorld),index:B,face:null,faceIndex:null,object:this})}}}else a.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,a=Object.keys(t);if(a.length>0){const s=t[a[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,c=s.length;l<c;l++){const d=s[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=l}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}xr.prototype.isLine=!0;const xb=new I,wb=new I;class Wp extends xr{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,a=[];for(let s=0,l=t.count;s<l;s+=2)xb.fromBufferAttribute(t,s),wb.fromBufferAttribute(t,s+1),a[s]=s===0?0:a[s-1],a[s+1]=a[s]+xb.distanceTo(wb);e.setAttribute("lineDistance",new Ht(a,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Wp.prototype.isLineSegments=!0;class nR extends xr{constructor(e,t){super(e,t),this.type="LineLoop"}}nR.prototype.isLineLoop=!0;class Xx extends hn{constructor(e){super(),this.type="PointsMaterial",this.color=new qe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this}}Xx.prototype.isPointsMaterial=!0;const Sb=new Je,fp=new Er,au=new Ws,ru=new I;class iR extends Mt{constructor(e=new bt,t=new Xx){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const a=this.geometry,s=this.matrixWorld,l=e.params.Points.threshold,c=a.drawRange;if(a.boundingSphere===null&&a.computeBoundingSphere(),au.copy(a.boundingSphere),au.applyMatrix4(s),au.radius+=l,e.ray.intersectsSphere(au)===!1)return;Sb.copy(s).invert(),fp.copy(e.ray).applyMatrix4(Sb);const d=l/((this.scale.x+this.scale.y+this.scale.z)/3),h=d*d;if(a.isBufferGeometry){const f=a.index,y=a.attributes.position;if(f!==null){const v=Math.max(0,c.start),b=Math.min(f.count,c.start+c.count);for(let w=v,T=b;w<T;w++){const _=f.getX(w);ru.fromBufferAttribute(y,_),Mb(ru,_,h,s,e,t,this)}}else{const v=Math.max(0,c.start),b=Math.min(y.count,c.start+c.count);for(let w=v,T=b;w<T;w++)ru.fromBufferAttribute(y,w),Mb(ru,w,h,s,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,a=Object.keys(t);if(a.length>0){const s=t[a[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,c=s.length;l<c;l++){const d=s[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=l}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}iR.prototype.isPoints=!0;function Mb(r,e,t,a,s,l,c){const d=fp.distanceSqToPoint(r);if(d<t){const h=new I;fp.closestPointToPoint(r,h),h.applyMatrix4(a);const f=s.ray.origin.distanceTo(h);if(f<s.near||f>s.far)return;l.push({distance:f,distanceToRay:Math.sqrt(d),point:h,index:e,face:null,object:c})}}class aR extends wn{constructor(e,t,a,s,l,c,d,h,f){super(e,t,a,s,l,c,d,h,f),this.format=d!==void 0?d:vr,this.minFilter=c!==void 0?c:ci,this.magFilter=l!==void 0?l:ci,this.generateMipmaps=!1;const g=this;function y(){g.needsUpdate=!0,e.requestVideoFrameCallback(y)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(y)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}aR.prototype.isVideoTexture=!0;class rR extends wn{constructor(e,t,a,s,l,c,d,h,f,g,y,v){super(null,c,d,h,f,g,s,l,y,v),this.image={width:t,height:a},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}rR.prototype.isCompressedTexture=!0;class sR extends wn{constructor(e,t,a,s,l,c,d,h,f){super(e,t,a,s,l,c,d,h,f),this.needsUpdate=!0}}sR.prototype.isCanvasTexture=!0;class oR extends wn{constructor(e,t,a,s,l,c,d,h,f,g){if(g=g!==void 0?g:Us,g!==Us&&g!==ul)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");a===void 0&&g===Us&&(a=Tu),a===void 0&&g===ul&&(a=rl),super(null,s,l,c,d,h,g,a,f),this.image={width:e,height:t},this.magFilter=d!==void 0?d:Rn,this.minFilter=h!==void 0?h:Rn,this.flipY=!1,this.generateMipmaps=!1}}oR.prototype.isDepthTexture=!0;const lR={triangulate:function(r,e,t){t=t||2;const a=e&&e.length,s=a?e[0]*t:r.length;let l=Zx(r,0,s,t,!0);const c=[];if(!l||l.next===l.prev)return c;let d,h,f,g,y,v,b;if(a&&(l=fR(r,e,l,t)),r.length>80*t){d=f=r[0],h=g=r[1];for(let w=t;w<s;w+=t)y=r[w],v=r[w+1],y<d&&(d=y),v<h&&(h=v),y>f&&(f=y),v>g&&(g=v);b=Math.max(f-d,g-h),b=b!==0?1/b:0}return fl(l,c,t,d,h,b),c}};function Zx(r,e,t,a,s){let l,c;if(s===TR(r,e,t,a)>0)for(l=e;l<t;l+=a)c=Tb(l,r[l],r[l+1],c);else for(l=t-a;l>=e;l-=a)c=Tb(l,r[l],r[l+1],c);return c&&Fu(c,c.next)&&(ml(c),c=c.next),c}function Ja(r,e){if(!r)return r;e||(e=r);let t=r,a;do if(a=!1,!t.steiner&&(Fu(t,t.next)||Vt(t.prev,t,t.next)===0)){if(ml(t),t=e=t.prev,t===t.next)break;a=!0}else t=t.next;while(a||t!==e);return e}function fl(r,e,t,a,s,l,c){if(!r)return;!c&&l&&vR(r,a,s,l);let d=r,h,f;for(;r.prev!==r.next;){if(h=r.prev,f=r.next,l?uR(r,a,s,l):cR(r)){e.push(h.i/t),e.push(r.i/t),e.push(f.i/t),ml(r),r=f.next,d=f.next;continue}if(r=f,r===d){c?c===1?(r=dR(Ja(r),e,t),fl(r,e,t,a,s,l,2)):c===2&&hR(r,e,t,a,s,l):fl(Ja(r),e,t,a,s,l,1);break}}}function cR(r){const e=r.prev,t=r,a=r.next;if(Vt(e,t,a)>=0)return!1;let s=r.next.next;for(;s!==r.prev;){if(ks(e.x,e.y,t.x,t.y,a.x,a.y,s.x,s.y)&&Vt(s.prev,s,s.next)>=0)return!1;s=s.next}return!0}function uR(r,e,t,a){const s=r.prev,l=r,c=r.next;if(Vt(s,l,c)>=0)return!1;const d=s.x<l.x?s.x<c.x?s.x:c.x:l.x<c.x?l.x:c.x,h=s.y<l.y?s.y<c.y?s.y:c.y:l.y<c.y?l.y:c.y,f=s.x>l.x?s.x>c.x?s.x:c.x:l.x>c.x?l.x:c.x,g=s.y>l.y?s.y>c.y?s.y:c.y:l.y>c.y?l.y:c.y,y=pp(d,h,e,t,a),v=pp(f,g,e,t,a);let b=r.prevZ,w=r.nextZ;for(;b&&b.z>=y&&w&&w.z<=v;){if(b!==r.prev&&b!==r.next&&ks(s.x,s.y,l.x,l.y,c.x,c.y,b.x,b.y)&&Vt(b.prev,b,b.next)>=0||(b=b.prevZ,w!==r.prev&&w!==r.next&&ks(s.x,s.y,l.x,l.y,c.x,c.y,w.x,w.y)&&Vt(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=y;){if(b!==r.prev&&b!==r.next&&ks(s.x,s.y,l.x,l.y,c.x,c.y,b.x,b.y)&&Vt(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=v;){if(w!==r.prev&&w!==r.next&&ks(s.x,s.y,l.x,l.y,c.x,c.y,w.x,w.y)&&Vt(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function dR(r,e,t){let a=r;do{const s=a.prev,l=a.next.next;!Fu(s,l)&&Qx(s,a,a.next,l)&&pl(s,l)&&pl(l,s)&&(e.push(s.i/t),e.push(a.i/t),e.push(l.i/t),ml(a),ml(a.next),a=r=l),a=a.next}while(a!==r);return Ja(a)}function hR(r,e,t,a,s,l){let c=r;do{let d=c.next.next;for(;d!==c.prev;){if(c.i!==d.i&&wR(c,d)){let h=ew(c,d);c=Ja(c,c.next),h=Ja(h,h.next),fl(c,e,t,a,s,l),fl(h,e,t,a,s,l);return}d=d.next}c=c.next}while(c!==r)}function fR(r,e,t,a){const s=[];let l,c,d,h,f;for(l=0,c=e.length;l<c;l++)d=e[l]*a,h=l<c-1?e[l+1]*a:r.length,f=Zx(r,d,h,a,!1),f===f.next&&(f.steiner=!0),s.push(xR(f));for(s.sort(pR),l=0;l<s.length;l++)mR(s[l],t),t=Ja(t,t.next);return t}function pR(r,e){return r.x-e.x}function mR(r,e){if(e=gR(r,e),e){const t=ew(e,r);Ja(e,e.next),Ja(t,t.next)}}function gR(r,e){let t=e;const a=r.x,s=r.y;let l=-1/0,c;do{if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const v=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=a&&v>l){if(l=v,v===a){if(s===t.y)return t;if(s===t.next.y)return t.next}c=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!c)return null;if(a===l)return c;const d=c,h=c.x,f=c.y;let g=1/0,y;t=c;do a>=t.x&&t.x>=h&&a!==t.x&&ks(s<f?a:l,s,h,f,s<f?l:a,s,t.x,t.y)&&(y=Math.abs(s-t.y)/(a-t.x),pl(t,r)&&(y<g||y===g&&(t.x>c.x||t.x===c.x&&yR(c,t)))&&(c=t,g=y)),t=t.next;while(t!==d);return c}function yR(r,e){return Vt(r.prev,r,e.prev)<0&&Vt(e.next,r,r.next)<0}function vR(r,e,t,a){let s=r;do s.z===null&&(s.z=pp(s.x,s.y,e,t,a)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==r);s.prevZ.nextZ=null,s.prevZ=null,bR(s)}function bR(r){let e,t,a,s,l,c,d,h,f=1;do{for(t=r,r=null,l=null,c=0;t;){for(c++,a=t,d=0,e=0;e<f&&(d++,a=a.nextZ,!!a);e++);for(h=f;d>0||h>0&&a;)d!==0&&(h===0||!a||t.z<=a.z)?(s=t,t=t.nextZ,d--):(s=a,a=a.nextZ,h--),l?l.nextZ=s:r=s,s.prevZ=l,l=s;t=a}l.nextZ=null,f*=2}while(c>1);return r}function pp(r,e,t,a,s){return r=32767*(r-t)*s,e=32767*(e-a)*s,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function xR(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function ks(r,e,t,a,s,l,c,d){return(s-c)*(e-d)-(r-c)*(l-d)>=0&&(r-c)*(a-d)-(t-c)*(e-d)>=0&&(t-c)*(l-d)-(s-c)*(a-d)>=0}function wR(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!SR(r,e)&&(pl(r,e)&&pl(e,r)&&MR(r,e)&&(Vt(r.prev,r,e.prev)||Vt(r,e.prev,e))||Fu(r,e)&&Vt(r.prev,r,r.next)>0&&Vt(e.prev,e,e.next)>0)}function Vt(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function Fu(r,e){return r.x===e.x&&r.y===e.y}function Qx(r,e,t,a){const s=ou(Vt(r,e,t)),l=ou(Vt(r,e,a)),c=ou(Vt(t,a,r)),d=ou(Vt(t,a,e));return!!(s!==l&&c!==d||s===0&&su(r,t,e)||l===0&&su(r,a,e)||c===0&&su(t,r,a)||d===0&&su(t,e,a))}function su(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function ou(r){return r>0?1:r<0?-1:0}function SR(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&Qx(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function pl(r,e){return Vt(r.prev,r,r.next)<0?Vt(r,e,r.next)>=0&&Vt(r,r.prev,e)>=0:Vt(r,e,r.prev)<0||Vt(r,r.next,e)<0}function MR(r,e){let t=r,a=!1;const s=(r.x+e.x)/2,l=(r.y+e.y)/2;do t.y>l!=t.next.y>l&&t.next.y!==t.y&&s<(t.next.x-t.x)*(l-t.y)/(t.next.y-t.y)+t.x&&(a=!a),t=t.next;while(t!==r);return a}function ew(r,e){const t=new mp(r.i,r.x,r.y),a=new mp(e.i,e.x,e.y),s=r.next,l=e.prev;return r.next=e,e.prev=r,t.next=s,s.prev=t,a.next=t,t.prev=a,l.next=a,a.prev=l,a}function Tb(r,e,t,a){const s=new mp(r,e,t);return a?(s.next=a.next,s.prev=a,a.next.prev=s,a.next=s):(s.prev=s,s.next=s),s}function ml(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function mp(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function TR(r,e,t,a){let s=0;for(let l=e,c=t-a;l<t;l+=a)s+=(r[c]-r[l])*(r[l+1]+r[c+1]),c=l;return s}class Ka{static area(e){const t=e.length;let a=0;for(let s=t-1,l=0;l<t;s=l++)a+=e[s].x*e[l].y-e[l].x*e[s].y;return a*.5}static isClockWise(e){return Ka.area(e)<0}static triangulateShape(e,t){const a=[],s=[],l=[];_b(e),Eb(a,e);let c=e.length;t.forEach(_b);for(let h=0;h<t.length;h++)s.push(c),c+=t[h].length,Eb(a,t[h]);const d=lR.triangulate(a,s);for(let h=0;h<d.length;h+=3)l.push(d.slice(h,h+3));return l}}function _b(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function Eb(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class Gu extends bt{constructor(e,t){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const a=this,s=[],l=[];for(let d=0,h=e.length;d<h;d++){const f=e[d];c(f)}this.setAttribute("position",new Ht(s,3)),this.setAttribute("uv",new Ht(l,2)),this.computeVertexNormals();function c(d){const h=[],f=t.curveSegments!==void 0?t.curveSegments:12,g=t.steps!==void 0?t.steps:1;let y=t.depth!==void 0?t.depth:100,v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:6,w=t.bevelSize!==void 0?t.bevelSize:b-2,T=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:_R;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),y=t.amount);let B,O=!1,D,A,P,q;S&&(B=S.getSpacedPoints(g),O=!0,v=!1,D=S.computeFrenetFrames(g,!1),A=new I,P=new I,q=new I),v||(_=0,b=0,w=0,T=0);const X=d.extractPoints(f);let te=X.shape;const de=X.holes;if(!Ka.isClockWise(te)){te=te.reverse();for(let Me=0,Ce=de.length;Me<Ce;Me++){const be=de[Me];Ka.isClockWise(be)&&(de[Me]=be.reverse())}}const K=Ka.triangulateShape(te,de),N=te;for(let Me=0,Ce=de.length;Me<Ce;Me++){const be=de[Me];te=te.concat(be)}function V(Me,Ce,be){return Ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ce.clone().multiplyScalar(be).add(Me)}const C=te.length,H=K.length;function Z(Me,Ce,be){let Oe,ke,z;const k=Me.x-Ce.x,oe=Me.y-Ce.y,ce=be.x-Me.x,Ee=be.y-Me.y,ze=k*k+oe*oe,nt=k*Ee-oe*ce;if(Math.abs(nt)>Number.EPSILON){const Ie=Math.sqrt(ze),J=Math.sqrt(ce*ce+Ee*Ee),Te=Ce.x-oe/Ie,Ae=Ce.y+k/Ie,Fe=be.x-Ee/J,ye=be.y+ce/J,We=((Fe-Te)*Ee-(ye-Ae)*ce)/(k*Ee-oe*ce);Oe=Te+k*We-Me.x,ke=Ae+oe*We-Me.y;const rt=Oe*Oe+ke*ke;if(rt<=2)return new Le(Oe,ke);z=Math.sqrt(rt/2)}else{let Ie=!1;k>Number.EPSILON?ce>Number.EPSILON&&(Ie=!0):k<-Number.EPSILON?ce<-Number.EPSILON&&(Ie=!0):Math.sign(oe)===Math.sign(Ee)&&(Ie=!0),Ie?(Oe=-oe,ke=k,z=Math.sqrt(ze)):(Oe=k,ke=oe,z=Math.sqrt(ze/2))}return new Le(Oe/z,ke/z)}const se=[];for(let Me=0,Ce=N.length,be=Ce-1,Oe=Me+1;Me<Ce;Me++,be++,Oe++)be===Ce&&(be=0),Oe===Ce&&(Oe=0),se[Me]=Z(N[Me],N[be],N[Oe]);const he=[];let L,W=se.concat();for(let Me=0,Ce=de.length;Me<Ce;Me++){const be=de[Me];L=[];for(let Oe=0,ke=be.length,z=ke-1,k=Oe+1;Oe<ke;Oe++,z++,k++)z===ke&&(z=0),k===ke&&(k=0),L[Oe]=Z(be[Oe],be[z],be[k]);he.push(L),W=W.concat(L)}for(let Me=0;Me<_;Me++){const Ce=Me/_,be=b*Math.cos(Ce*Math.PI/2),Oe=w*Math.sin(Ce*Math.PI/2)+T;for(let ke=0,z=N.length;ke<z;ke++){const k=V(N[ke],se[ke],Oe);ve(k.x,k.y,-be)}for(let ke=0,z=de.length;ke<z;ke++){const k=de[ke];L=he[ke];for(let oe=0,ce=k.length;oe<ce;oe++){const Ee=V(k[oe],L[oe],Oe);ve(Ee.x,Ee.y,-be)}}}const ne=w+T;for(let Me=0;Me<C;Me++){const Ce=v?V(te[Me],W[Me],ne):te[Me];O?(P.copy(D.normals[0]).multiplyScalar(Ce.x),A.copy(D.binormals[0]).multiplyScalar(Ce.y),q.copy(B[0]).add(P).add(A),ve(q.x,q.y,q.z)):ve(Ce.x,Ce.y,0)}for(let Me=1;Me<=g;Me++)for(let Ce=0;Ce<C;Ce++){const be=v?V(te[Ce],W[Ce],ne):te[Ce];O?(P.copy(D.normals[Me]).multiplyScalar(be.x),A.copy(D.binormals[Me]).multiplyScalar(be.y),q.copy(B[Me]).add(P).add(A),ve(q.x,q.y,q.z)):ve(be.x,be.y,y/g*Me)}for(let Me=_-1;Me>=0;Me--){const Ce=Me/_,be=b*Math.cos(Ce*Math.PI/2),Oe=w*Math.sin(Ce*Math.PI/2)+T;for(let ke=0,z=N.length;ke<z;ke++){const k=V(N[ke],se[ke],Oe);ve(k.x,k.y,y+be)}for(let ke=0,z=de.length;ke<z;ke++){const k=de[ke];L=he[ke];for(let oe=0,ce=k.length;oe<ce;oe++){const Ee=V(k[oe],L[oe],Oe);O?ve(Ee.x,Ee.y+B[g-1].y,B[g-1].x+be):ve(Ee.x,Ee.y,y+be)}}}Y(),xe();function Y(){const Me=s.length/3;if(v){let Ce=0,be=C*Ce;for(let Oe=0;Oe<H;Oe++){const ke=K[Oe];_e(ke[2]+be,ke[1]+be,ke[0]+be)}Ce=g+_*2,be=C*Ce;for(let Oe=0;Oe<H;Oe++){const ke=K[Oe];_e(ke[0]+be,ke[1]+be,ke[2]+be)}}else{for(let Ce=0;Ce<H;Ce++){const be=K[Ce];_e(be[2],be[1],be[0])}for(let Ce=0;Ce<H;Ce++){const be=K[Ce];_e(be[0]+C*g,be[1]+C*g,be[2]+C*g)}}a.addGroup(Me,s.length/3-Me,0)}function xe(){const Me=s.length/3;let Ce=0;we(N,Ce),Ce+=N.length;for(let be=0,Oe=de.length;be<Oe;be++){const ke=de[be];we(ke,Ce),Ce+=ke.length}a.addGroup(Me,s.length/3-Me,1)}function we(Me,Ce){let be=Me.length;for(;--be>=0;){const Oe=be;let ke=be-1;ke<0&&(ke=Me.length-1);for(let z=0,k=g+_*2;z<k;z++){const oe=C*z,ce=C*(z+1),Ee=Ce+Oe+oe,ze=Ce+ke+oe,nt=Ce+ke+ce,Ie=Ce+Oe+ce;Ne(Ee,ze,nt,Ie)}}}function ve(Me,Ce,be){h.push(Me),h.push(Ce),h.push(be)}function _e(Me,Ce,be){Re(Me),Re(Ce),Re(be);const Oe=s.length/3,ke=x.generateTopUV(a,s,Oe-3,Oe-2,Oe-1);Xe(ke[0]),Xe(ke[1]),Xe(ke[2])}function Ne(Me,Ce,be,Oe){Re(Me),Re(Ce),Re(Oe),Re(Ce),Re(be),Re(Oe);const ke=s.length/3,z=x.generateSideWallUV(a,s,ke-6,ke-3,ke-2,ke-1);Xe(z[0]),Xe(z[1]),Xe(z[3]),Xe(z[1]),Xe(z[2]),Xe(z[3])}function Re(Me){s.push(h[Me*3+0]),s.push(h[Me*3+1]),s.push(h[Me*3+2])}function Xe(Me){l.push(Me.x),l.push(Me.y)}}}toJSON(){const e=bt.prototype.toJSON.call(this),t=this.parameters.shapes,a=this.parameters.options;return ER(t,a,e)}}const _R={generateTopUV:function(r,e,t,a,s){const l=e[t*3],c=e[t*3+1],d=e[a*3],h=e[a*3+1],f=e[s*3],g=e[s*3+1];return[new Le(l,c),new Le(d,h),new Le(f,g)]},generateSideWallUV:function(r,e,t,a,s,l){const c=e[t*3],d=e[t*3+1],h=e[t*3+2],f=e[a*3],g=e[a*3+1],y=e[a*3+2],v=e[s*3],b=e[s*3+1],w=e[s*3+2],T=e[l*3],_=e[l*3+1],S=e[l*3+2];return Math.abs(d-g)<.01?[new Le(c,1-h),new Le(f,1-y),new Le(v,1-w),new Le(T,1-S)]:[new Le(d,1-h),new Le(g,1-y),new Le(b,1-w),new Le(_,1-S)]}};function ER(r,e,t){if(t.shapes=[],Array.isArray(r))for(let a=0,s=r.length;a<s;a++){const l=r[a];t.shapes.push(l.uuid)}else t.shapes.push(r.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class gp extends bt{constructor(e=.5,t=1,a=8,s=1,l=0,c=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:a,phiSegments:s,thetaStart:l,thetaLength:c},a=Math.max(3,a),s=Math.max(1,s);const d=[],h=[],f=[],g=[];let y=e;const v=(t-e)/s,b=new I,w=new Le;for(let T=0;T<=s;T++){for(let _=0;_<=a;_++){const S=l+_/a*c;b.x=y*Math.cos(S),b.y=y*Math.sin(S),h.push(b.x,b.y,b.z),f.push(0,0,1),w.x=(b.x/t+1)/2,w.y=(b.y/t+1)/2,g.push(w.x,w.y)}y+=v}for(let T=0;T<s;T++){const _=T*(a+1);for(let S=0;S<a;S++){const x=S+_,B=x,O=x+a+1,D=x+a+2,A=x+1;d.push(B,O,A),d.push(O,D,A)}}this.setIndex(d),this.setAttribute("position",new Ht(h,3)),this.setAttribute("normal",new Ht(f,3)),this.setAttribute("uv",new Ht(g,2))}}class CR extends bt{constructor(e,t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const a=[],s=[],l=[],c=[];let d=0,h=0;if(Array.isArray(e)===!1)f(e);else for(let g=0;g<e.length;g++)f(e[g]),this.addGroup(d,h,g),d+=h,h=0;this.setIndex(a),this.setAttribute("position",new Ht(s,3)),this.setAttribute("normal",new Ht(l,3)),this.setAttribute("uv",new Ht(c,2));function f(g){const y=s.length/3,v=g.extractPoints(t);let b=v.shape;const w=v.holes;Ka.isClockWise(b)===!1&&(b=b.reverse());for(let _=0,S=w.length;_<S;_++){const x=w[_];Ka.isClockWise(x)===!0&&(w[_]=x.reverse())}const T=Ka.triangulateShape(b,w);for(let _=0,S=w.length;_<S;_++){const x=w[_];b=b.concat(x)}for(let _=0,S=b.length;_<S;_++){const x=b[_];s.push(x.x,x.y,0),l.push(0,0,1),c.push(x.x,x.y)}for(let _=0,S=T.length;_<S;_++){const x=T[_],B=x[0]+y,O=x[1]+y,D=x[2]+y;a.push(B,O,D),h+=3}}}toJSON(){const e=bt.prototype.toJSON.call(this),t=this.parameters.shapes;return AR(t,e)}}function AR(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,a=r.length;t<a;t++){const s=r[t];e.shapes.push(s.uuid)}else e.shapes.push(r.uuid);return e}class bu extends bt{constructor(e=1,t=8,a=6,s=0,l=Math.PI*2,c=0,d=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:a,phiStart:s,phiLength:l,thetaStart:c,thetaLength:d},t=Math.max(3,Math.floor(t)),a=Math.max(2,Math.floor(a));const h=Math.min(c+d,Math.PI);let f=0;const g=[],y=new I,v=new I,b=[],w=[],T=[],_=[];for(let S=0;S<=a;S++){const x=[],B=S/a;let O=0;S==0&&c==0?O=.5/t:S==a&&h==Math.PI&&(O=-.5/t);for(let D=0;D<=t;D++){const A=D/t;y.x=-e*Math.cos(s+A*l)*Math.sin(c+B*d),y.y=e*Math.cos(c+B*d),y.z=e*Math.sin(s+A*l)*Math.sin(c+B*d),w.push(y.x,y.y,y.z),v.copy(y).normalize(),T.push(v.x,v.y,v.z),_.push(A+O,1-B),x.push(f++)}g.push(x)}for(let S=0;S<a;S++)for(let x=0;x<t;x++){const B=g[S][x+1],O=g[S][x],D=g[S+1][x],A=g[S+1][x+1];(S!==0||c>0)&&b.push(B,O,A),(S!==a-1||h<Math.PI)&&b.push(O,D,A)}this.setIndex(b),this.setAttribute("position",new Ht(w,3)),this.setAttribute("normal",new Ht(T,3)),this.setAttribute("uv",new Ht(_,2))}}class RR extends hn{constructor(e){super(),this.type="ShadowMaterial",this.color=new qe(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}RR.prototype.isShadowMaterial=!0;class LR extends Mr{constructor(e){super(e),this.type="RawShaderMaterial"}}LR.prototype.isRawShaderMaterial=!0;class tw extends hn{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new qe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hs,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this}}tw.prototype.isMeshStandardMaterial=!0;class kR extends tw{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Le(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=$n(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new qe).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this}}kR.prototype.isMeshPhysicalMaterial=!0;class nw extends hn{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new qe(16777215),this.specular=new qe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hs,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ou,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}nw.prototype.isMeshPhongMaterial=!0;class NR extends hn{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new qe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hs,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}NR.prototype.isMeshToonMaterial=!0;class UR extends hn{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hs,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}UR.prototype.isMeshNormalMaterial=!0;class BR extends hn{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ou,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}BR.prototype.isMeshLambertMaterial=!0;class DR extends hn{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new qe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hs,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}DR.prototype.isMeshMatcapMaterial=!0;class PR extends sa{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}PR.prototype.isLineDashedMaterial=!0;const Ft={arraySlice:function(r,e,t){return Ft.isTypedArray(r)?new r.constructor(r.subarray(e,t!==void 0?t:r.length)):r.slice(e,t)},convertArray:function(r,e,t){return!r||!t&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)},isTypedArray:function(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)},getKeyframeOrder:function(r){function e(s,l){return r[s]-r[l]}const t=r.length,a=new Array(t);for(let s=0;s!==t;++s)a[s]=s;return a.sort(e),a},sortedArray:function(r,e,t){const a=r.length,s=new r.constructor(a);for(let l=0,c=0;c!==a;++l){const d=t[l]*e;for(let h=0;h!==e;++h)s[c++]=r[d+h]}return s},flattenJSON:function(r,e,t,a){let s=1,l=r[0];for(;l!==void 0&&l[a]===void 0;)l=r[s++];if(l===void 0)return;let c=l[a];if(c!==void 0)if(Array.isArray(c))do c=l[a],c!==void 0&&(e.push(l.time),t.push.apply(t,c)),l=r[s++];while(l!==void 0);else if(c.toArray!==void 0)do c=l[a],c!==void 0&&(e.push(l.time),c.toArray(t,t.length)),l=r[s++];while(l!==void 0);else do c=l[a],c!==void 0&&(e.push(l.time),t.push(c)),l=r[s++];while(l!==void 0)},subclip:function(r,e,t,a,s=30){const l=r.clone();l.name=e;const c=[];for(let h=0;h<l.tracks.length;++h){const f=l.tracks[h],g=f.getValueSize(),y=[],v=[];for(let b=0;b<f.times.length;++b){const w=f.times[b]*s;if(!(w<t||w>=a)){y.push(f.times[b]);for(let T=0;T<g;++T)v.push(f.values[b*g+T])}}y.length!==0&&(f.times=Ft.convertArray(y,f.times.constructor),f.values=Ft.convertArray(v,f.values.constructor),c.push(f))}l.tracks=c;let d=1/0;for(let h=0;h<l.tracks.length;++h)d>l.tracks[h].times[0]&&(d=l.tracks[h].times[0]);for(let h=0;h<l.tracks.length;++h)l.tracks[h].shift(-1*d);return l.resetDuration(),l},makeClipAdditive:function(r,e=0,t=r,a=30){a<=0&&(a=30);const s=t.tracks.length,l=e/a;for(let c=0;c<s;++c){const d=t.tracks[c],h=d.ValueTypeName;if(h==="bool"||h==="string")continue;const f=r.tracks.find(function(S){return S.name===d.name&&S.ValueTypeName===h});if(f===void 0)continue;let g=0;const y=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);let v=0;const b=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=b/3);const w=d.times.length-1;let T;if(l<=d.times[0]){const S=g,x=y-g;T=Ft.arraySlice(d.values,S,x)}else if(l>=d.times[w]){const S=w*y+g,x=S+y-g;T=Ft.arraySlice(d.values,S,x)}else{const S=d.createInterpolant(),x=g,B=y-g;S.evaluate(l),T=Ft.arraySlice(S.resultBuffer,x,B)}h==="quaternion"&&new Ln().fromArray(T).normalize().conjugate().toArray(T);const _=f.times.length;for(let S=0;S<_;++S){const x=S*b+v;if(h==="quaternion")Ln.multiplyQuaternionsFlat(f.values,x,T,0,f.values,x);else{const B=b-v*2;for(let O=0;O<B;++O)f.values[x+O]-=T[O]}}}return r.blendMode=_x,r}};class $a{constructor(e,t,a,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new t.constructor(a),this.sampleValues=t,this.valueSize=a,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let a=this._cachedIndex,s=t[a],l=t[a-1];e:{t:{let c;n:{i:if(!(e<s)){for(let d=a+2;;){if(s===void 0){if(e<l)break i;return a=t.length,this._cachedIndex=a,this.afterEnd_(a-1,e,l)}if(a===d)break;if(l=s,s=t[++a],e<s)break t}c=t.length;break n}if(!(e>=l)){const d=t[1];e<d&&(a=2,l=d);for(let h=a-2;;){if(l===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,s);if(a===h)break;if(s=l,l=t[--a-1],e>=l)break t}c=a,a=0;break n}break e}for(;a<c;){const d=a+c>>>1;e<t[d]?c=d:a=d+1}if(s=t[a],l=t[a-1],l===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,s);if(s===void 0)return a=t.length,this._cachedIndex=a,this.afterEnd_(a-1,l,e)}this._cachedIndex=a,this.intervalChanged_(a,l,s)}return this.interpolate_(a,l,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s;for(let c=0;c!==s;++c)t[c]=a[l+c];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}$a.prototype.beforeStart_=$a.prototype.copySampleValue_;$a.prototype.afterEnd_=$a.prototype.copySampleValue_;class OR extends $a{constructor(e,t,a,s){super(e,t,a,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:As,endingEnd:As}}intervalChanged_(e,t,a){const s=this.parameterPositions;let l=e-2,c=e+1,d=s[l],h=s[c];if(d===void 0)switch(this.getSettings_().endingStart){case Rs:l=e,d=2*t-a;break;case Au:l=s.length-2,d=t+s[l]-s[l+1];break;default:l=e,d=a}if(h===void 0)switch(this.getSettings_().endingEnd){case Rs:c=e,h=2*a-t;break;case Au:c=1,h=a+s[1]-s[0];break;default:c=e-1,h=t}const f=(a-t)*.5,g=this.valueSize;this._weightPrev=f/(t-d),this._weightNext=f/(h-a),this._offsetPrev=l*g,this._offsetNext=c*g}interpolate_(e,t,a,s){const l=this.resultBuffer,c=this.sampleValues,d=this.valueSize,h=e*d,f=h-d,g=this._offsetPrev,y=this._offsetNext,v=this._weightPrev,b=this._weightNext,w=(a-t)/(s-t),T=w*w,_=T*w,S=-v*_+2*v*T-v*w,x=(1+v)*_+(-1.5-2*v)*T+(-.5+v)*w+1,B=(-1-b)*_+(1.5+b)*T+.5*w,O=b*_-b*T;for(let D=0;D!==d;++D)l[D]=S*c[g+D]+x*c[f+D]+B*c[h+D]+O*c[y+D];return l}}class iw extends $a{constructor(e,t,a,s){super(e,t,a,s)}interpolate_(e,t,a,s){const l=this.resultBuffer,c=this.sampleValues,d=this.valueSize,h=e*d,f=h-d,g=(a-t)/(s-t),y=1-g;for(let v=0;v!==d;++v)l[v]=c[f+v]*y+c[h+v]*g;return l}}class zR extends $a{constructor(e,t,a,s){super(e,t,a,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ni{constructor(e,t,a,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ft.convertArray(t,this.TimeBufferType),this.values=Ft.convertArray(a,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let a;if(t.toJSON!==this.toJSON)a=t.toJSON(e);else{a={name:e.name,times:Ft.convertArray(e.times,Array),values:Ft.convertArray(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(a.interpolation=s)}return a.type=e.ValueTypeName,a}InterpolantFactoryMethodDiscrete(e){return new zR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new iw(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new OR(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Eu:t=this.InterpolantFactoryMethodDiscrete;break;case Cu:t=this.InterpolantFactoryMethodLinear;break;case cf:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const a="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(a);return console.warn("THREE.KeyframeTrack:",a),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Eu;case this.InterpolantFactoryMethodLinear:return Cu;case this.InterpolantFactoryMethodSmooth:return cf}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let a=0,s=t.length;a!==s;++a)t[a]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let a=0,s=t.length;a!==s;++a)t[a]*=e}return this}trim(e,t){const a=this.times,s=a.length;let l=0,c=s-1;for(;l!==s&&a[l]<e;)++l;for(;c!==-1&&a[c]>t;)--c;if(++c,l!==0||c!==s){l>=c&&(c=Math.max(c,1),l=c-1);const d=this.getValueSize();this.times=Ft.arraySlice(a,l,c),this.values=Ft.arraySlice(this.values,l*d,c*d)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const a=this.times,s=this.values,l=a.length;l===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let c=null;for(let d=0;d!==l;d++){const h=a[d];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,d,h),e=!1;break}if(c!==null&&c>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,d,h,c),e=!1;break}c=h}if(s!==void 0&&Ft.isTypedArray(s))for(let d=0,h=s.length;d!==h;++d){const f=s[d];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,d,f),e=!1;break}}return e}optimize(){const e=Ft.arraySlice(this.times),t=Ft.arraySlice(this.values),a=this.getValueSize(),s=this.getInterpolation()===cf,l=e.length-1;let c=1;for(let d=1;d<l;++d){let h=!1;const f=e[d],g=e[d+1];if(f!==g&&(d!==1||f!==e[0]))if(s)h=!0;else{const y=d*a,v=y-a,b=y+a;for(let w=0;w!==a;++w){const T=t[y+w];if(T!==t[v+w]||T!==t[b+w]){h=!0;break}}}if(h){if(d!==c){e[c]=e[d];const y=d*a,v=c*a;for(let b=0;b!==a;++b)t[v+b]=t[y+b]}++c}}if(l>0){e[c]=e[l];for(let d=l*a,h=c*a,f=0;f!==a;++f)t[h+f]=t[d+f];++c}return c!==e.length?(this.times=Ft.arraySlice(e,0,c),this.values=Ft.arraySlice(t,0,c*a)):(this.times=e,this.values=t),this}clone(){const e=Ft.arraySlice(this.times,0),t=Ft.arraySlice(this.values,0),a=this.constructor,s=new a(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}Ni.prototype.TimeBufferType=Float32Array;Ni.prototype.ValueBufferType=Float32Array;Ni.prototype.DefaultInterpolation=Cu;class Ks extends Ni{}Ks.prototype.ValueTypeName="bool";Ks.prototype.ValueBufferType=Array;Ks.prototype.DefaultInterpolation=Eu;Ks.prototype.InterpolantFactoryMethodLinear=void 0;Ks.prototype.InterpolantFactoryMethodSmooth=void 0;class aw extends Ni{}aw.prototype.ValueTypeName="color";class Lu extends Ni{}Lu.prototype.ValueTypeName="number";class IR extends $a{constructor(e,t,a,s){super(e,t,a,s)}interpolate_(e,t,a,s){const l=this.resultBuffer,c=this.sampleValues,d=this.valueSize,h=(a-t)/(s-t);let f=e*d;for(let g=f+d;f!==g;f+=4)Ln.slerpFlat(l,0,c,f-d,c,f,h);return l}}class xl extends Ni{InterpolantFactoryMethodLinear(e){return new IR(this.times,this.values,this.getValueSize(),e)}}xl.prototype.ValueTypeName="quaternion";xl.prototype.DefaultInterpolation=Cu;xl.prototype.InterpolantFactoryMethodSmooth=void 0;class Ys extends Ni{}Ys.prototype.ValueTypeName="string";Ys.prototype.ValueBufferType=Array;Ys.prototype.DefaultInterpolation=Eu;Ys.prototype.InterpolantFactoryMethodLinear=void 0;Ys.prototype.InterpolantFactoryMethodSmooth=void 0;class ku extends Ni{}ku.prototype.ValueTypeName="vector";class Cb{constructor(e,t=-1,a,s=Ip){this.name=e,this.tracks=a,this.duration=t,this.blendMode=s,this.uuid=Ri(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],a=e.tracks,s=1/(e.fps||1);for(let c=0,d=a.length;c!==d;++c)t.push(GR(a[c]).scale(s));const l=new this(e.name,e.duration,t,e.blendMode);return l.uuid=e.uuid,l}static toJSON(e){const t=[],a=e.tracks,s={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let l=0,c=a.length;l!==c;++l)t.push(Ni.toJSON(a[l]));return s}static CreateFromMorphTargetSequence(e,t,a,s){const l=t.length,c=[];for(let d=0;d<l;d++){let h=[],f=[];h.push((d+l-1)%l,d,(d+1)%l),f.push(0,1,0);const g=Ft.getKeyframeOrder(h);h=Ft.sortedArray(h,1,g),f=Ft.sortedArray(f,1,g),!s&&h[0]===0&&(h.push(l),f.push(f[0])),c.push(new Lu(".morphTargetInfluences["+t[d].name+"]",h,f).scale(1/a))}return new this(e,-1,c)}static findByName(e,t){let a=e;if(!Array.isArray(e)){const s=e;a=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<a.length;s++)if(a[s].name===t)return a[s];return null}static CreateClipsFromMorphTargetSequences(e,t,a){const s={},l=/^([\w-]*?)([\d]+)$/;for(let d=0,h=e.length;d<h;d++){const f=e[d],g=f.name.match(l);if(g&&g.length>1){const y=g[1];let v=s[y];v||(s[y]=v=[]),v.push(f)}}const c=[];for(const d in s)c.push(this.CreateFromMorphTargetSequence(d,s[d],t,a));return c}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const a=function(y,v,b,w,T){if(b.length!==0){const _=[],S=[];Ft.flattenJSON(b,_,S,w),_.length!==0&&T.push(new y(v,_,S))}},s=[],l=e.name||"default",c=e.fps||30,d=e.blendMode;let h=e.length||-1;const f=e.hierarchy||[];for(let y=0;y<f.length;y++){const v=f[y].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const b={};let w;for(w=0;w<v.length;w++)if(v[w].morphTargets)for(let T=0;T<v[w].morphTargets.length;T++)b[v[w].morphTargets[T]]=-1;for(const T in b){const _=[],S=[];for(let x=0;x!==v[w].morphTargets.length;++x){const B=v[w];_.push(B.time),S.push(B.morphTarget===T?1:0)}s.push(new Lu(".morphTargetInfluence["+T+"]",_,S))}h=b.length*c}else{const b=".bones["+t[y].name+"]";a(ku,b+".position",v,"pos",s),a(xl,b+".quaternion",v,"rot",s),a(ku,b+".scale",v,"scl",s)}}return s.length===0?null:new this(l,h,s,d)}resetDuration(){const e=this.tracks;let t=0;for(let a=0,s=e.length;a!==s;++a){const l=this.tracks[a];t=Math.max(t,l.times[l.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function FR(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Lu;case"vector":case"vector2":case"vector3":case"vector4":return ku;case"color":return aw;case"quaternion":return xl;case"bool":case"boolean":return Ks;case"string":return Ys}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function GR(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=FR(r.type);if(r.times===void 0){const t=[],a=[];Ft.flattenJSON(r.keys,t,a,"value"),r.times=t,r.values=a}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const zs={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class HR{constructor(e,t,a){const s=this;let l=!1,c=0,d=0,h;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=a,this.itemStart=function(g){d++,l===!1&&s.onStart!==void 0&&s.onStart(g,c,d),l=!0},this.itemEnd=function(g){c++,s.onProgress!==void 0&&s.onProgress(g,c,d),c===d&&(l=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(g){s.onError!==void 0&&s.onError(g)},this.resolveURL=function(g){return h?h(g):g},this.setURLModifier=function(g){return h=g,this},this.addHandler=function(g,y){return f.push(g,y),this},this.removeHandler=function(g){const y=f.indexOf(g);return y!==-1&&f.splice(y,2),this},this.getHandler=function(g){for(let y=0,v=f.length;y<v;y+=2){const b=f[y],w=f[y+1];if(b.global&&(b.lastIndex=0),b.test(g))return w}return null}}}const VR=new HR;class Xa{constructor(e){this.manager=e!==void 0?e:VR,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const a=this;return new Promise(function(s,l){a.load(e,s,t,l)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const bi={};class WR extends Xa{constructor(e){super(e)}load(e,t,a,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,c=zs.get(e);if(c!==void 0)return l.manager.itemStart(e),setTimeout(function(){t&&t(c),l.manager.itemEnd(e)},0),c;if(bi[e]!==void 0){bi[e].push({onLoad:t,onProgress:a,onError:s});return}const d=/^data:(.*?)(;base64)?,(.*)$/,h=e.match(d);let f;if(h){const g=h[1],y=!!h[2];let v=h[3];v=decodeURIComponent(v),y&&(v=atob(v));try{let b;const w=(this.responseType||"").toLowerCase();switch(w){case"arraybuffer":case"blob":const T=new Uint8Array(v.length);for(let S=0;S<v.length;S++)T[S]=v.charCodeAt(S);w==="blob"?b=new Blob([T.buffer],{type:g}):b=T.buffer;break;case"document":b=new DOMParser().parseFromString(v,g);break;case"json":b=JSON.parse(v);break;default:b=v;break}setTimeout(function(){t&&t(b),l.manager.itemEnd(e)},0)}catch(b){setTimeout(function(){s&&s(b),l.manager.itemError(e),l.manager.itemEnd(e)},0)}}else{bi[e]=[],bi[e].push({onLoad:t,onProgress:a,onError:s}),f=new XMLHttpRequest,f.open("GET",e,!0),f.addEventListener("load",function(g){const y=this.response,v=bi[e];if(delete bi[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),zs.add(e,y);for(let b=0,w=v.length;b<w;b++){const T=v[b];T.onLoad&&T.onLoad(y)}l.manager.itemEnd(e)}else{for(let b=0,w=v.length;b<w;b++){const T=v[b];T.onError&&T.onError(g)}l.manager.itemError(e),l.manager.itemEnd(e)}},!1),f.addEventListener("progress",function(g){const y=bi[e];for(let v=0,b=y.length;v<b;v++){const w=y[v];w.onProgress&&w.onProgress(g)}},!1),f.addEventListener("error",function(g){const y=bi[e];delete bi[e];for(let v=0,b=y.length;v<b;v++){const w=y[v];w.onError&&w.onError(g)}l.manager.itemError(e),l.manager.itemEnd(e)},!1),f.addEventListener("abort",function(g){const y=bi[e];delete bi[e];for(let v=0,b=y.length;v<b;v++){const w=y[v];w.onError&&w.onError(g)}l.manager.itemError(e),l.manager.itemEnd(e)},!1),this.responseType!==void 0&&(f.responseType=this.responseType),this.withCredentials!==void 0&&(f.withCredentials=this.withCredentials),f.overrideMimeType&&f.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const g in this.requestHeader)f.setRequestHeader(g,this.requestHeader[g]);f.send(null)}return l.manager.itemStart(e),f}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class rw extends Xa{constructor(e){super(e)}load(e,t,a,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,c=zs.get(e);if(c!==void 0)return l.manager.itemStart(e),setTimeout(function(){t&&t(c),l.manager.itemEnd(e)},0),c;const d=document.createElementNS("http://www.w3.org/1999/xhtml","img");function h(){d.removeEventListener("load",h,!1),d.removeEventListener("error",f,!1),zs.add(e,this),t&&t(this),l.manager.itemEnd(e)}function f(g){d.removeEventListener("load",h,!1),d.removeEventListener("error",f,!1),s&&s(g),l.manager.itemError(e),l.manager.itemEnd(e)}return d.addEventListener("load",h,!1),d.addEventListener("error",f,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(d.crossOrigin=this.crossOrigin),l.manager.itemStart(e),d.src=e,d}}class jR extends Xa{constructor(e){super(e)}load(e,t,a,s){const l=new zu,c=new rw(this.manager);c.setCrossOrigin(this.crossOrigin),c.setPath(this.path);let d=0;function h(f){c.load(e[f],function(g){l.images[f]=g,d++,d===6&&(l.needsUpdate=!0,t&&t(l))},void 0,s)}for(let f=0;f<e.length;++f)h(f);return l}}class sw extends Xa{constructor(e){super(e)}load(e,t,a,s){const l=new wn,c=new rw(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(e,function(d){l.image=d;const h=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;l.format=h?vr:xi,l.needsUpdate=!0,t!==void 0&&t(l)},a,s),l}}class ui{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const a=this.getUtoTmapping(e);return this.getPoint(a,t)}getPoints(e=5){const t=[];for(let a=0;a<=e;a++)t.push(this.getPoint(a/e));return t}getSpacedPoints(e=5){const t=[];for(let a=0;a<=e;a++)t.push(this.getPointAt(a/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let a,s=this.getPoint(0),l=0;t.push(0);for(let c=1;c<=e;c++)a=this.getPoint(c/e),l+=a.distanceTo(s),t.push(l),s=a;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const a=this.getLengths();let s=0;const l=a.length;let c;t?c=t:c=e*a[l-1];let d=0,h=l-1,f;for(;d<=h;)if(s=Math.floor(d+(h-d)/2),f=a[s]-c,f<0)d=s+1;else if(f>0)h=s-1;else{h=s;break}if(s=h,a[s]===c)return s/(l-1);const g=a[s],v=a[s+1]-g,b=(c-g)/v;return(s+b)/(l-1)}getTangent(e,t){let s=e-1e-4,l=e+1e-4;s<0&&(s=0),l>1&&(l=1);const c=this.getPoint(s),d=this.getPoint(l),h=t||(c.isVector2?new Le:new I);return h.copy(d).sub(c).normalize(),h}getTangentAt(e,t){const a=this.getUtoTmapping(e);return this.getTangent(a,t)}computeFrenetFrames(e,t){const a=new I,s=[],l=[],c=[],d=new I,h=new Je;for(let b=0;b<=e;b++){const w=b/e;s[b]=this.getTangentAt(w,new I),s[b].normalize()}l[0]=new I,c[0]=new I;let f=Number.MAX_VALUE;const g=Math.abs(s[0].x),y=Math.abs(s[0].y),v=Math.abs(s[0].z);g<=f&&(f=g,a.set(1,0,0)),y<=f&&(f=y,a.set(0,1,0)),v<=f&&a.set(0,0,1),d.crossVectors(s[0],a).normalize(),l[0].crossVectors(s[0],d),c[0].crossVectors(s[0],l[0]);for(let b=1;b<=e;b++){if(l[b]=l[b-1].clone(),c[b]=c[b-1].clone(),d.crossVectors(s[b-1],s[b]),d.length()>Number.EPSILON){d.normalize();const w=Math.acos($n(s[b-1].dot(s[b]),-1,1));l[b].applyMatrix4(h.makeRotationAxis(d,w))}c[b].crossVectors(s[b],l[b])}if(t===!0){let b=Math.acos($n(l[0].dot(l[e]),-1,1));b/=e,s[0].dot(d.crossVectors(l[0],l[e]))>0&&(b=-b);for(let w=1;w<=e;w++)l[w].applyMatrix4(h.makeRotationAxis(s[w],b*w)),c[w].crossVectors(s[w],l[w])}return{tangents:s,normals:l,binormals:c}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Hu extends ui{constructor(e=0,t=0,a=1,s=1,l=0,c=Math.PI*2,d=!1,h=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=a,this.yRadius=s,this.aStartAngle=l,this.aEndAngle=c,this.aClockwise=d,this.aRotation=h}getPoint(e,t){const a=t||new Le,s=Math.PI*2;let l=this.aEndAngle-this.aStartAngle;const c=Math.abs(l)<Number.EPSILON;for(;l<0;)l+=s;for(;l>s;)l-=s;l<Number.EPSILON&&(c?l=0:l=s),this.aClockwise===!0&&!c&&(l===s?l=-s:l=l-s);const d=this.aStartAngle+e*l;let h=this.aX+this.xRadius*Math.cos(d),f=this.aY+this.yRadius*Math.sin(d);if(this.aRotation!==0){const g=Math.cos(this.aRotation),y=Math.sin(this.aRotation),v=h-this.aX,b=f-this.aY;h=v*g-b*y+this.aX,f=v*y+b*g+this.aY}return a.set(h,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Hu.prototype.isEllipseCurve=!0;class ow extends Hu{constructor(e,t,a,s,l,c){super(e,t,a,a,s,l,c),this.type="ArcCurve"}}ow.prototype.isArcCurve=!0;function jp(){let r=0,e=0,t=0,a=0;function s(l,c,d,h){r=l,e=d,t=-3*l+3*c-2*d-h,a=2*l-2*c+d+h}return{initCatmullRom:function(l,c,d,h,f){s(c,d,f*(d-l),f*(h-c))},initNonuniformCatmullRom:function(l,c,d,h,f,g,y){let v=(c-l)/f-(d-l)/(f+g)+(d-c)/g,b=(d-c)/g-(h-c)/(g+y)+(h-d)/y;v*=g,b*=g,s(c,d,v,b)},calc:function(l){const c=l*l,d=c*l;return r+e*l+t*c+a*d}}}const lu=new I,Ff=new jp,Gf=new jp,Hf=new jp;class lw extends ui{constructor(e=[],t=!1,a="centripetal",s=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=a,this.tension=s}getPoint(e,t=new I){const a=t,s=this.points,l=s.length,c=(l-(this.closed?0:1))*e;let d=Math.floor(c),h=c-d;this.closed?d+=d>0?0:(Math.floor(Math.abs(d)/l)+1)*l:h===0&&d===l-1&&(d=l-2,h=1);let f,g;this.closed||d>0?f=s[(d-1)%l]:(lu.subVectors(s[0],s[1]).add(s[0]),f=lu);const y=s[d%l],v=s[(d+1)%l];if(this.closed||d+2<l?g=s[(d+2)%l]:(lu.subVectors(s[l-1],s[l-2]).add(s[l-1]),g=lu),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let w=Math.pow(f.distanceToSquared(y),b),T=Math.pow(y.distanceToSquared(v),b),_=Math.pow(v.distanceToSquared(g),b);T<1e-4&&(T=1),w<1e-4&&(w=T),_<1e-4&&(_=T),Ff.initNonuniformCatmullRom(f.x,y.x,v.x,g.x,w,T,_),Gf.initNonuniformCatmullRom(f.y,y.y,v.y,g.y,w,T,_),Hf.initNonuniformCatmullRom(f.z,y.z,v.z,g.z,w,T,_)}else this.curveType==="catmullrom"&&(Ff.initCatmullRom(f.x,y.x,v.x,g.x,this.tension),Gf.initCatmullRom(f.y,y.y,v.y,g.y,this.tension),Hf.initCatmullRom(f.z,y.z,v.z,g.z,this.tension));return a.set(Ff.calc(h),Gf.calc(h),Hf.calc(h)),a}copy(e){super.copy(e),this.points=[];for(let t=0,a=e.points.length;t<a;t++){const s=e.points[t];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,a=this.points.length;t<a;t++){const s=this.points[t];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,a=e.points.length;t<a;t++){const s=e.points[t];this.points.push(new I().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}lw.prototype.isCatmullRomCurve3=!0;function Ab(r,e,t,a,s){const l=(a-e)*.5,c=(s-t)*.5,d=r*r,h=r*d;return(2*t-2*a+l+c)*h+(-3*t+3*a-2*l-c)*d+l*r+t}function qR(r,e){const t=1-r;return t*t*e}function KR(r,e){return 2*(1-r)*r*e}function YR(r,e){return r*r*e}function sl(r,e,t,a){return qR(r,e)+KR(r,t)+YR(r,a)}function JR(r,e){const t=1-r;return t*t*t*e}function $R(r,e){const t=1-r;return 3*t*t*r*e}function XR(r,e){return 3*(1-r)*r*r*e}function ZR(r,e){return r*r*r*e}function ol(r,e,t,a,s){return JR(r,e)+$R(r,t)+XR(r,a)+ZR(r,s)}class qp extends ui{constructor(e=new Le,t=new Le,a=new Le,s=new Le){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=a,this.v3=s}getPoint(e,t=new Le){const a=t,s=this.v0,l=this.v1,c=this.v2,d=this.v3;return a.set(ol(e,s.x,l.x,c.x,d.x),ol(e,s.y,l.y,c.y,d.y)),a}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}qp.prototype.isCubicBezierCurve=!0;class cw extends ui{constructor(e=new I,t=new I,a=new I,s=new I){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=a,this.v3=s}getPoint(e,t=new I){const a=t,s=this.v0,l=this.v1,c=this.v2,d=this.v3;return a.set(ol(e,s.x,l.x,c.x,d.x),ol(e,s.y,l.y,c.y,d.y),ol(e,s.z,l.z,c.z,d.z)),a}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}cw.prototype.isCubicBezierCurve3=!0;class Vu extends ui{constructor(e=new Le,t=new Le){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Le){const a=t;return e===1?a.copy(this.v2):(a.copy(this.v2).sub(this.v1),a.multiplyScalar(e).add(this.v1)),a}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const a=t||new Le;return a.copy(this.v2).sub(this.v1).normalize(),a}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Vu.prototype.isLineCurve=!0;class QR extends ui{constructor(e=new I,t=new I){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new I){const a=t;return e===1?a.copy(this.v2):(a.copy(this.v2).sub(this.v1),a.multiplyScalar(e).add(this.v1)),a}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Kp extends ui{constructor(e=new Le,t=new Le,a=new Le){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=a}getPoint(e,t=new Le){const a=t,s=this.v0,l=this.v1,c=this.v2;return a.set(sl(e,s.x,l.x,c.x),sl(e,s.y,l.y,c.y)),a}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Kp.prototype.isQuadraticBezierCurve=!0;class uw extends ui{constructor(e=new I,t=new I,a=new I){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=a}getPoint(e,t=new I){const a=t,s=this.v0,l=this.v1,c=this.v2;return a.set(sl(e,s.x,l.x,c.x),sl(e,s.y,l.y,c.y),sl(e,s.z,l.z,c.z)),a}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}uw.prototype.isQuadraticBezierCurve3=!0;class Yp extends ui{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new Le){const a=t,s=this.points,l=(s.length-1)*e,c=Math.floor(l),d=l-c,h=s[c===0?c:c-1],f=s[c],g=s[c>s.length-2?s.length-1:c+1],y=s[c>s.length-3?s.length-1:c+2];return a.set(Ab(d,h.x,f.x,g.x,y.x),Ab(d,h.y,f.y,g.y,y.y)),a}copy(e){super.copy(e),this.points=[];for(let t=0,a=e.points.length;t<a;t++){const s=e.points[t];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,a=this.points.length;t<a;t++){const s=this.points[t];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,a=e.points.length;t<a;t++){const s=e.points[t];this.points.push(new Le().fromArray(s))}return this}}Yp.prototype.isSplineCurve=!0;var eL=Object.freeze({__proto__:null,ArcCurve:ow,CatmullRomCurve3:lw,CubicBezierCurve:qp,CubicBezierCurve3:cw,EllipseCurve:Hu,LineCurve:Vu,LineCurve3:QR,QuadraticBezierCurve:Kp,QuadraticBezierCurve3:uw,SplineCurve:Yp});class tL extends ui{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Vu(t,e))}getPoint(e){const t=e*this.getLength(),a=this.getCurveLengths();let s=0;for(;s<a.length;){if(a[s]>=t){const l=a[s]-t,c=this.curves[s],d=c.getLength(),h=d===0?0:1-l/d;return c.getPointAt(h)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let a=0,s=this.curves.length;a<s;a++)t+=this.curves[a].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let a=0;a<=e;a++)t.push(this.getPoint(a/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let a;for(let s=0,l=this.curves;s<l.length;s++){const c=l[s],d=c&&c.isEllipseCurve?e*2:c&&(c.isLineCurve||c.isLineCurve3)?1:c&&c.isSplineCurve?e*c.points.length:e,h=c.getPoints(d);for(let f=0;f<h.length;f++){const g=h[f];a&&a.equals(g)||(t.push(g),a=g)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,a=e.curves.length;t<a;t++){const s=e.curves[t];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,a=this.curves.length;t<a;t++){const s=this.curves[t];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,a=e.curves.length;t<a;t++){const s=e.curves[t];this.curves.push(new eL[s.type]().fromJSON(s))}return this}}class yp extends tL{constructor(e){super(),this.type="Path",this.currentPoint=new Le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,a=e.length;t<a;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const a=new Vu(this.currentPoint.clone(),new Le(e,t));return this.curves.push(a),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,a,s){const l=new Kp(this.currentPoint.clone(),new Le(e,t),new Le(a,s));return this.curves.push(l),this.currentPoint.set(a,s),this}bezierCurveTo(e,t,a,s,l,c){const d=new qp(this.currentPoint.clone(),new Le(e,t),new Le(a,s),new Le(l,c));return this.curves.push(d),this.currentPoint.set(l,c),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),a=new Yp(t);return this.curves.push(a),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,a,s,l,c){const d=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+d,t+h,a,s,l,c),this}absarc(e,t,a,s,l,c){return this.absellipse(e,t,a,a,s,l,c),this}ellipse(e,t,a,s,l,c,d,h){const f=this.currentPoint.x,g=this.currentPoint.y;return this.absellipse(e+f,t+g,a,s,l,c,d,h),this}absellipse(e,t,a,s,l,c,d,h){const f=new Hu(e,t,a,s,l,c,d,h);if(this.curves.length>0){const y=f.getPoint(0);y.equals(this.currentPoint)||this.lineTo(y.x,y.y)}this.curves.push(f);const g=f.getPoint(1);return this.currentPoint.copy(g),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Jp extends yp{constructor(e){super(e),this.uuid=Ri(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let a=0,s=this.holes.length;a<s;a++)t[a]=this.holes[a].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,a=e.holes.length;t<a;t++){const s=e.holes[t];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,a=this.holes.length;t<a;t++){const s=this.holes[t];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,a=e.holes.length;t<a;t++){const s=e.holes[t];this.holes.push(new yp().fromJSON(s))}return this}}class ki extends Mt{constructor(e,t=1){super(),this.type="Light",this.color=new qe(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}ki.prototype.isLight=!0;class nL extends ki{constructor(e,t,a){super(e,a),this.type="HemisphereLight",this.position.copy(Mt.DefaultUp),this.updateMatrix(),this.groundColor=new qe(t)}copy(e){return ki.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}nL.prototype.isHemisphereLight=!0;const Rb=new Je,Lb=new I,kb=new I;class $p{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Le(512,512),this.map=null,this.mapPass=null,this.matrix=new Je,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Iu,this._frameExtents=new Le(1,1),this._viewportCount=1,this._viewports=[new Lt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,a=this.matrix;Lb.setFromMatrixPosition(e.matrixWorld),t.position.copy(Lb),kb.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(kb),t.updateMatrixWorld(),Rb.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Rb),a.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),a.multiply(t.projectionMatrix),a.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class dw extends $p{constructor(){super(new In(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,a=dp*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height,l=e.distance||t.far;(a!==t.fov||s!==t.aspect||l!==t.far)&&(t.fov=a,t.aspect=s,t.far=l,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}dw.prototype.isSpotLightShadow=!0;class iL extends ki{constructor(e,t,a=0,s=Math.PI/3,l=0,c=1){super(e,t),this.type="SpotLight",this.position.copy(Mt.DefaultUp),this.updateMatrix(),this.target=new Mt,this.distance=a,this.angle=s,this.penumbra=l,this.decay=c,this.shadow=new dw}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}iL.prototype.isSpotLight=!0;const Nb=new Je,$o=new I,Vf=new I;class hw extends $p{constructor(){super(new In(90,1,.5,500)),this._frameExtents=new Le(4,2),this._viewportCount=6,this._viewports=[new Lt(2,1,1,1),new Lt(0,1,1,1),new Lt(3,1,1,1),new Lt(1,1,1,1),new Lt(3,0,1,1),new Lt(1,0,1,1)],this._cubeDirections=[new I(1,0,0),new I(-1,0,0),new I(0,0,1),new I(0,0,-1),new I(0,1,0),new I(0,-1,0)],this._cubeUps=[new I(0,1,0),new I(0,1,0),new I(0,1,0),new I(0,1,0),new I(0,0,1),new I(0,0,-1)]}updateMatrices(e,t=0){const a=this.camera,s=this.matrix,l=e.distance||a.far;l!==a.far&&(a.far=l,a.updateProjectionMatrix()),$o.setFromMatrixPosition(e.matrixWorld),a.position.copy($o),Vf.copy(a.position),Vf.add(this._cubeDirections[t]),a.up.copy(this._cubeUps[t]),a.lookAt(Vf),a.updateMatrixWorld(),s.makeTranslation(-$o.x,-$o.y,-$o.z),Nb.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Nb)}}hw.prototype.isPointLightShadow=!0;class aL extends ki{constructor(e,t,a=0,s=1){super(e,t),this.type="PointLight",this.distance=a,this.decay=s,this.shadow=new hw}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}aL.prototype.isPointLight=!0;class fw extends Gp{constructor(e=-1,t=1,a=1,s=-1,l=.1,c=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=a,this.bottom=s,this.near=l,this.far=c,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,a,s,l,c){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=a,this.view.offsetY=s,this.view.width=l,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),a=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let l=a-e,c=a+e,d=s+t,h=s-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=f*this.view.offsetX,c=l+f*this.view.width,d-=g*this.view.offsetY,h=d-g*this.view.height}this.projectionMatrix.makeOrthographic(l,c,d,h,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}fw.prototype.isOrthographicCamera=!0;class pw extends $p{constructor(){super(new fw(-5,5,5,-5,.5,500))}}pw.prototype.isDirectionalLightShadow=!0;class mw extends ki{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(Mt.DefaultUp),this.updateMatrix(),this.target=new Mt,this.shadow=new pw}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}mw.prototype.isDirectionalLight=!0;class gw extends ki{constructor(e,t){super(e,t),this.type="AmbientLight"}}gw.prototype.isAmbientLight=!0;class rL extends ki{constructor(e,t,a=10,s=10){super(e,t),this.type="RectAreaLight",this.width=a,this.height=s}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}rL.prototype.isRectAreaLight=!0;class yw{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new I)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const a=e.x,s=e.y,l=e.z,c=this.coefficients;return t.copy(c[0]).multiplyScalar(.282095),t.addScaledVector(c[1],.488603*s),t.addScaledVector(c[2],.488603*l),t.addScaledVector(c[3],.488603*a),t.addScaledVector(c[4],1.092548*(a*s)),t.addScaledVector(c[5],1.092548*(s*l)),t.addScaledVector(c[6],.315392*(3*l*l-1)),t.addScaledVector(c[7],1.092548*(a*l)),t.addScaledVector(c[8],.546274*(a*a-s*s)),t}getIrradianceAt(e,t){const a=e.x,s=e.y,l=e.z,c=this.coefficients;return t.copy(c[0]).multiplyScalar(.886227),t.addScaledVector(c[1],2*.511664*s),t.addScaledVector(c[2],2*.511664*l),t.addScaledVector(c[3],2*.511664*a),t.addScaledVector(c[4],2*.429043*a*s),t.addScaledVector(c[5],2*.429043*s*l),t.addScaledVector(c[6],.743125*l*l-.247708),t.addScaledVector(c[7],2*.429043*a*l),t.addScaledVector(c[8],.429043*(a*a-s*s)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let a=0;a<9;a++)this.coefficients[a].addScaledVector(e.coefficients[a],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let a=0;a<9;a++)this.coefficients[a].lerp(e.coefficients[a],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const a=this.coefficients;for(let s=0;s<9;s++)a[s].fromArray(e,t+s*3);return this}toArray(e=[],t=0){const a=this.coefficients;for(let s=0;s<9;s++)a[s].toArray(e,t+s*3);return e}static getBasisAt(e,t){const a=e.x,s=e.y,l=e.z;t[0]=.282095,t[1]=.488603*s,t[2]=.488603*l,t[3]=.488603*a,t[4]=1.092548*a*s,t[5]=1.092548*s*l,t[6]=.315392*(3*l*l-1),t[7]=1.092548*a*l,t[8]=.546274*(a*a-s*s)}}yw.prototype.isSphericalHarmonics3=!0;class Xp extends ki{constructor(e=new yw,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}Xp.prototype.isLightProbe=!0;class sL{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let a=0,s=e.length;a<s;a++)t+=String.fromCharCode(e[a]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}}class oL extends bt{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}oL.prototype.isInstancedBufferGeometry=!0;class lL extends dn{constructor(e,t,a,s){typeof a=="number"&&(s=a,a=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,a),this.meshPerAttribute=s||1}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}lL.prototype.isInstancedBufferAttribute=!0;class cL extends Xa{constructor(e){super(e),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,a,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,c=zs.get(e);if(c!==void 0)return l.manager.itemStart(e),setTimeout(function(){t&&t(c),l.manager.itemEnd(e)},0),c;const d={};d.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",d.headers=this.requestHeader,fetch(e,d).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(l.options,{colorSpaceConversion:"none"}))}).then(function(h){zs.add(e,h),t&&t(h),l.manager.itemEnd(e)}).catch(function(h){s&&s(h),l.manager.itemError(e),l.manager.itemEnd(e)}),l.manager.itemStart(e)}}cL.prototype.isImageBitmapLoader=!0;let cu;const uL={getContext:function(){return cu===void 0&&(cu=new(window.AudioContext||window.webkitAudioContext)),cu},setContext:function(r){cu=r}};class dL extends Xa{constructor(e){super(e)}load(e,t,a,s){const l=this,c=new WR(this.manager);c.setResponseType("arraybuffer"),c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(d){try{const h=d.slice(0);uL.getContext().decodeAudioData(h,function(g){t(g)})}catch(h){s?s(h):console.error(h),l.manager.itemError(e)}},a,s)}}class hL extends Xp{constructor(e,t,a=1){super(void 0,a);const s=new qe().set(e),l=new qe().set(t),c=new I(s.r,s.g,s.b),d=new I(l.r,l.g,l.b),h=Math.sqrt(Math.PI),f=h*Math.sqrt(.75);this.sh.coefficients[0].copy(c).add(d).multiplyScalar(h),this.sh.coefficients[1].copy(c).sub(d).multiplyScalar(f)}}hL.prototype.isHemisphereLightProbe=!0;class fL extends Xp{constructor(e,t=1){super(void 0,t);const a=new qe().set(e);this.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI))}}fL.prototype.isAmbientLightProbe=!0;class pL extends Mt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class mL{constructor(e,t,a){this.binding=e,this.valueSize=a;let s,l,c;switch(t){case"quaternion":s=this._slerp,l=this._slerpAdditive,c=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(a*6),this._workIndex=5;break;case"string":case"bool":s=this._select,l=this._select,c=this._setAdditiveIdentityOther,this.buffer=new Array(a*5);break;default:s=this._lerp,l=this._lerpAdditive,c=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(a*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=l,this._setIdentity=c,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const a=this.buffer,s=this.valueSize,l=e*s+s;let c=this.cumulativeWeight;if(c===0){for(let d=0;d!==s;++d)a[l+d]=a[d];c=t}else{c+=t;const d=t/c;this._mixBufferRegion(a,l,0,d,s)}this.cumulativeWeight=c}accumulateAdditive(e){const t=this.buffer,a=this.valueSize,s=a*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,s,0,e,a),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,a=this.buffer,s=e*t+t,l=this.cumulativeWeight,c=this.cumulativeWeightAdditive,d=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,l<1){const h=t*this._origIndex;this._mixBufferRegion(a,s,h,1-l,t)}c>0&&this._mixBufferRegionAdditive(a,s,this._addIndex*t,1,t);for(let h=t,f=t+t;h!==f;++h)if(a[h]!==a[h+t]){d.setValue(a,s);break}}saveOriginalState(){const e=this.binding,t=this.buffer,a=this.valueSize,s=a*this._origIndex;e.getValue(t,s);for(let l=a,c=s;l!==c;++l)t[l]=t[s+l%a];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let a=e;a<t;a++)this.buffer[a]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let a=0;a<this.valueSize;a++)this.buffer[t+a]=this.buffer[e+a]}_select(e,t,a,s,l){if(s>=.5)for(let c=0;c!==l;++c)e[t+c]=e[a+c]}_slerp(e,t,a,s){Ln.slerpFlat(e,t,e,t,e,a,s)}_slerpAdditive(e,t,a,s,l){const c=this._workIndex*l;Ln.multiplyQuaternionsFlat(e,c,e,t,e,a),Ln.slerpFlat(e,t,e,t,e,c,s)}_lerp(e,t,a,s,l){const c=1-s;for(let d=0;d!==l;++d){const h=t+d;e[h]=e[h]*c+e[a+d]*s}}_lerpAdditive(e,t,a,s,l){for(let c=0;c!==l;++c){const d=t+c;e[d]=e[d]+e[a+c]*s}}}const Zp="\\[\\]\\.:\\/",gL=new RegExp("["+Zp+"]","g"),Qp="[^"+Zp+"]",yL="[^"+Zp.replace("\\.","")+"]",vL=/((?:WC+[\/:])*)/.source.replace("WC",Qp),bL=/(WCOD+)?/.source.replace("WCOD",yL),xL=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Qp),wL=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Qp),SL=new RegExp("^"+vL+bL+xL+wL+"$"),ML=["material","materials","bones"];class TL{constructor(e,t,a){const s=a||Et.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const a=this._targetGroup.nCachedObjects_,s=this._bindings[a];s!==void 0&&s.getValue(e,t)}setValue(e,t){const a=this._bindings;for(let s=this._targetGroup.nCachedObjects_,l=a.length;s!==l;++s)a[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,a=e.length;t!==a;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,a=e.length;t!==a;++t)e[t].unbind()}}class Et{constructor(e,t,a){this.path=t,this.parsedPath=a||Et.parseTrackName(t),this.node=Et.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,a){return e&&e.isAnimationObjectGroup?new Et.Composite(e,t,a):new Et(e,t,a)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(gL,"")}static parseTrackName(e){const t=SL.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const a={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},s=a.nodeName&&a.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const l=a.nodeName.substring(s+1);ML.indexOf(l)!==-1&&(a.nodeName=a.nodeName.substring(0,s),a.objectName=l)}if(a.propertyName===null||a.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return a}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const a=e.skeleton.getBoneByName(t);if(a!==void 0)return a}if(e.children){const a=function(l){for(let c=0;c<l.length;c++){const d=l[c];if(d.name===t||d.uuid===t)return d;const h=a(d.children);if(h)return h}return null},s=a(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.node[this.propertyName]}_getValue_array(e,t){const a=this.resolvedProperty;for(let s=0,l=a.length;s!==l;++s)e[t++]=a[s]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const a=this.resolvedProperty;for(let s=0,l=a.length;s!==l;++s)a[s]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const a=this.resolvedProperty;for(let s=0,l=a.length;s!==l;++s)a[s]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const a=this.resolvedProperty;for(let s=0,l=a.length;s!==l;++s)a[s]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,a=t.objectName,s=t.propertyName;let l=t.propertyIndex;if(e||(e=Et.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(a){let f=t.objectIndex;switch(a){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let g=0;g<e.length;g++)if(e[g].name===f){f=g;break}break;default:if(e[a]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[a]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const c=e[s];if(c===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+s+" but it wasn't found.",e);return}let d=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?d=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(d=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(l!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[l]!==void 0&&(l=e.morphTargetDictionary[l])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}h=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=l}else c.fromArray!==void 0&&c.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=c):Array.isArray(c)?(h=this.BindingType.EntireArray,this.resolvedProperty=c):this.propertyName=s;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][d]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Et.Composite=TL;Et.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Et.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Et.prototype.GetterByBindingType=[Et.prototype._getValue_direct,Et.prototype._getValue_array,Et.prototype._getValue_arrayElement,Et.prototype._getValue_toArray];Et.prototype.SetterByBindingTypeAndVersioning=[[Et.prototype._setValue_direct,Et.prototype._setValue_direct_setNeedsUpdate,Et.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_array,Et.prototype._setValue_array_setNeedsUpdate,Et.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_arrayElement,Et.prototype._setValue_arrayElement_setNeedsUpdate,Et.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_fromArray,Et.prototype._setValue_fromArray_setNeedsUpdate,Et.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class _L{constructor(e,t,a=null,s=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=a,this.blendMode=s;const l=t.tracks,c=l.length,d=new Array(c),h={endingStart:As,endingEnd:As};for(let f=0;f!==c;++f){const g=l[f].createInterpolant(null);d[f]=g,g.settings=h}this._interpolantSettings=h,this._interpolants=d,this._propertyBindings=new Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=c_,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,a){if(e.fadeOut(t),this.fadeIn(t),a){const s=this._clip.duration,l=e._clip.duration,c=l/s,d=s/l;e.warp(1,c,t),this.warp(d,1,t)}return this}crossFadeTo(e,t,a){return e.crossFadeFrom(this,t,a)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,a){const s=this._mixer,l=s.time,c=this.timeScale;let d=this._timeScaleInterpolant;d===null&&(d=s._lendControlInterpolant(),this._timeScaleInterpolant=d);const h=d.parameterPositions,f=d.sampleValues;return h[0]=l,h[1]=l+a,f[0]=e/c,f[1]=t/c,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,a,s){if(!this.enabled){this._updateWeight(e);return}const l=this._startTime;if(l!==null){const h=(e-l)*a;if(h<0||a===0)return;this._startTime=null,t=a*h}t*=this._updateTimeScale(e);const c=this._updateTime(t),d=this._updateWeight(e);if(d>0){const h=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case _x:for(let g=0,y=h.length;g!==y;++g)h[g].evaluate(c),f[g].accumulateAdditive(d);break;case Ip:default:for(let g=0,y=h.length;g!==y;++g)h[g].evaluate(c),f[g].accumulate(s,d)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const a=this._weightInterpolant;if(a!==null){const s=a.evaluate(e)[0];t*=s,e>a.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const a=this._timeScaleInterpolant;if(a!==null){const s=a.evaluate(e)[0];t*=s,e>a.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,a=this.loop;let s=this.time+e,l=this._loopCount;const c=a===u_;if(e===0)return l===-1?s:c&&(l&1)===1?t-s:s;if(a===l_){l===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=t)s=t;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(l===-1&&(e>=0?(l=0,this._setEndings(!0,this.repetitions===0,c)):this._setEndings(this.repetitions===0,!0,c)),s>=t||s<0){const d=Math.floor(s/t);s-=t*d,l+=Math.abs(d);const h=this.repetitions-l;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?t:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const f=e<0;this._setEndings(f,!f,c)}else this._setEndings(!1,!1,c);this._loopCount=l,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:d})}}else this.time=s;if(c&&(l&1)===1)return t-s}return s}_setEndings(e,t,a){const s=this._interpolantSettings;a?(s.endingStart=Rs,s.endingEnd=Rs):(e?s.endingStart=this.zeroSlopeAtStart?Rs:As:s.endingStart=Au,t?s.endingEnd=this.zeroSlopeAtEnd?Rs:As:s.endingEnd=Au)}_scheduleFading(e,t,a){const s=this._mixer,l=s.time;let c=this._weightInterpolant;c===null&&(c=s._lendControlInterpolant(),this._weightInterpolant=c);const d=c.parameterPositions,h=c.sampleValues;return d[0]=l,h[0]=t,d[1]=l+e,h[1]=a,this}}class EL extends _r{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const a=e._localRoot||this._root,s=e._clip.tracks,l=s.length,c=e._propertyBindings,d=e._interpolants,h=a.uuid,f=this._bindingsByRootAndName;let g=f[h];g===void 0&&(g={},f[h]=g);for(let y=0;y!==l;++y){const v=s[y],b=v.name;let w=g[b];if(w!==void 0)c[y]=w;else{if(w=c[y],w!==void 0){w._cacheIndex===null&&(++w.referenceCount,this._addInactiveBinding(w,h,b));continue}const T=t&&t._propertyBindings[y].binding.parsedPath;w=new mL(Et.create(a,b,T),v.ValueTypeName,v.getValueSize()),++w.referenceCount,this._addInactiveBinding(w,h,b),c[y]=w}d[y].resultBuffer=w.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const a=(e._localRoot||this._root).uuid,s=e._clip.uuid,l=this._actionsByClip[s];this._bindAction(e,l&&l.knownActions[0]),this._addInactiveAction(e,s,a)}const t=e._propertyBindings;for(let a=0,s=t.length;a!==s;++a){const l=t[a];l.useCount++===0&&(this._lendBinding(l),l.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let a=0,s=t.length;a!==s;++a){const l=t[a];--l.useCount===0&&(l.restoreOriginalState(),this._takeBackBinding(l))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,a){const s=this._actions,l=this._actionsByClip;let c=l[t];if(c===void 0)c={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,l[t]=c;else{const d=c.knownActions;e._byClipCacheIndex=d.length,d.push(e)}e._cacheIndex=s.length,s.push(e),c.actionByRoot[a]=e}_removeInactiveAction(e){const t=this._actions,a=t[t.length-1],s=e._cacheIndex;a._cacheIndex=s,t[s]=a,t.pop(),e._cacheIndex=null;const l=e._clip.uuid,c=this._actionsByClip,d=c[l],h=d.knownActions,f=h[h.length-1],g=e._byClipCacheIndex;f._byClipCacheIndex=g,h[g]=f,h.pop(),e._byClipCacheIndex=null;const y=d.actionByRoot,v=(e._localRoot||this._root).uuid;delete y[v],h.length===0&&delete c[l],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let a=0,s=t.length;a!==s;++a){const l=t[a];--l.referenceCount===0&&this._removeInactiveBinding(l)}}_lendAction(e){const t=this._actions,a=e._cacheIndex,s=this._nActiveActions++,l=t[s];e._cacheIndex=s,t[s]=e,l._cacheIndex=a,t[a]=l}_takeBackAction(e){const t=this._actions,a=e._cacheIndex,s=--this._nActiveActions,l=t[s];e._cacheIndex=s,t[s]=e,l._cacheIndex=a,t[a]=l}_addInactiveBinding(e,t,a){const s=this._bindingsByRootAndName,l=this._bindings;let c=s[t];c===void 0&&(c={},s[t]=c),c[a]=e,e._cacheIndex=l.length,l.push(e)}_removeInactiveBinding(e){const t=this._bindings,a=e.binding,s=a.rootNode.uuid,l=a.path,c=this._bindingsByRootAndName,d=c[s],h=t[t.length-1],f=e._cacheIndex;h._cacheIndex=f,t[f]=h,t.pop(),delete d[l],Object.keys(d).length===0&&delete c[s]}_lendBinding(e){const t=this._bindings,a=e._cacheIndex,s=this._nActiveBindings++,l=t[s];e._cacheIndex=s,t[s]=e,l._cacheIndex=a,t[a]=l}_takeBackBinding(e){const t=this._bindings,a=e._cacheIndex,s=--this._nActiveBindings,l=t[s];e._cacheIndex=s,t[s]=e,l._cacheIndex=a,t[a]=l}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let a=e[t];return a===void 0&&(a=new iw(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),a.__cacheIndex=t,e[t]=a),a}_takeBackControlInterpolant(e){const t=this._controlInterpolants,a=e.__cacheIndex,s=--this._nActiveControlInterpolants,l=t[s];e.__cacheIndex=s,t[s]=e,l.__cacheIndex=a,t[a]=l}clipAction(e,t,a){const s=t||this._root,l=s.uuid;let c=typeof e=="string"?Cb.findByName(s,e):e;const d=c!==null?c.uuid:e,h=this._actionsByClip[d];let f=null;if(a===void 0&&(c!==null?a=c.blendMode:a=Ip),h!==void 0){const y=h.actionByRoot[l];if(y!==void 0&&y.blendMode===a)return y;f=h.knownActions[0],c===null&&(c=f._clip)}if(c===null)return null;const g=new _L(this,c,t,a);return this._bindAction(g,f),this._addInactiveAction(g,d,l),g}existingAction(e,t){const a=t||this._root,s=a.uuid,l=typeof e=="string"?Cb.findByName(a,e):e,c=l?l.uuid:e,d=this._actionsByClip[c];return d!==void 0&&d.actionByRoot[s]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let a=t-1;a>=0;--a)e[a].stop();return this}update(e){e*=this.timeScale;const t=this._actions,a=this._nActiveActions,s=this.time+=e,l=Math.sign(e),c=this._accuIndex^=1;for(let f=0;f!==a;++f)t[f]._update(s,e,l,c);const d=this._bindings,h=this._nActiveBindings;for(let f=0;f!==h;++f)d[f].apply(c);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,a=e.uuid,s=this._actionsByClip,l=s[a];if(l!==void 0){const c=l.knownActions;for(let d=0,h=c.length;d!==h;++d){const f=c[d];this._deactivateAction(f);const g=f._cacheIndex,y=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,y._cacheIndex=g,t[g]=y,t.pop(),this._removeInactiveBindingsForAction(f)}delete s[a]}}uncacheRoot(e){const t=e.uuid,a=this._actionsByClip;for(const c in a){const d=a[c].actionByRoot,h=d[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const s=this._bindingsByRootAndName,l=s[t];if(l!==void 0)for(const c in l){const d=l[c];d.restoreOriginalState(),this._removeInactiveBinding(d)}}uncacheAction(e,t){const a=this.existingAction(e,t);a!==null&&(this._deactivateAction(a),this._removeInactiveAction(a))}}EL.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class CL extends Cr{constructor(e,t,a=1){super(e,t),this.meshPerAttribute=a||1}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}CL.prototype.isInstancedInterleavedBuffer=!0;class AL{constructor(e,t,a=0,s=1/0){this.ray=new Er(e,t),this.near=a,this.far=s,this.camera=null,this.layers=new Cx,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!1,a=[]){return vp(e,this,a,t),a.sort(Ub),a}intersectObjects(e,t=!1,a=[]){for(let s=0,l=e.length;s<l;s++)vp(e[s],this,a,t);return a.sort(Ub),a}}function Ub(r,e){return r.distance-e.distance}function vp(r,e,t,a){if(r.layers.test(e.layers)&&r.raycast(e,t),a===!0){const s=r.children;for(let l=0,c=s.length;l<c;l++)vp(s[l],e,t,!0)}}class RL extends Mt{constructor(e){super(),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}RL.prototype.isImmediateRenderObject=!0;const Ga=new I,uu=new Je,Wf=new Je;class LL extends Wp{constructor(e){const t=vw(e),a=new bt,s=[],l=[],c=new qe(0,0,1),d=new qe(0,1,0);for(let f=0;f<t.length;f++){const g=t[f];g.parent&&g.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),l.push(c.r,c.g,c.b),l.push(d.r,d.g,d.b))}a.setAttribute("position",new Ht(s,3)),a.setAttribute("color",new Ht(l,3));const h=new sa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(a,h),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,a=this.geometry,s=a.getAttribute("position");Wf.copy(this.root.matrixWorld).invert();for(let l=0,c=0;l<t.length;l++){const d=t[l];d.parent&&d.parent.isBone&&(uu.multiplyMatrices(Wf,d.matrixWorld),Ga.setFromMatrixPosition(uu),s.setXYZ(c,Ga.x,Ga.y,Ga.z),uu.multiplyMatrices(Wf,d.parent.matrixWorld),Ga.setFromMatrixPosition(uu),s.setXYZ(c+1,Ga.x,Ga.y,Ga.z),c+=2)}a.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function vw(r){const e=[];r&&r.isBone&&e.push(r);for(let t=0;t<r.children.length;t++)e.push.apply(e,vw(r.children[t]));return e}class kL extends Wp{constructor(e=10,t=10,a=4473924,s=8947848){a=new qe(a),s=new qe(s);const l=t/2,c=e/t,d=e/2,h=[],f=[];for(let v=0,b=0,w=-d;v<=t;v++,w+=c){h.push(-d,0,w,d,0,w),h.push(w,0,-d,w,0,d);const T=v===l?a:s;T.toArray(f,b),b+=3,T.toArray(f,b),b+=3,T.toArray(f,b),b+=3,T.toArray(f,b),b+=3}const g=new bt;g.setAttribute("position",new Ht(h,3)),g.setAttribute("color",new Ht(f,3));const y=new sa({vertexColors:!0,toneMapped:!1});super(g,y),this.type="GridHelper"}}const NL=new Float32Array(1);new Int32Array(NL.buffer);const UL=new ra({side:rn,depthWrite:!1,depthTest:!1});new un(new Fp,UL);ui.create=function(r,e){return console.log("THREE.Curve.create() has been deprecated"),r.prototype=Object.create(ui.prototype),r.prototype.constructor=r,r.prototype.getPoint=e,r};yp.prototype.fromPoints=function(r){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(r)};kL.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};LL.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Xa.prototype.extractUrlBase=function(r){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),sL.extractUrlBase(r)};Xa.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};hi.prototype.center=function(r){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(r)};hi.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};hi.prototype.isIntersectionBox=function(r){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(r)};hi.prototype.isIntersectionSphere=function(r){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(r)};hi.prototype.size=function(r){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(r)};Ws.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Iu.prototype.setFromMatrix=function(r){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(r)};xn.prototype.flattenToArrayOffset=function(r,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(r,e)};xn.prototype.multiplyVector3=function(r){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),r.applyMatrix3(this)};xn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};xn.prototype.applyToBufferAttribute=function(r){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),r.applyMatrix3(this)};xn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};xn.prototype.getInverse=function(r){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(r).invert()};Je.prototype.extractPosition=function(r){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(r)};Je.prototype.flattenToArrayOffset=function(r,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(r,e)};Je.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new I().setFromMatrixColumn(this,3)};Je.prototype.setRotationFromQuaternion=function(r){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(r)};Je.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Je.prototype.multiplyVector3=function(r){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)};Je.prototype.multiplyVector4=function(r){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)};Je.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Je.prototype.rotateAxis=function(r){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),r.transformDirection(this)};Je.prototype.crossVector=function(r){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)};Je.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Je.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Je.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Je.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Je.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Je.prototype.applyToBufferAttribute=function(r){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)};Je.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Je.prototype.makeFrustum=function(r,e,t,a,s,l){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(r,e,a,t,s,l)};Je.prototype.getInverse=function(r){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(r).invert()};Ci.prototype.isIntersectionLine=function(r){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(r)};Ln.prototype.multiplyVector3=function(r){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),r.applyQuaternion(this)};Ln.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Er.prototype.isIntersectionBox=function(r){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(r)};Er.prototype.isIntersectionPlane=function(r){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(r)};Er.prototype.isIntersectionSphere=function(r){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(r)};sn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};sn.prototype.barycoordFromPoint=function(r,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(r,e)};sn.prototype.midpoint=function(r){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(r)};sn.prototypenormal=function(r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(r)};sn.prototype.plane=function(r){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(r)};sn.barycoordFromPoint=function(r,e,t,a,s){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),sn.getBarycoord(r,e,t,a,s)};sn.normal=function(r,e,t,a){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),sn.getNormal(r,e,t,a)};Jp.prototype.extractAllPoints=function(r){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(r)};Jp.prototype.extrude=function(r){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Gu(this,r)};Jp.prototype.makeGeometry=function(r){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new CR(this,r)};Le.prototype.fromAttribute=function(r,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(r,e,t)};Le.prototype.distanceToManhattan=function(r){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(r)};Le.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};I.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};I.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};I.prototype.getPositionFromMatrix=function(r){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(r)};I.prototype.getScaleFromMatrix=function(r){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(r)};I.prototype.getColumnFromMatrix=function(r,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,r)};I.prototype.applyProjection=function(r){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(r)};I.prototype.fromAttribute=function(r,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(r,e,t)};I.prototype.distanceToManhattan=function(r){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(r)};I.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Lt.prototype.fromAttribute=function(r,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(r,e,t)};Lt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Mt.prototype.getChildByName=function(r){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(r)};Mt.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Mt.prototype.translate=function(r,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,r)};Mt.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Mt.prototype.applyMatrix=function(r){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(r)};Object.defineProperties(Mt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(r){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=r}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});un.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(un.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),d_},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});$x.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};In.prototype.setLens=function(r,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(r)};Object.defineProperties(ki.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(r){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=r}},shadowCameraLeft:{set:function(r){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=r}},shadowCameraRight:{set:function(r){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=r}},shadowCameraTop:{set:function(r){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=r}},shadowCameraBottom:{set:function(r){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=r}},shadowCameraNear:{set:function(r){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=r}},shadowCameraFar:{set:function(r){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=r}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(r){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=r}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(r){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=r}},shadowMapHeight:{set:function(r){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=r}}});Object.defineProperties(dn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Ru},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Ru)}}});dn.prototype.setDynamic=function(r){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(r===!0?Ru:dl),this};dn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},dn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};bt.prototype.addIndex=function(r){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(r)};bt.prototype.addAttribute=function(r,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(r,new dn(arguments[1],arguments[2]))):r==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(r,e)};bt.prototype.addDrawCall=function(r,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(r,e)};bt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};bt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};bt.prototype.removeAttribute=function(r){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(r)};bt.prototype.applyMatrix=function(r){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(r)};Object.defineProperties(bt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Cr.prototype.setDynamic=function(r){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(r===!0?Ru:dl),this};Cr.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Gu.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Gu.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Gu.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Vp.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(hn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new qe}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(r){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===wx}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(r){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=r}}});Object.defineProperties(Mr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(r){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=r}}});kt.prototype.clearTarget=function(r,e,t,a){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(r),this.clear(e,t,a)};kt.prototype.animate=function(r){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(r)};kt.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};kt.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};kt.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};kt.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};kt.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};kt.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};kt.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};kt.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};kt.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};kt.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};kt.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};kt.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};kt.prototype.enableScissorTest=function(r){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(r)};kt.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};kt.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};kt.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};kt.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};kt.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};kt.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};kt.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};kt.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};kt.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};kt.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(kt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(r){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=r}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(r){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=r}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(r){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=r===!0?Ex:bl}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(qx.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(br.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(r){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=r}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(r){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=r}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(r){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=r}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(r){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=r}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(r){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=r}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(r){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=r}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(r){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=r}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(r){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=r}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(r){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=r}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(r){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=r}}});pL.prototype.load=function(r){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new dL().load(r,function(a){e.setBuffer(a)}),this};Hp.prototype.updateCubeMap=function(r,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(r,e)};Hp.prototype.clear=function(r,e,t,a){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(r,e,t,a)};Vs.crossOrigin=void 0;Vs.loadTexture=function(r,e,t,a){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const s=new sw;s.setCrossOrigin(this.crossOrigin);const l=s.load(r,t,void 0,a);return e&&(l.mapping=e),l};Vs.loadTextureCube=function(r,e,t,a){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const s=new jR;s.setCrossOrigin(this.crossOrigin);const l=s.load(r,t,void 0,a);return e&&(l.mapping=e),l};Vs.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Vs.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:bx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=bx);const yr={catastrophic:{hex:"#dc2626",glow:16724787},extreme:{hex:"#f97316",glow:16737792},severe:{hex:"#eab308",glow:16763904},stormy:{hex:"#8b5cf6",glow:8934911},cloudy:{hex:"#3b82f6",glow:3377407},clear:{hex:"#22c55e",glow:2280533}},du={"The Intercept":"L","Democracy Now":"L",Jacobin:"L","Mother Jones":"L",MSNBC:"L",HuffPost:"L",Vox:"L",Slate:"L","The Nation":"L","Raw Story":"L","The Wire":"L","Middle East Monitor":"L","The Guardian":"L",Guardian:"L","The Atlantic":"L","New York Times":"LC","The New York Times":"LC","NY Times":"LC","Washington Post":"LC","The Washington Post":"LC",CNN:"LC",BBC:"LC","BBC World":"LC","BBC News":"LC",NPR:"LC","NBC News":"LC","CBS News":"LC","ABC News":"LC",Time:"LC",TIME:"LC",Politico:"LC",Bloomberg:"LC","The Independent":"LC","BuzzFeed News":"LC",BuzzFeed:"LC","USA Today":"LC","Los Angeles Times":"LC","LA Times":"LC","Daily Beast":"LC",Mediaite:"LC","Business Insider":"LC",Insider:"LC","The New Yorker":"LC",NDTV:"LC","India Today":"LC","Hindustan Times":"LC","The Print":"LC",Scroll:"LC",Firstpost:"LC","Kyiv Independent":"LC","Kyiv Post":"LC","Le Monde":"LC","Der Spiegel":"LC","El Pas":"LC","Middle East Eye":"LC",Folha:"LC",CNBC:"LC","ABC Australia":"LC","Sydney Morning Herald":"LC","Politico EU":"LC","Irish Times":"LC","Deccan Herald":"LC","Indian Express":"LC","Asahi Shimbun":"LC","Live Mint":"LC","The Conversation":"LC","Times of Israel":"LC","Sky News":"LC","Chicago Tribune":"LC","Miami Herald":"LC","Al Jazeera":"LC",AP:"LC","AP News":"LC","Associated Press":"LC",Axios:"LC",Haaretz:"LC",CBC:"LC","CBC News":"LC",Reuters:"C","France 24":"C",France24:"C","DW News":"C",DW:"C","Deutsche Welle":"C","The Hill":"C",PBS:"C",Nikkei:"C","Nikkei Asia":"C",FT:"C","Financial Times":"C","UN News":"C","The Hindu":"LC","Korea Times":"C","Korea Herald":"C",SCMP:"C","South China Morning Post":"C",Euronews:"C",UPI:"C",PTI:"C",ANI:"C",IANS:"C",DPA:"C",EFE:"C",ANSA:"C",Dawn:"C","Express Tribune":"C","Geo News":"C","Pakistan Today":"C","The News":"C","Straits Times":"C",CNA:"C","Japan Times":"C","Bangkok Post":"C",Bernama:"C",VnExpress:"C","NZ Herald":"C",RNZ:"C",RT:"C","Africa News":"C",Africanews:"C","Jakarta Post":"C","The Jakarta Post":"C","Nation Kenya":"C",Semafor:"C","Foreign Policy":"C","Foreign Affairs":"C","Defense One":"C","Defense News":"C","Breaking Defense":"C",Clarn:"C","Premium Times":"C",News24:"C","Times Live":"C","Mail & Guardian":"C","East African":"C","Standard Media":"C","Daily Nation":"C",PhilStar:"C",Inquirer:"C","Manila Times":"C","The Star Malaysia":"C","Stuff NZ":"C","Nine News":"C","Dutch News":"C","The Local":"C",WION:"C","Economic Times":"C","Money Control":"C",MarketWatch:"C",Fortune:"C",Barrons:"C","Seeking Alpha":"C",Yonhap:"C","NHK World":"C",NHK:"C","Kyodo News":"C",Kyodo:"C","Google News":"LC",AFP:"C",Newsweek:"C","The Economist":"C",Forbes:"C","Wall Street Journal":"RC","The Wall Street Journal":"RC",WSJ:"RC","The Telegraph":"RC","Washington Times":"RC","New York Post":"RC","The Dispatch":"RC",RealClearPolitics:"RC","Daily Mail":"RC","Daily Mail UK":"RC","Daily Express":"RC","The Sun":"RC","The Australian":"RC","Jerusalem Post":"RC","Daily Sabah":"RC","TRT World":"RC","Anadolu Agency":"RC","Arab News":"RC","Gulf News":"RC","Al Arabiya":"RC","Global Times":"RC","O Globo":"RC","La Nacin":"RC","Times of India":"RC","ARY News":"RC","Metro UK":"RC","Evening Standard":"RC","Washington Examiner":"RC","Globe and Mail":"LC","Daily Star Bangladesh":"C","Daily Star":"C",Tempo:"C","The National":"RC","The National UAE":"RC","Buenos Aires Herald":"C","Taipei Times":"C",Rappler:"LC","Vietnam News":"R","Fox News":"R","Daily Wire":"R",Breitbart:"R","The Blaze":"R",Newsmax:"R","Daily Caller":"R","National Review":"R","The Federalist":"R","New York Sun":"R",RT:"R",TASS:"R",Xinhua:"R","China Daily":"R",CGTN:"R","Tehran Times":"R",Pravda:"R","RIA Novosti":"R","Mehr News":"R"};function Nu(r){if(!r)return null;if(du[r])return du[r];const e=r.toLowerCase();let t=null,a=0;return Object.keys(du).forEach(s=>{if(s.length<4)return;const l=s.toLowerCase();(e.includes(l)||l.includes(e))&&s.length>a&&(a=s.length,t=s)}),t?du[t]:"C"}function BL(r){if(bp(r))return"";const e=Nu(r);if(!e)return"";const t={L:"Left Leaning",LC:"Slight Left Leaning",C:"Unbiased",RC:"Slight Right Leaning",R:"Right Leaning"},a={L:"8%",LC:"28%",C:"50%",RC:"72%",R:"92%"},s={L:"#2563eb",LC:"#60a5fa",C:"#9ca3af",RC:"#f87171",R:"#dc2626"},l={L:"#60a5fa",LC:"#93c5fd",C:"#9ca3af",RC:"#fca5a5",R:"#f87171"};return`<span style="display:inline-flex;align-items:center;gap:4px;margin-left:6px;vertical-align:middle;"><span style="display:inline-block;width:48px;height:4px;border-radius:2px;background:linear-gradient(to right,#2563eb 0%,#60a5fa 20%,#93c5fd 35%,#d1d5db 50%,#fca5a5 65%,#f87171 80%,#dc2626 100%);position:relative;"><span style="position:absolute;top:50%;left:${a[e]};width:8px;height:8px;border-radius:50%;background:#fff;border:2px solid ${s[e]};transform:translate(-50%,-50%);box-shadow:0 1px 3px rgba(0,0,0,0.4);"></span></span><span style="font-size:7px;color:${l[e]};font-weight:600;white-space:nowrap;">${t[e]}</span></span>`}function DL(r){if(r.length<4)return r;function e(t){const a=Nu(t);return a==="L"||a==="LC"?"left":a==="RC"||a==="R"?"right":"center"}for(let t=0;t<3;t++){let a=!1;for(let s=2;s<r.length;s++){const l=e(r[s-2].source),c=e(r[s-1].source),d=e(r[s].source);if(l===c&&c===d&&l!=="center"){for(let h=s+1;h<Math.min(s+8,r.length);h++)if(e(r[h].source)!==l){[r[s],r[h]]=[r[h],r[s]],a=!0;break}}}if(!a)break}return r}const hu={CGTN:"China  State Media",TASS:"Russia  State Media","Al Arabiya":"Saudi Arabia  State Affiliated","Press TV":"Iran  State Media",RT:"Russia  State Media",Xinhua:"China  State Media","Mehr News":"Iran  State Media","Vietnam News":"Vietnam  State Media","The National":"UAE  State Affiliated"};function bp(r){if(!r)return null;if(hu[r])return hu[r];for(const e of Object.keys(hu))if(e.length>=4&&r.toLowerCase().includes(e.toLowerCase()))return hu[e];return null}function bw(r){let e=r.source||"";const t=r.headline||r.title||"";if(e.includes("Google News")&&t){const a=t.lastIndexOf(" - ");a>0&&(e=t.substring(a+3).trim())}return e}const PL=new Set(["cgtn","xinhua","china daily","global times","south china morning post","scmp","tass","rt","ria novosti","pravda","times of india","ndtv","hindustan times","indian express","the hindu","the print","the wire","scroll","firstpost","india today","live mint","economic times","wion","al jazeera","al arabiya","arab news","gulf news","daily sabah","trt world","anadolu agency","tehran times","press tv","middle east monitor","middle east eye","mehr news","dawn","geo news","ary news","express tribune","nhk world","nhk","kyodo news","kyodo","nikkei asia","japan times","korea herald","korea times","asahi shimbun","yonhap","straits times","cna","bangkok post","bernama","vnexpress","france 24","france24","deutsche welle","dw","dw news","o globo","folha","clarn","la nacin","the hindu","times of israel","africa news","africanews","haaretz","jakarta post","the jakarta post","nation kenya","daily nation","daily star bangladesh","daily star","the daily star","tempo","the national","the national uae","buenos aires herald","taipei times","vietnam news","rappler","premium times","mail & guardian","mail and guardian"]);function OL(r){return r?PL.has(r.toLowerCase()):!1}function zL(r){if(r.length<4)return r;const e=[],t=[];for(const c of r){const d=bw(c);OL(d)?t.push(c):e.push(c)}if(t.length===0||e.length===0)return r;const a=[];let s=0,l=0;for(;s<e.length||l<t.length;)s<e.length&&a.push(e[s++]),s<e.length&&a.push(e[s++]),l<t.length&&a.push(t[l++]);return a}function SN(r,e=2){const t={};return r.filter(a=>{const l=bw(a).toLowerCase();return t[l]=(t[l]||0)+1,t[l]<=e})}function Bs(r){if(!r)return"News";const e=r.toLowerCase(),t={bbc:"BBC News",reuters:"Reuters",aljazeera:"Al Jazeera",theguardian:"The Guardian",apnews:"AP News",afp:"AFP",dw:"Deutsche Welle",france24:"France 24",cnn:"CNN",nytimes:"NY Times",washingtonpost:"Washington Post",wsj:"Wall Street Journal",usatoday:"USA Today",latimes:"LA Times",chicagotribune:"Chicago Tribune",abc:"ABC News",nbc:"NBC News",cbs:"CBS News",fox:"Fox News",foxnews:"Fox News",nypost:"New York Post",newyorkpost:"New York Post",newsmax:"Newsmax",npr:"NPR",pbs:"PBS",politico:"Politico",thehill:"The Hill",axios:"Axios",huffpost:"HuffPost",buzzfeed:"BuzzFeed",vox:"Vox",slate:"Slate",yardbarker:"Yardbarker",espn:"ESPN",cbssports:"CBS Sports",si:"Sports Illustrated",bloomberg:"Bloomberg",ft:"Financial Times",economist:"The Economist",cnbc:"CNBC",marketwatch:"MarketWatch",forbes:"Forbes",fortune:"Fortune",businessinsider:"Business Insider",insider:"Insider",barrons:"Barrons",benzinga:"Benzinga",investorplace:"InvestorPlace",seekingalpha:"Seeking Alpha",thestreet:"TheStreet",investopedia:"Investopedia",kiplinger:"Kiplinger",biztoc:"BizToc",bizjournals:"Biz Journals",ibtimes:"IB Times",sky:"Sky News",telegraph:"The Telegraph",independent:"The Independent",mirror:"The Mirror",express:"Daily Express",metro:"Metro UK",thesun:"The Sun",dailymail:"Daily Mail",dailymailuk:"Daily Mail UK",eveningstandard:"Evening Standard",londonlovesbusiness:"London Loves Business",cityam:"City A.M.",dailysabah:"Daily Sabah",jpost:"Jerusalem Post",timesofisrael:"Times of Israel",haaretz:"Haaretz",middleeastmonitor:"Middle East Monitor",middleeasteye:"Middle East Eye",arabnews:"Arab News",gulfnews:"Gulf News",zawya:"Zawya",alarabiya:"Al Arabiya",trtworld:"TRT World",aa:"Anadolu Agency",tehrantimes:"Tehran Times",menafn:"MENAFN",albawaba:"Al Bawaba",middleeaststar:"Middle East Star",tribune_pk:"Express Tribune",expresstribune:"Express Tribune",dawn:"Dawn",geo:"Geo News",arynews:"ARY News",thenews:"The News",pakistantoday:"Pakistan Today",thehindu:"The Hindu",hindustantimes:"Hindustan Times",ndtv:"NDTV",indiatoday:"India Today",mathrubhumi:"Mathrubhumi",timesofindia:"Times of India",toi:"Times of India",indianexpress:"Indian Express",deccanherald:"Deccan Herald",theprint:"The Print",thewire:"The Wire",scroll:"Scroll",firstpost:"Firstpost",livemint:"Live Mint",moneycontrol:"Money Control",economictimes:"Economic Times",scmp:"South China Morning Post",straitstimes:"Straits Times",channelnewsasia:"CNA",nikkei:"Nikkei Asia",japantimes:"Japan Times",koreaherald:"Korea Herald",koreatimes:"Korea Times",asahi:"Asahi Shimbun",bangkokpost:"Bangkok Post",xinhua:"Xinhua",globaltimes:"Global Times",chinadaily:"China Daily",cgtn:"CGTN",nhk:"NHK World",nhkworld:"NHK World",kyodo:"Kyodo News",kyodonews:"Kyodo News",mehrnews:"Mehr News",jakartapost:"Jakarta Post",thejakartapost:"Jakarta Post",africanews:"Africa News",nationkenya:"Nation Kenya",philstar:"PhilStar",inquirer:"Inquirer",manilatimes:"Manila Times",thestar:"The Star Malaysia",bernama:"Bernama",vnexpress:"VnExpress",rappler:"Rappler",taipeitimes:"Taipei Times",vietnamnews:"Vietnam News",thenational:"The National",thenationalnews:"The National",tempo:"Tempo",dailystar:"Daily Star Bangladesh",thedailystar:"Daily Star Bangladesh",globeandmail:"Globe and Mail",theglobeandmail:"Globe and Mail",buenosairesherald:"Buenos Aires Herald",rt:"RT",tass:"TASS",ria:"RIA Novosti",pravda:"Pravda",kyivindependent:"Kyiv Independent",kyivpost:"Kyiv Post",unian:"UNIAN",efe:"EFE",ansa:"ANSA",dpa:"DPA",lemonde:"Le Monde",spiegel:"Der Spiegel",elpais:"El Pas",rte:"RT",irishtimes:"Irish Times",dutchnews:"Dutch News",thelocal:"The Local",euronews:"Euronews",politicoeu:"Politico EU",rmoutlook:"RM Outlook",rmf24:"RMF24",onet:"Onet",legit:"Legit News",punch:"Punch Nigeria",vanguard:"Vanguard Nigeria",dailynigerian:"Daily Nigerian",premiumtimes:"Premium Times",nation:"The Nation",iol:"IOL",news24:"News24",timeslive:"Times Live",mg:"Mail & Guardian",theeastafrican:"East African",standardmedia:"Standard Media",nation_ke:"Daily Nation",globo:"O Globo",folha:"Folha",clarin:"Clarn",lanacion:"La Nacin",eluniversal:"El Universal",milenio:"Milenio",reforma:"Reforma",cbc:"CBC News",cbcnews:"CBC News",abc_au:"ABC Australia",smh:"Sydney Morning Herald",theaustralian:"The Australian",nzherald:"NZ Herald",stuff:"Stuff NZ",rnz:"RNZ","9news":"Nine News",techcrunch:"TechCrunch",theverge:"The Verge",wired:"Wired",arstechnica:"Ars Technica",engadget:"Engadget",cnet:"CNET",zdnet:"ZDNet",tomshardware:"Toms Hardware",gizmodo:"Gizmodo",mashable:"Mashable",venturebeat:"VentureBeat",upi:"UPI",pti:"PTI",ani:"ANI",ians:"IANS",report_az:"Report Azerbaijan",spsrasd_info:"Sahara Press",wionews:"WION",newsweek:"Newsweek",time:"TIME",theatlantic:"The Atlantic",newyorker:"The New Yorker",foreignpolicy:"Foreign Policy",foreignaffairs:"Foreign Affairs",theconversation:"The Conversation",defenseone:"Defense One",defensenews:"Defense News",breakingdefense:"Breaking Defense",oilprice:"OilPrice",hellenicshippingnews:"Hellenic Shipping",lloydslist:"Lloyds List",semafor:"Semafor",puck:"Puck",theintercept:"The Intercept",motherjones:"Mother Jones",nationalreview:"National Review",dailywire:"Daily Wire",breitbart:"Breitbart",rawstory:"Raw Story",mediaite:"Mediaite",thedailybeast:"Daily Beast"};return t[e]?t[e]:r.replace(/_/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").split(" ").map(a=>a.length<=3&&a===a.toUpperCase()?a:a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ").trim()}function Ya(r){if(!r)return"Recent";const e=new Date(r);if(isNaN(e.getTime()))return"Recent";const a=new Date-e;if(a<6e4)return"Just now";const s=Math.floor(a/6e4),l=Math.floor(a/36e5),c=Math.floor(a/864e5);return s<60?s+"m ago":l<6?l+"h ago":l<24?"Today":c===1?"Yesterday":c<7?c+" days ago":e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}const Bb={Ukraine:[90,92,88,90,95,92,90,88,90,92,90,92],Russia:[85,88,85,88,90,88,85,88,90,88,90,92],Palestine:[95,98,95,92,90,88,85,88,92,95,92,90],Israel:[80,85,82,78,75,72,70,72,75,78,75,78],Sudan:[75,80,85,90,92,95,95,95,92,92,95,95],Myanmar:[70,72,75,78,80,82,85,85,88,88,85,85],Yemen:[80,78,80,82,85,88,85,82,80,78,80,82],Haiti:[75,78,80,85,88,90,92,92,90,88,90,92],Afghanistan:[85,85,82,80,82,85,85,88,85,85,88,88],DRC:[78,80,82,85,88,85,82,85,88,90,88,88],Somalia:[80,78,80,82,80,78,80,82,85,82,80,82],China:[55,58,55,52,55,58,60,58,55,58,60,58],Taiwan:[50,55,52,50,55,58,55,52,55,58,60,58],Iran:[65,68,70,72,75,78,75,72,70,72,75,78],"North Korea":[60,62,65,68,65,62,65,68,70,68,65,68],Venezuela:[55,58,60,62,65,68,70,72,75,78,85,88],Syria:[70,68,70,72,70,68,65,62,60,58,55,52],Lebanon:[60,62,65,68,70,75,78,75,72,68,65,62],"South Korea":[35,38,45,55,65,70,68,65,60,55,50,48],Germany:[30,32,35,40,45,50,48,45,42,38,35,32],France:[40,42,45,48,50,52,55,52,50,48,45,48],Japan:[25,28,30,35,40,45,50,48,45,42,38,35],"United States":[35,38,35,32,35,38,40,38,35,38,40,42],"United Kingdom":[25,28,25,22,25,28,30,28,25,28,25,28],Canada:[15,18,15,12,15,18,20,18,15,18,15,18],Australia:[15,18,15,18,20,18,15,18,20,18,15,18]},IL={Ukraine:[{text:"Conflict",dir:"up"},{text:"Aid Flow",dir:"stable"},{text:"Diplomacy",dir:"down"}],Russia:[{text:"Sanctions",dir:"up"},{text:"Economy",dir:"down"},{text:"Military",dir:"stable"}],Palestine:[{text:"Humanitarian",dir:"up"},{text:"Occupation",dir:"up"},{text:"Ceasefire",dir:"stable"}],Israel:[{text:"Security",dir:"up"},{text:"Politics",dir:"down"},{text:"Regional",dir:"up"}],Sudan:[{text:"Violence",dir:"up"},{text:"Famine",dir:"up"},{text:"Displacement",dir:"up"}],Myanmar:[{text:"Resistance",dir:"up"},{text:"Junta Control",dir:"down"},{text:"Refugees",dir:"up"}],Yemen:[{text:"Houthi Activity",dir:"up"},{text:"Shipping",dir:"down"},{text:"Peace Talks",dir:"stable"}],Haiti:[{text:"Gang Violence",dir:"up"},{text:"Government",dir:"down"},{text:"Migration",dir:"up"}],China:[{text:"Taiwan Tension",dir:"up"},{text:"Economy",dir:"down"},{text:"US Relations",dir:"down"}],Taiwan:[{text:"China Threat",dir:"up"},{text:"US Support",dir:"up"},{text:"Defense",dir:"up"}],Iran:[{text:"Nuclear",dir:"up"},{text:"Sanctions",dir:"stable"},{text:"Proxies",dir:"up"}],"North Korea":[{text:"Missiles",dir:"up"},{text:"Isolation",dir:"stable"},{text:"Provocations",dir:"up"}],Venezuela:[{text:"Transition",dir:"up"},{text:"Stability",dir:"down"},{text:"US Pressure",dir:"up"}],Syria:[{text:"Rebuilding",dir:"up"},{text:"Stability",dir:"up"},{text:"Refugees Return",dir:"stable"}],"South Korea":[{text:"Politics",dir:"down"},{text:"Economy",dir:"stable"},{text:"North Threat",dir:"stable"}],"United States":[{text:"Polarization",dir:"up"},{text:"Economy",dir:"stable"},{text:"Global Role",dir:"stable"}]};function FL(r,e){if(Bb[r])return Bb[r];const a={catastrophic:85,extreme:70,severe:55,stormy:40,cloudy:25,clear:10}[e]||50,s=[];for(let l=0;l<12;l++){const c=(r.charCodeAt(l%r.length)+l)%20-10;s.push(Math.max(5,Math.min(100,a+c)))}return s}function MN(r,e){const t=FL(r,e),a=Math.max(...t),s=IL[r]||[],l=["Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Jan","Feb"];return`
    <div style="display:flex;gap:16px;align-items:flex-start;">
      <div style="flex:1;">
        <div class="trend-chart">
          ${t.map((c,d)=>{const h=c/a*25+5;return`<div class="trend-bar trend-${d>0?c>t[d-1]?"up":c<t[d-1]?"down":"stable":"stable"}" style="height:${h}px" title="${l[d]} 2025: ${c}"></div>`}).join("")}
        </div>
        <div class="trend-label">Mar 2025  Feb 2026</div>
      </div>
      ${s.length>0?`
        <div style="min-width:100px;">
          <div style="font-size:8px;color:#6b7280;margin-bottom:6px;text-transform:uppercase;letter-spacing:0.5px;">Key Indicators</div>
          ${s.map(c=>`
            <div style="font-size:9px;color:#d1d5db;margin-bottom:4px;display:flex;align-items:center;gap:4px;">
              <span style="color:${c.dir==="up"?"#ef4444":c.dir==="down"?"#22c55e":"#6b7280"}">${c.dir==="up"?"":c.dir==="down"?"":""}</span>
              ${c.text}
            </div>
          `).join("")}
        </div>
      `:""}
    </div>
  `}const GL=[{lat:48.5,lng:35,radius:.15,name:"Ukraine-Russia",intensity:1},{lat:30.5,lng:35.2,radius:.1,name:"Palestine",intensity:1},{lat:15.5,lng:32.5,radius:.12,name:"Sudan",intensity:.9},{lat:21,lng:96,radius:.1,name:"Myanmar",intensity:.8},{lat:15.5,lng:47.5,radius:.1,name:"Yemen",intensity:.8},{lat:2,lng:45,radius:.08,name:"Somalia",intensity:.7},{lat:-2,lng:28,radius:.12,name:"DRC East",intensity:.8},{lat:33.5,lng:36.5,radius:.06,name:"Syria",intensity:.7},{lat:18.5,lng:-72.3,radius:.04,name:"Haiti",intensity:.7},{lat:17,lng:-3,radius:.1,name:"Sahel",intensity:.8}],ll=[];function HL(r,e){ll.length=0,GL.forEach(t=>{const a=new gp(t.radius*.5,t.radius,32),s=new ra({color:16724787,transparent:!0,opacity:.3*t.intensity,side:Sr}),l=new un(a,s),c=e(t.lat,t.lng,1.01);l.position.copy(c),l.lookAt(new I(0,0,0)),l.userData={isConflictZone:!0,intensity:t.intensity,baseOpacity:.3*t.intensity},r.add(l),ll.push(l);const d=new gp(t.radius,t.radius*1.3,32),h=new ra({color:16737894,transparent:!0,opacity:.15*t.intensity,side:Sr}),f=new un(d,h);f.position.copy(c),f.lookAt(new I(0,0,0)),f.userData={isConflictZone:!0,isGlow:!0},r.add(f)})}function VL(){if(ll.length===0)return;const r=Date.now()*.002;for(let e=0;e<ll.length;e++){const t=ll[e],a=.5+.5*Math.sin(r*t.userData.intensity);t.material.opacity=t.userData.baseOpacity*(.5+.5*a)}}function jf(r){if(!r)return"";let e=r.trim();return e=e.replace(/\s*[\u2014\u2013\u2015\u00AD|]\s*[A-Z][\w\s.&'\u2019,]{0,25}$/,""),e=e.replace(/\s+-\s+[A-Z][\w.&'\u2019]{0,15}(?:\s+[A-Z][\w.&'\u2019]+){0,3}\s*$/,""),e=e.replace(/\s*:\s+[A-Z][\w.&'\u2019]{0,15}(?:\s+[A-Z][\w.&'\u2019]+){0,2}\s*$/,""),e=e.replace(/^(BREAKING|EXCLUSIVE|DEVELOPING|JUST IN|WATCH|UPDATE|OPINION|ANALYSIS|EDITORIAL|LIVE)\s*[:\-|]\s*/i,""),e=e.replace(/[\s|\-:]+$/,"").trim(),e}const xw=new Set(["united states","united kingdom","china","russia"]),xu=new Set(["united states","u.s.","american","washington","trump","biden","white house","congress","pentagon","state department","united kingdom","british","uk","britain","london","china","chinese","beijing","russia","russian","moscow","kremlin","putin","un","parliament","white house"]),WL=["nuclear","military","war","peace","trade","sanctions","election","protest","economy","climate","summit","ceasefire","genocide","humanitarian","missile","troops","invasion","airstrike","bombing","reconstruction","occupation","territorial","coup","hostage","refugee","famine","weapons","enrichment","blockade","drone","assassination","espionage","cyber","treaty","alliance","diplomatic","tariff","embargo","deployment"];function jL(r){const e=r.toLowerCase(),t=new Set;for(const a of WL)e.includes(a)&&t.add(a);return t}function qL(r,e){let t=0;for(const a of r)e.has(a)&&t++;return t}const KL={gaza:"palestine","west bank":"palestine",rafah:"palestine","khan younis":"palestine","golan heights":"israel",golan:"israel",negev:"israel",galilee:"israel",donbas:"ukraine",donetsk:"ukraine",luhansk:"ukraine",crimea:"ukraine",zaporizhzhia:"ukraine",kherson:"ukraine",mariupol:"ukraine",bakhmut:"ukraine",avdiivka:"ukraine",kharkiv:"ukraine",odesa:"ukraine",darfur:"sudan",khartoum:"sudan",tigray:"ethiopia",amhara:"ethiopia",xinjiang:"china",tibet:"china","hong kong":"china",kashmir:"india",aleppo:"syria",idlib:"syria",raqqa:"syria",mosul:"iraq",kirkuk:"iraq",sinai:"egypt",kabul:"afghanistan",kandahar:"afghanistan",helmand:"afghanistan",pyongyang:"north korea",dmz:"north korea","strait of hormuz":"iran",hormuz:"iran","taiwan strait":"taiwan",kurdistan:"iraq",kurdish:"iraq","suez canal":"egypt","board of peace":"palestine"},YL=new Set(["the","a","an","in","on","at","to","for","of","and","or","but","is","are","was","were","has","have","had","be","been","with","by","from","as","its","it","this","that","over","after","new","says","said","could","may","will","not","no","more","than","about","up","out","into","amid","what","how","why","who","all","also","his","her","their","does","do","just","now","being","most","some","trump","says","news","report","world","global","international"]);function JL(r){return new Set(r.toLowerCase().split(/\W+/).filter(e=>e.length>2&&!YL.has(e)))}function $L(r,e){if(r.size===0||e.size===0)return 0;let t=0;for(const a of r)e.has(a)&&t++;return t/Math.min(r.size,e.size)}let Xo=null;function ww(){if(Xo)return Xo;Xo=[];for(const[r,e]of Object.entries(Ps)){const t=r.toLowerCase();Xo.push({name:t,terms:[t,...e]})}return Xo}function XL(r){const e=(r||"").toLowerCase();if(!e)return null;for(const[a,s]of Object.entries(KL))if(e.includes(a)&&!xu.has(s))return s;const t=ww();for(const{name:a,terms:s}of t)if(!xu.has(a)){for(const l of s)if(!xu.has(l)){if(l.length<=3){if(new RegExp("\\b"+l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\b").test(e))return a}else if(e.includes(l))return a}}for(const[a]of Object.entries(Ps)){const s=a.toLowerCase();if(!xw.has(s))continue;const l=Ps[a];for(const c of[s,...l])if(e.includes(c))return"_stop_"+s}return null}function ZL(r){const e=r.toLowerCase(),t=new Set,a=ww();for(const{name:s,terms:l}of a)for(const c of l)if(e.includes(c)){t.add(s);break}return t}const QL={reuters:10,ap:10,"ap news":10,"associated press":10,bbc:9,"bbc world":9,"bbc news":9,"wall street journal":8,wsj:8,"new york times":8,nyt:8,"financial times":8,ft:8,"the guardian":7,guardian:7,"al jazeera":7,bloomberg:7,"the economist":7,"washington post":7,"foreign policy":7,"france 24":6,france24:6,"deutsche welle":6,dw:6,"south china morning post":6,scmp:6,politico:6,"nhk world":6,nhk:6,"kyodo news":6,kyodo:6,yonhap:6,"anadolu agency":5,cgtn:5,tass:5,"times of india":5,"the hill":5,"fox news":5,rt:4,xinhua:4,"mehr news":4,"the telegraph":6,telegraph:6,"cbc news":6,cbc:6,"abc australia":6,"irish times":6,"the hindu":5,haaretz:6,"times of israel":5,"nikkei asia":6,nikkei:6,"straits times":6,cna:6,"jakarta post":5,"the jakarta post":5,"africa news":5,africanews:5,"nation kenya":4,"daily nation":4,"the independent":5,independent:5,"globe and mail":5,"sydney morning herald":5,smh:5,dawn:5,"middle east eye":5,folha:5,"taipei times":4,"korea herald":5,"the national":4,"vietnam news":3,rappler:4,"buenos aires herald":3,"premium times":4,"mail & guardian":4,tempo:3,"daily star":3,"daily mail":3,"new york post":3,"ny post":3};function Ns(r){if(!r)return 1;const e=r.toLowerCase();for(const[t,a]of Object.entries(QL))if(e.includes(t))return a;return 4}const ek=["military","nuclear","invasion","missile","troops","airstrikes","airstrike","bombing","war crime","genocide","ethnic cleansing","weapons","arsenal","enrichment","warhead","siege","blockade","offensive"],tk=["ceasefire","peace","peace talks","sanctions","territorial","coup","escalat","buildup","hostage","humanitarian crisis","reconstruction","occupation"];function nk(r){const e=((r.headline||"")+" "+(r.articles||[]).map(t=>t.headline||"").join(" ")).toLowerCase();return ek.some(t=>e.includes(t))?1:tk.some(t=>e.includes(t))?2:3}function Sw(r){const t=(4-nk(r))*5,a=Math.min(r.sourceCount,40)*3,s=r.importance==="high"?5:0;return t+a+s}const em=40;function fu(){return typeof requestAnimationFrame!="function"?Promise.resolve():new Promise(r=>requestAnimationFrame(r))}async function Db(r){if(!r||r.length===0)return[];const e=[];for(let h=0;h<r.length;h++){const f=r[h],g=f.headline||f.title||"",y=g+" "+(f.description||"");e.push({...f,_idx:h,_headline:g,_headlineWords:JL(g),_primaryCountry:XL(g),_topics:jL(y),_allCountries:ZL(y)}),h>0&&h%20===0&&await fu()}const t=new Map,a=new Map,s=[];for(let h=0;h<e.length;h++){const f=e[h]._primaryCountry;if(!f)s.push(h);else if(f.startsWith("_stop_")){const g=f.replace("_stop_","");a.has(g)||a.set(g,[]),a.get(g).push(h)}else t.has(f)||t.set(f,[]),t.get(f).push(h)}const l=[];await fu();for(const[,h]of t.entries())if(h.length<=em)l.push(h);else{const f=Pb(e,h);for(const g of f)l.push(g)}await fu();for(const[,h]of a.entries()){const f=Pb(e,h);for(const g of f)l.push(g)}if(s.length>0){const h=ik(e,s,.4);for(const f of h)l.push(f)}await fu();const c=l.map(h=>sk(e,h)),d=ok(c);d.sort((h,f)=>f._score-h._score);for(const h of d)delete h._score;return d}function Pb(r,e){const t=[],a=[...e].sort((s,l)=>Ns(r[l].source)-Ns(r[s].source));for(const s of a){const l=r[s];let c=!1;for(const d of t)if(!(d.members.length>=em)&&qL(l._topics,d.topics)>=1){d.members.push(s);for(const h of l._topics)d.topics.add(h);c=!0;break}c||t.push({topics:new Set(l._topics),members:[s]})}return t.map(s=>s.members)}function ik(r,e,t){const a=[];for(const s of e){const l=r[s];let c=!1;for(const d of a){if(d.members.length>=em)continue;if($L(l._headlineWords,d.seedWords)>=t){d.members.push(s),c=!0;break}}c||a.push({seedWords:l._headlineWords,members:[s]})}return a.map(s=>s.members)}const ak=["busy","pumping iron","slammed","claps back","destroys","epic","shocking","you won't believe","blasts","rips","torches","eviscerates","obliterates","schools","owns","roasts","dunks on","melts down","loses it","goes off","sounds alarm","drops bombshell","breaks silence","doubled down","fires back","humiliates","crushes","wrecks","savage","brutal","insane","unhinged","deranged","unbelievable","jaw-dropping","mind-blowing","bombshell","stunner","game-changer","mic drop"],rk=new Set(["daily mail","new york post","ny post","rt","the hill","washington times","fox news"]);function xp(r,e){const t=(r||"").toLowerCase();let a=0;for(const l of ak)t.includes(l)&&(a-=10);const s=r.match(/['\u2018\u2019].{3,30}['\u2018\u2019]/g);return s&&(a-=5*s.length),r.length>100&&(a-=3),r.length>10&&r.length<70&&(a+=2),e&&rk.has(e.toLowerCase())&&(a-=3),a}function sk(r,e){const t=e.map(w=>r[w]),a=[...t].sort((w,T)=>Ns(T.source)-Ns(w.source)),s=a.slice(0,Math.min(5,a.length)),l=s.reduce((w,T)=>{const _=(T._headline||"").trim(),S=(w._headline||"").trim();if(!_)return w;const x=Ns(T.source)+xp(_,T.source),B=Ns(w.source)+xp(S,w.source);return x>B?T:w},s[0]),c=new Set;for(const w of t)for(const T of w._allCountries)xu.has(T)||c.add(T);const d={};for(const w of t){const T=w._primaryCountry;T&&!T.startsWith("_stop_")&&(d[T]=(d[T]||0)+1)}const h=Object.entries(d).sort((w,T)=>T[1]-w[1])[0]?.[0]||null,f={};for(const w of t){const T=w.category||"WORLD";f[T]=(f[T]||0)+1}const g=Object.entries(f).sort((w,T)=>T[1]-w[1])[0][0],y=t.some(w=>w.importance==="high")||["CONFLICT","CRISIS","SECURITY"].includes(g)?"high":"medium",v=t.map(w=>{const{_idx:T,_headline:_,_headlineWords:S,_primaryCountry:x,_allCountries:B,_topics:O,...D}=w;return D.headline&&(D.headline=jf(D.headline)),D.title&&(D.title=jf(D.title)),D}),b={id:`evt-${l._idx}`,headline:jf(l._headline||""),category:g,importance:y,sourceCount:t.length,time:l.time||t[0].time,articles:v,entities:[...c],_primaryCountry:h,summary:null,summaryLoading:!1,summaryError:!1};return b._score=Sw(b),b}function ok(r){const e=new Map,t=[],a=new Set;for(let s=0;s<r.length;s++){const l=r[s]._primaryCountry;l&&!xw.has(l)&&(e.has(l)||e.set(l,[]),e.get(l).push(s))}for(const[,s]of e.entries()){if(s.length<=1)continue;s.sort((c,d)=>r[d]._score-r[c]._score);const l=r[s[0]];for(let c=1;c<s.length;c++){const d=r[s[c]];l.articles.push(...d.articles);for(const h of d.entities)l.entities.includes(h)||l.entities.push(h);a.add(s[c])}l.sourceCount=l.articles.length,l._score=Sw(l)}for(let s=0;s<r.length;s++)a.has(s)||t.push(r[s]);return t}const tm="https://hegemon-rss-proxy.hegemonglobal.workers.dev";function Ob(r){return r&&r.replace(/&#39;/g,"'").replace(/&#x27;/g,"'").replace(/&apos;/g,"'").replace(/&#8217;/g,"").replace(/&#8216;/g,"").replace(/&#8220;/g,"").replace(/&#8221;/g,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x2F;/g,"/").replace(/&nbsp;/g," ").replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(t)).replace(/&#x([0-9a-fA-F]+);/g,(e,t)=>String.fromCharCode(parseInt(t,16)))}function ia(r=0){return new Promise(e=>setTimeout(e,r))}const nm="hegemon_briefing_history",im=3;function Mw(){return new Date().toISOString().split("T")[0]}function lk(r){const e=new Date(r+"T12:00:00"),t=e.toLocaleString("en-US",{month:"long"}),a=e.getDate();return`${t} ${a}${a===1||a===21||a===31?"st":a===2||a===22?"nd":a===3||a===23?"rd":"th"}`}function am(){try{const r=localStorage.getItem(nm);if(r){const e=JSON.parse(r),t=new Date;t.setDate(t.getDate()-4);const a=t.toISOString().split("T")[0],s={};return Object.keys(e).filter(l=>l>=a).sort().reverse().slice(0,im).forEach(l=>{s[l]=e[l]}),s}}catch(r){console.warn("Failed to load briefing history:",r.message)}return{}}function qf(){if(!at||at.length===0||!at.some(t=>t.url&&t.url!=="#"))return;const e=Mw();try{const t=am();t[e]={date:e,articles:at.slice(0,100).map(l=>({time:l.time,category:l.category,importance:l.importance,headline:l.headline,source:l.source,url:l.url})),savedAt:new Date().toISOString(),articleCount:at.length};const a=Object.keys(t).sort().reverse(),s={};a.slice(0,im+1).forEach(l=>{s[l]=t[l]}),localStorage.setItem(nm,JSON.stringify(s))}catch(t){console.warn("Failed to save briefing snapshot:",t.message)}}function Tw(){const r=Mw(),e=am();return Object.keys(e).filter(t=>t!==r).sort().reverse().slice(0,im).map(t=>e[t])}function Kf(){if(Tw().length>0||!at||at.length===0)return;const r=new Date;r.setDate(r.getDate()-1);const e=r.toISOString().split("T")[0],t=am();t[e]||(t[e]={date:e,articles:at.slice(0,30).map(a=>({time:a.time,category:a.category,importance:a.importance,headline:a.headline,source:a.source,url:a.url})),savedAt:new Date().toISOString(),articleCount:Math.min(at.length,30)},localStorage.setItem(nm,JSON.stringify(t)))}const wp={daily:[{url:"https://news.google.com/rss/topics/CAAqJggKIiBDQkFTRWdvSUwyMHZNRGx1YlY4U0FtVnVHZ0pWVXlnQVAB?hl=en-US&gl=US&ceid=US:en",source:"Google News World"},{url:"https://news.google.com/rss/search?q=world+news+today&hl=en-US&gl=US&ceid=US:en",source:"Google News"},{url:"https://feeds.bbci.co.uk/news/world/rss.xml",source:"BBC World"},{url:"https://feeds.a.dj.com/rss/RSSWorldNews.xml",source:"Wall Street Journal"},{url:"https://rss.nytimes.com/services/xml/rss/nyt/World.xml",source:"New York Times"},{url:"https://news.google.com/rss/search?q=site:reuters.com+when:1d&hl=en-US&gl=US&ceid=US:en",source:"Reuters"},{url:"https://news.google.com/rss/search?q=site:apnews.com+when:1d&hl=en-US&gl=US&ceid=US:en",source:"AP News"},{url:"https://www.aljazeera.com/xml/rss/all.xml",source:"Al Jazeera"},{url:"https://www.theguardian.com/world/rss",source:"The Guardian"},{url:"https://www.france24.com/en/rss",source:"France 24"},{url:"https://rss.dw.com/rdf/rss-en-world",source:"Deutsche Welle"},{url:"https://moxie.foxnews.com/google-publisher/world.xml",source:"Fox News"},{url:"https://thehill.com/feed/",source:"The Hill"},{url:"https://www.politico.com/rss/politico-world-news.xml",source:"Politico"},{url:"https://news.google.com/rss/search?q=site:telegraph.co.uk+when:1d&hl=en-US&gl=US&ceid=US:en",source:"The Telegraph"},{url:"https://www.cbc.ca/webfeed/rss/rss-world",source:"CBC News"},{url:"https://www.independent.co.uk/news/world/rss",source:"The Independent"},{url:"https://www.dailymail.co.uk/news/worldnews/index.rss",source:"Daily Mail"},{url:"https://nypost.com/feed/",source:"New York Post"},{url:"https://www.aa.com.tr/en/rss/default?cat=world",source:"Anadolu Agency"},{url:"https://en.yna.co.kr/RSS/news.xml",source:"Yonhap"},{url:"https://news.google.com/rss/search?q=site:english.kyodonews.net+when:1d&hl=en-US&gl=US&ceid=US:en",source:"Kyodo News"},{url:"https://timesofindia.indiatimes.com/rssfeeds/296589292.cms",source:"Times of India"},{url:"https://www.scmp.com/rss/91/feed",source:"South China Morning Post"},{url:"https://www.timesofisrael.com/feed/",source:"Times of Israel"},{url:"https://www.africanews.com/feed/",source:"Africa News"},{url:"https://news.google.com/rss/search?q=site:asia.nikkei.com+when:1d&hl=en-US&gl=US&ceid=US:en",source:"Nikkei Asia"},{url:"https://news.google.com/rss/search?q=site:haaretz.com+when:1d&hl=en-US&gl=US&ceid=US:en",source:"Haaretz"},{url:"https://www.dawn.com/feeds/home",source:"Dawn"},{url:"https://www.middleeasteye.net/rss",source:"Middle East Eye"}],search:r=>`https://news.google.com/rss/search?q=${encodeURIComponent(r)}&hl=en-US&gl=US&ceid=US:en`},_w={newsdata:{key:"pub_7c217680d0cb4730af5530a2e86e2474",buildUrl:(r,e)=>`https://newsdata.io/api/1/news?apikey=${r}&language=en&q=${encodeURIComponent(e)}&size=30`,buildDailyUrl:r=>`https://newsdata.io/api/1/news?apikey=${r}&language=en&category=world,politics,business,technology&size=50`,parseResults:r=>r.status==="success"?r.results:null},gnews:{key:"e67a04b89b39458db2aba2de73cd4e52",buildUrl:(r,e)=>`https://gnews.io/api/v4/search?q=${encodeURIComponent(e)}&lang=en&max=15&apikey=${r}`,buildDailyUrl:r=>`https://gnews.io/api/v4/top-headlines?lang=en&max=50&apikey=${r}`,parseResults:r=>r.articles?r.articles.map(e=>({title:e.title,description:e.description||"",link:e.url,source_id:e.source?.name||"GNews",pubDate:e.publishedAt})):null},mediastack:{key:"a03d02da70b2f5e91f0d8e3c71e1f604",buildUrl:(r,e)=>`https://api.mediastack.com/v1/news?access_key=${r}&keywords=${encodeURIComponent(e)}&languages=en&limit=15`,buildDailyUrl:r=>`https://api.mediastack.com/v1/news?access_key=${r}&languages=en&categories=general,politics,business,technology&limit=50`,parseResults:r=>r.data?r.data.map(e=>({title:e.title,description:e.description||"",link:e.url,source_id:e.source||"MediaStack",pubDate:e.published_at})):null}},ck=600*1e3,Yf={},Ew="hegemon_news_cache",Cw="hegemon_events_cache",zb=1440*60*1e3;function Sp(){try{if(at.length===0)return;localStorage.setItem(Ew,JSON.stringify({ts:Date.now(),articles:at.slice(0,100)})),Gt.length>0&&localStorage.setItem(Cw,JSON.stringify({ts:Date.now(),events:Gt.map(r=>({...r,summaryLoading:!1}))}))}catch(r){console.warn("Failed to cache news to localStorage:",r.message)}}function uk(){try{const r=localStorage.getItem(Ew);if(!r)return!1;const e=JSON.parse(r);if(Date.now()-e.ts>zb||!e.articles||e.articles.length===0)return!1;at.length=0,at.push(...e.articles);const t=localStorage.getItem(Cw);if(t){const a=JSON.parse(t);Date.now()-a.ts<zb&&a.events&&a.events.length>0&&(Gt.length=0,Gt.push(...a.events),setTimeout(()=>Wa(),0))}return!0}catch{return!1}}const Aw={},dk=300*1e3;function hk(r){const e=Aw[r];return e&&Date.now()-e.timestamp<dk?e.data:null}function _s(r,e){Aw[r]={data:e,timestamp:Date.now()}}function wr(r,e){const t=(r+" "+(e||"")).toLowerCase();return t.match(/\b(nfl|nba|mlb|nhl|mls|quarterback|touchdown|rushing|draft pick|playoff|playof|super bowl|world series|slam dunk|hat trick|grand slam|home run|batting|wide receiver|tight end|linebacker|cornerback|running back|premier league|champions league|soccer|basketball|baseball|hockey|tennis|cricket|rugby|boxing|ufc|mma|formula 1|nascar|grand prix)\b/)?"SPORTS":t.match(/\b(war|military|attack|strike|bomb|troops|fighting|conflict|invasion)\b/)?"CONFLICT":t.match(/\b(economy|market|stock|trade|gdp|inflation|bank|fiscal)\b/)?"ECONOMY":t.match(/\b(terror|missile|nuclear|defense|army|navy|weapon)\b/)?"SECURITY":t.match(/\b(diplomat|treaty|summit|negotiat|sanction|ambassador|nato)\b/)?"DIPLOMACY":t.match(/\b(elect|president|prime minister|parliament|vote|politic|government|congress)\b/)?"POLITICS":t.match(/\b(crisis|humanitarian|famine|refugee|emergency|natural disaster|humanitarian disaster|disaster relief|disaster zone|disaster response|disaster aid)\b/)?"CRISIS":t.match(/\b(cyber|chip export|tech ban|surveillance)\b/)?"TECH":t.match(/\b(climate|emission|carbon|renewable)\b/)?"CLIMATE":"WORLD"}const fk=["congress","senate hearing","house vote","gop","democrat","republican","dnc","rnc","fbi","doj","irs","atf","school board","governor","mayor","sheriff","district attorney","state legislature","supreme court ruling","amendment","fox news","msnbc","cnn host","anchor"];function pk(r){const e=r.toLowerCase();let t=0;for(const a of yx)e.includes(a)&&(t+=1);for(const a of IT)e.includes(a)&&(t+=1);for(const a of fk)e.includes(a)&&(t-=1);for(const a of vx)a.test(r)&&(t-=2);return t}function mk(r){const e=((r.headline||r.title||"")+" "+(r.description||"")).toLowerCase(),t=r.category||wr(e,"");let a=FT[t]||1,s=1;for(const d in p0)e.includes(d)&&(s=Math.max(s,p0[d]));let l=0;for(const d in m0)e.includes(d)&&(l+=m0[d]);return l=Math.max(-8,l),l<-3&&a>0&&(a=-Math.abs(a)*.5),{riskDelta:Math.max(-5,Math.min(15,a*s+l)),category:t,isDeescalation:l<-1,severity:s,headline:r.headline||r.title||""}}const rm={},Jf=["clear","cloudy","stormy","severe","extreme","catastrophic"];function Mp(r){return{catastrophic:95,extreme:78,severe:62,stormy:45,cloudy:28,clear:10}[r]||45}function gk(r){return r>=88?"catastrophic":r>=70?"extreme":r>=54?"severe":r>=36?"stormy":r>=18?"cloudy":"clear"}function yk(){for(const r in gt){const e=gt[r];rm[r]={baseRisk:e.risk,currentRisk:e.risk,riskValue:Mp(e.risk),accumulatedScore:0,newsHistory:[],changeLog:[],lastLevelChange:0,overrideActive:!1,overrideReason:""}}}function vk(r,e){const t=rm[r];if(!t||t.overrideActive)return;const a=Date.now();t.newsHistory=t.newsHistory.filter(d=>a-d.timestamp<48*3600*1e3);for(const d of e){const h=mk(d);t.newsHistory.push({timestamp:a,impact:h.riskDelta,headline:h.headline,category:h.category,isDeescalation:h.isDeescalation})}let s=0,l=0;for(const d of t.newsHistory){const h=(a-d.timestamp)/36e5,f=Math.exp(-h/24);s+=d.impact*f,l+=f}const c=l>0?s/l:0;t.accumulatedScore=t.accumulatedScore*.85+c*.15,t.accumulatedScore=Math.max(-50,Math.min(50,t.accumulatedScore))}function bk(r){const e=rm[r];if(!e||e.overrideActive)return gt[r].risk;const t=Mp(e.baseRisk),a=Math.max(0,Math.min(100,t+e.accumulatedScore)),s=e.currentRisk,l=gk(a),c=Jf.indexOf(s),h=Jf.indexOf(l)-c;let f;Math.abs(h)<=1?f=l:f=Jf[c+(h>0?1:-1)];const g=Date.now(),y=6*3600*1e3;if(f!==e.currentRisk){if(e.lastLevelChange&&g-e.lastLevelChange<y)return e.currentRisk;const v=e.currentRisk;e.currentRisk=f,e.lastLevelChange=g,e.riskValue=Mp(f);const b=e.newsHistory.length>0?e.newsHistory[e.newsHistory.length-1].headline:"Accumulated news impact";e.changeLog.push({timestamp:g,type:"LEVEL_CHANGE",from:v,to:f,trigger:b,score:e.accumulatedScore.toFixed(1)}),e.changeLog.length>50&&(e.changeLog=e.changeLog.slice(-50))}return e.currentRisk}async function $f(r){if(!r||r.length===0)return[];const e=r.map(l=>({article:l,text:((l.headline||l.title||"")+" "+(l.description||"")).toLowerCase()})),t=Object.keys(gt),a=[],s=10;for(let l=0;l<t.length;l+=s){const c=t.slice(l,l+s);for(const d of c){const h=d.toLowerCase(),f=Ps[d]||[h],g=[h,...f],y=[];for(const v of e)g.some(b=>v.text.includes(b))&&y.push(v.article);if(y.length>0){const v=gt[d].risk;vk(d,y);const b=bk(d);gt[d].risk=b,v!==b&&a.push({name:d,from:v,to:b})}}l+s<t.length&&await new Promise(d=>setTimeout(d,4))}return a}function xk(){let r=0,e=0,t=0;return Object.values(gt).forEach(a=>{a.risk==="catastrophic"||a.risk==="extreme"?r++:a.risk==="severe"||a.risk==="stormy"?e++:t++}),{critical:r,high:e,stable:t}}function Tp(r,e,t){const a=((r||"")+" "+(e||"")).toLowerCase(),s=(r||"").toLowerCase(),l=(e||"").toLowerCase(),c=t.toLowerCase();for(const y of op)if(a.includes(y))return!1;const d=Ps[t]||[c],h=[c,...d];return h.some(y=>s.includes(y))?!0:h.some(y=>l.includes(y))}const wk=5e3;async function _p(r,e){const t=new AbortController,a=setTimeout(()=>t.abort(),wk);try{const s="https://api.rss2json.com/v1/api.json?rss_url="+encodeURIComponent(r),l=await fetch(s,{signal:t.signal});if(l.ok){const c=await l.json();if(c.status==="ok"&&c.items&&c.items.length>0)return clearTimeout(a),Ib(c,e)}}catch(s){if(s.name==="AbortError")return clearTimeout(a),console.warn(`[RSS] TIMEOUT ${e} (5s)`),[]}try{const s=`${tm}/rss?url=${encodeURIComponent(r)}`,l=await fetch(s,{signal:t.signal});if(clearTimeout(a),!l.ok)return[];const c=await l.json();return c.status!=="ok"||!c.items||c.items.length===0?[]:Ib(c,e)}catch(s){return clearTimeout(a),s.name==="AbortError"&&console.warn(`[RSS] TIMEOUT ${e} (5s)`),[]}}function Ib(r,e){return r.items.map(t=>{let a=e||r.feed?.title||"News",s=Ob(t.title);if(a.includes("Google News")&&s){const l=s.lastIndexOf(" - ");l>0&&(a=s.substring(l+3).trim(),s=s.substring(0,l).trim())}return{title:s,description:Ob(t.description||t.content||""),link:t.link,source_id:a,pubDate:t.pubDate}})}const Sk=["war","offensive","ceasefire","troops","military operation","attack","conflict","invasion","advance","retreat","deploy","forces","drone strike","weapons","killed","casualties","shelling","frontline","counteroffensive","seized","captured","territory","strikes","missile","nuclear","border","humanitarian","refugee","evacuation","summit","treaty","agreement","coup","protest","enters day","fighting","battle","airstrike","bombing","sanctions","escalation","incursion","blockade","convoy","artillery","ground operation"],Mk=["dismisses","urges","slams","blasts","reacts","responds","says","calls on","accuses","criticizes","condemns","warns","threatens","claims","denies","demands","challenges","mocks","praises","thanks","reveals","opinion","editorial","analysis","commentary","vows","hints","suggests","believes"];function tl(r){const e=(r||"").toLowerCase();let t=0;for(const a of Sk)e.includes(a)&&(t+=2);for(const a of Mk)e.includes(a)&&(t-=3);return t}function Xf(r,e){const t=r.filter(l=>Tp(l.title,l.description,e)),s=(t.length>0?t:r).map(l=>({article:l,score:tl(l.title)}));return s.sort((l,c)=>c.score-l.score),s.slice(0,15).map(({article:l})=>({headline:l.title,source:Bs(l.source_id),time:Ya(l.pubDate),url:l.link||"",category:wr(l.title,l.description)}))}async function Tk(r,e,t,a=8e3){try{const s=new AbortController,l=setTimeout(()=>s.abort(),a),c=await fetch(e,{signal:s.signal});if(clearTimeout(l),!c.ok)return null;const d=await c.json(),h=t(d);if(h&&h.length>0)return h}catch(s){console.warn(`${r} failed:`,s.message)}return null}async function TN(r){const e=hk(r);if(e)return e;if(at&&at.length>0){const s=at.filter(l=>Tp(l.title||l.headline,l.description||"",r));if(s.length>=2){s.sort((c,d)=>tl(d.title||d.headline)-tl(c.title||c.headline));const l=s.slice(0,10).map(c=>({headline:c.title||c.headline,source:Bs(c.source_id||c.source||"News"),time:Ya(c.pubDate||c.time),url:c.link||c.url||"",category:c.category||wr(c.title||c.headline,c.description||"")}));return _s(r,l),l}}try{const s=wp.search(r+" news"),l=await _p(s,"Google News");if(l&&l.length>0){const c=Xf(l,r);if(c.length>0)return _s(r,c),c}}catch(s){console.warn("Google News RSS failed:",s.message)}const t=["gnews","newsdata","mediastack"];for(const s of t){const l=_w[s];if(!l||!l.key||Yf[s]&&Date.now()-Yf[s]<300*1e3)continue;const c=l.buildUrl(l.key,r),d=await Tk(s,c,l.parseResults);if(d){const h=Xf(d,r);if(h.length>0)return _s(r,h),h}else Yf[s]=Date.now()}try{const s=gt[r];if(s&&s.region){const l=`${r} ${s.region} news`,c=wp.search(l),d=await _p(c,"Google News");if(d&&d.length>0){const h=Xf(d,r);if(h.length>0)return _s(r,h),h}}}catch(s){console.warn("Regional search failed:",s.message)}if(at&&at.length>0){const s=at.filter(l=>Tp(l.title||l.headline,l.description||"",r));if(s.length>0){s.sort((c,d)=>tl(d.title||d.headline)-tl(c.title||c.headline));const l=s.slice(0,10).map(c=>({headline:c.title||c.headline,source:Bs(c.source_id||c.source||"News"),time:Ya(c.pubDate||c.time),url:c.link||c.url||"",category:c.category||wr(c.title||c.headline,c.description||"")}));return _s(r,l),l}}const a=[];return _s(r,a),a}async function _k(){try{const r=new AbortController,e=setTimeout(()=>r.abort(),8e3),t=await fetch(`${tm}/events`,{signal:r.signal});if(clearTimeout(e),!t.ok)return!1;const a=await t.json();if(!a||!a.events||a.events.length===0)return!1;const s=a.lastUpdated?Math.round((Date.now()-a.lastUpdated)/6e4):null;if(s!==null&&s>360)return console.warn("[Hegemon] Pre-generated data too stale, falling back"),!1;a.briefing&&a.briefing.length>0&&(at.length=0,at.push(...a.briefing.map(l=>({...l,time:Ya(l.pubDate),headline:l.headline||l.title})))),Gt.length=0;for(const l of a.events)Gt.push({...l,time:Ya(l.pubDate),summaryLoading:!1,summaryError:!l.summary,articles:(l.articles||[]).map(c=>({...c,time:Ya(c.pubDate)}))});return window._eventsLastUpdated=a.lastUpdated,Wa(),Sp(),!0}catch(r){return console.warn("[Hegemon] Pre-generated events fetch failed:",r.message),!1}}async function Fb({onStatusUpdate:r,onComplete:e}={}){if(r&&r("fetching"),await _k()){setTimeout(()=>{qf(),Kf()},50),setTimeout(()=>$f(at),500),r&&r("complete"),e&&e(at);return}console.warn("[Hegemon] Falling back to client-side RSS fetching");try{const s=wp.daily,l=5,c=[];for(let d=0;d<s.length;d+=l){const h=s.slice(d,d+l),f=await Promise.allSettled(h.map(g=>_p(g.url,g.source)));for(const g of f)g.status==="fulfilled"&&g.value&&g.value.length>0&&c.push(...g.value);d+l<s.length&&await ia(100)}if(c.length>0){c.sort((P,q)=>new Date(q.pubDate)-new Date(P.pubDate)),await ia(1);const d=Date.now(),h=2880*60*1e3,f=c.filter(P=>P.pubDate?d-new Date(P.pubDate).getTime()<h:!0);await ia(1);const g=[];for(let P=0;P<f.length;P++){const q=f[P],X=q.title||"",te=(X+" "+(q.description||"")).toLowerCase();if(op.some(N=>te.includes(N))||wr(X,q.description)==="SPORTS")continue;const re=X+" "+(q.description||"");if(vx.some(N=>N.test(re)))continue;const K=(X.match(/[^\u0020-\u007E]/g)||[]).length;X.length>10&&K/X.length>.15||/\b(de|del|los|las|por|para|avec|dans|und|der|die|dari|dan|yang|pada)\b/i.test(X)&&!/\b(de facto|del rio|de gaulle)\b/i.test(X)&&(X.match(/\b(de|del|los|las|por|para|avec|dans|und|der|die|dari|dan|yang|pada|dari|untuk|dengan|atau|ini|itu|comme|sont|nous|leur)\b/gi)||[]).length>=2||pk(re)<1||(g.push(q),P>0&&P%30===0&&await ia(1))}await ia(1);const y=[],v=[];for(let P=0;P<g.length;P++){const q=g[P],X=Bs(q.source_id),te=(q.title||"").toLowerCase().replace(/[^a-z0-9 ]/g,"").replace(/\b(the|a|an|in|on|at|to|for|of|and|is|are|was|were|has|have|had|with|from|by)\b/g,"").replace(/\s+/g," ").trim();let de=!1;if(y.some(re=>re.normalized===te)&&(de=!0),!de){for(const re of y)if(te.length>20&&re.normalized.length>20){const K=new Set(te.split(" ")),N=new Set(re.normalized.split(" "));let V=0;for(const Z of K)N.has(Z)&&V++;const C=Math.max(K.size,N.size),H=re.source===X?.7:.95;if(C>0&&V/C>=H){de=!0;break}}}de||(y.push({normalized:te,source:X}),v.push(q)),P>0&&P%30===0&&await ia(1)}await ia(1);const b=v.slice(0,200).map(P=>{const q=wr(P.title,P.description),X=["CONFLICT","CRISIS","SECURITY"].includes(q)?"high":"medium",te=Bs(P.source_id);return{time:Ya(P.pubDate),category:q,importance:X,headline:P.title,description:P.description||"",source:te,url:P.link||""}}),w=b.filter(P=>{const q=Nu(P.source);return q==="RC"||q==="R"}).length;if(w<3){const P=sp.filter(X=>{const te=Nu(X.source);return te==="RC"||te==="R"}),q=Math.min(4-w,P.length);if(q>0){const X=Math.max(1,Math.floor(b.length/(q+1)));for(let te=0;te<q;te++){const de=Math.min((te+1)*X+te,b.length);b.splice(de,0,P[te])}}}const T=DL(b),_=zL(T),S=["switzerland","swiss","nightclub","club fire","nightlife"];for(let P=0;P<Math.min(10,_.length);P++){const q=(_[P].headline||"").toLowerCase();if(S.some(X=>q.includes(X))){const[X]=_.splice(P,1),te=Math.min(14,_.length);_.splice(te,0,X),P--}}const x=["new york post","ny post","daily mail"];for(let P=0;P<Math.min(5,_.length);P++){const q=(_[P].source||"").toLowerCase();if(x.some(X=>q.includes(X))){const[X]=_.splice(P,1),te=Math.min(_.length,5);_.splice(te,0,X),P--}}at.length=0,at.push(..._),await ia(1);const B=await Db(at),O=sm();for(const P of B){const q=Uu(P);q&&O[q]&&(P.summary=O[q].summary,P.summaryLoading=!1)}Gt.length=0;const D=B.slice(0,4);Gt.push(...D),Wa();const A=10;for(let P=4;P<B.length;P+=A){await ia(100);const q=B.slice(P,P+A);Gt.push(...q),Wa()}setTimeout(()=>{qf(),Kf(),Sp()},50),setTimeout(()=>$f(at),500),setTimeout(()=>Gb(),2e3),e&&e(at);return}}catch(s){console.warn("RSS feeds failed:",s.message)}const a=["gnews","newsdata","mediastack"];for(const s of a)try{const l=_w[s];if(!l||!l.key||!l.buildDailyUrl)continue;const c=await fetch(l.buildDailyUrl(l.key));if(c.ok){const d=await c.json(),h=l.parseResults(d);if(h&&h.length>0){const f=h.filter(y=>{const v=((y.title||"")+" "+(y.description||"")).toLowerCase();return op.some(b=>v.includes(b))?!1:yx.some(b=>v.includes(b))}).map(y=>({time:Ya(y.pubDate),category:wr(y.title,y.description),importance:"medium",headline:y.title,source:Bs(y.source_id),url:y.link||""}));at.length=0,at.push(...f);const g=await Db(at);Gt.length=0,Gt.push(...g),Ak(),setTimeout(()=>{qf(),Kf(),Sp()},50),setTimeout(()=>$f(at),500),setTimeout(()=>Gb(),2e3),e&&e(at);return}}}catch(l){console.warn(`${s} fallback failed:`,l.message)}console.error("All news sources failed"),at.length===0&&(at.length=0,at.push(...sp)),r&&r("failed")}const wu=[];function Ek(r){return wu.push(r),()=>{const e=wu.indexOf(r);e>=0&&wu.splice(e,1)}}function Wa(){for(const r of wu)try{r(Gt)}catch(e){console.warn("Event listener error:",e)}}const Ep="hegemon_summary_cache_v4";function Uu(r){if(!r.articles||r.articles.length===0)return null;let t=r.articles.map(s=>(s.headline||s.title||"").toLowerCase().trim().substring(0,50)).sort().join("|"),a=0;for(let s=0;s<t.length;s++)a=(a<<5)-a+t.charCodeAt(s)|0;return"sum_"+Math.abs(a).toString(36)}function sm(){try{const r=localStorage.getItem(Ep);if(!r)return{};const e=JSON.parse(r),t=Date.now();let a=!1;for(const[s,l]of Object.entries(e))t-l.savedAt>1440*60*1e3&&(delete e[s],a=!0);if(a)try{localStorage.setItem(Ep,JSON.stringify(e))}catch{}return e}catch{return{}}}function Ck(r){try{localStorage.setItem(Ep,JSON.stringify(r))}catch(e){console.warn("Summary cache save failed:",e.message)}}function Ak(){if(!Gt||Gt.length===0)return;const r=sm();for(const e of Gt){const t=Uu(e);t&&r[t]&&(e.summary=r[t].summary,e.summaryLoading=!1)}}const Rk=1e4;async function Gb(){if(!Gt||Gt.length===0)return;const r=sm(),e=[],t=[];for(let c=0;c<Gt.length;c++){const d=Gt[c];if(d.summary)continue;const h=Uu(d);h&&r[h]?(d.summary=r[h].summary,d.summaryLoading=!1):(d.summaryLoading=!0,c<4?e.push(d):t.push(d))}if(Wa(),e.length===0&&t.length===0)return;async function a(c,d){const h=new AbortController,f=setTimeout(()=>h.abort(),Rk);try{const g=await fetch(`${tm}/summarize`,{method:"POST",headers:{"Content-Type":"application/json"},signal:h.signal,body:JSON.stringify({events:c.map(b=>({headline:b.headline,category:b.category,articles:b.articles.map(w=>({headline:w.headline||w.title||"",source:w.source||"",description:w.description||""}))}))})});if(clearTimeout(f),!g.ok){const b=await g.text().catch(()=>"no body");console.error(`[Hegemon] Summary API error (${g.status}):`,b);for(const w of c)w.summaryLoading=!1,w.summaryError=!0;Wa();return}const v=(await g.json()).summaries||[];for(let b=0;b<c.length;b++)if(c[b].summaryLoading=!1,v[b]&&v[b].summary){c[b].summary=v[b].summary;const w=Uu(c[b]);w&&(r[w]={summary:v[b].summary,savedAt:Date.now()})}else c[b].summaryError=!0;Ck(r),Wa()}catch(g){clearTimeout(f),g.name==="AbortError"?console.warn(`[Hegemon] Summary batch ${d} timed out (10s)`):console.error("[Hegemon] Summary fetch error:",g.message||g);for(const y of c)y.summaryLoading=!1,y.summaryError=!0;Wa()}}let s=1;e.length>0&&await a(e,s++);const l=5;for(let c=0;c<t.length;c+=l){const d=t.slice(c,c+l);await a(d,s++)}}const Lk={"United States":{tz:"America/New_York",open:"09:30",close:"16:00"},China:{tz:"Asia/Shanghai",open:"09:30",close:"15:00"},Japan:{tz:"Asia/Tokyo",open:"09:00",close:"15:00"},"United Kingdom":{tz:"Europe/London",open:"08:00",close:"16:30"},"European Union":{tz:"Europe/Berlin",open:"09:00",close:"17:30"},India:{tz:"Asia/Kolkata",open:"09:15",close:"15:30"},Canada:{tz:"America/Toronto",open:"09:30",close:"16:00"},"South Korea":{tz:"Asia/Seoul",open:"09:00",close:"15:30"},Australia:{tz:"Australia/Sydney",open:"10:00",close:"16:00"},Brazil:{tz:"America/Sao_Paulo",open:"10:00",close:"17:00"},Taiwan:{tz:"Asia/Taipei",open:"09:00",close:"13:30"},Russia:{tz:"Europe/Moscow",open:"10:00",close:"18:50"},"Saudi Arabia":{tz:"Asia/Riyadh",open:"10:00",close:"15:00"},Turkey:{tz:"Europe/Istanbul",open:"10:00",close:"18:00"},"South Africa":{tz:"Africa/Johannesburg",open:"09:00",close:"17:00"},Nigeria:{tz:"Africa/Lagos",open:"09:30",close:"14:30"}},Rw=[{country:"United States",flag:"",symbols:[{name:"Dow Jones",sym:"^DJI"},{name:"S&P 500",sym:"^GSPC"},{name:"NASDAQ",sym:"^IXIC"},{name:"Gold",sym:"GC=F",pre:"$"},{name:"Silver",sym:"SI=F",pre:"$"},{name:"Bitcoin",sym:"BTC-USD",pre:"$"}]},{country:"China",flag:"",symbols:[{name:"SSE Composite",sym:"000001.SS"},{name:"Shenzhen",sym:"399001.SZ"},{name:"Hang Seng",sym:"^HSI"}]},{country:"Japan",flag:"",symbols:[{name:"Nikkei 225",sym:"^N225"},{name:"TOPIX",sym:"^TOPX"}]},{country:"United Kingdom",flag:"",symbols:[{name:"FTSE 100",sym:"^FTSE"},{name:"FTSE 250",sym:"^FTMC"}]},{country:"European Union",flag:"",symbols:[{name:"Euro Stoxx 50",sym:"^STOXX50E"},{name:"DAX",sym:"^GDAXI"},{name:"CAC 40",sym:"^FCHI"}]},{country:"India",flag:"",symbols:[{name:"BSE Sensex",sym:"^BSESN"},{name:"Nifty 50",sym:"^NSEI"}]},{country:"Canada",flag:"",symbols:[{name:"TSX Composite",sym:"^GSPTSE"}]},{country:"South Korea",flag:"",symbols:[{name:"KOSPI",sym:"^KS11"}]},{country:"Australia",flag:"",symbols:[{name:"ASX 200",sym:"^AXJO"}]},{country:"Brazil",flag:"",symbols:[{name:"Bovespa",sym:"^BVSP"}]},{country:"Taiwan",flag:"",symbols:[{name:"TAIEX",sym:"^TWII"}]},{country:"Russia",flag:"",symbols:[{name:"MOEX",sym:"IMOEX.ME"}]},{country:"Saudi Arabia",flag:"",symbols:[{name:"Tadawul",sym:"^TASI"}]},{country:"Turkey",flag:"",symbols:[{name:"BIST 100",sym:"XU100.IS"}]},{country:"South Africa",flag:"",symbols:[{name:"JSE All Share",sym:"^J203.JO"}]},{country:"Nigeria",flag:"",symbols:[{name:"NGX All Share",sym:"^NGSEINDX"}]}],ja={"^DJI":{price:49452,changePct:-1.34,sparkline:[50120,50050,49950,49850,49750,49680,49600,49550,49500,49480,49460,49452]},"^GSPC":{price:6833,changePct:-1.57,sparkline:[6940,6920,6900,6880,6870,6860,6850,6845,6840,6838,6835,6833]},"^IXIC":{price:22597,changePct:-2.03,sparkline:[23065,23e3,22900,22820,22760,22720,22690,22660,22640,22620,22610,22597]},"GC=F":{price:5061,changePct:.74,sparkline:[5025,5030,5035,5040,5042,5045,5048,5050,5055,5058,5060,5061]},"SI=F":{price:82.49,changePct:.74,sparkline:[81.9,81.95,82,82.05,82.1,82.15,82.2,82.25,82.3,82.4,82.45,82.49]},"BTC-USD":{price:66063,changePct:-2.12,sparkline:[67500,67200,67e3,66800,66600,66500,66400,66300,66200,66150,66100,66063]},"000001.SS":{price:4134,changePct:.14,sparkline:[4128,4129,4130,4130,4131,4132,4132,4133,4133,4134,4134,4134]},"399001.SZ":{price:14161,changePct:-.35,sparkline:[14210,14200,14195,14190,14185,14180,14175,14170,14168,14165,14163,14161]},"^HSI":{price:27033,changePct:-.86,sparkline:[27270,27220,27180,27150,27120,27100,27080,27060,27050,27040,27035,27033]},"^N225":{price:57640,changePct:-.02,sparkline:[57660,57680,57700,57720,57710,57690,57670,57660,57650,57645,57642,57640]},"^TOPX":{price:4050,changePct:.12,sparkline:[4045,4046,4047,4048,4048,4049,4049,4050,4050,4050,4050,4050]},"^FTSE":{price:10402,changePct:-.67,sparkline:[10472,10460,10450,10440,10430,10425,10420,10415,10410,10408,10405,10402]},"^FTMC":{price:25480,changePct:-.82,sparkline:[25690,25650,25620,25590,25570,25550,25530,25510,25500,25490,25485,25480]},"^STOXX50E":{price:6105,changePct:1.12,sparkline:[6040,6050,6060,6065,6070,6075,6080,6085,6090,6095,6100,6105]},"^GDAXI":{price:24853,changePct:-.01,sparkline:[24856,24855,24854,24855,24856,24855,24854,24853,24854,24853,24853,24853]},"^FCHI":{price:8195,changePct:-.21,sparkline:[8212,8210,8208,8206,8204,8202,8200,8199,8198,8197,8196,8195]},"^BSESN":{price:83675,changePct:-.66,sparkline:[84230,84150,84050,83950,83880,83820,83780,83750,83720,83700,83690,83675]},"^NSEI":{price:25807,changePct:-.57,sparkline:[25955,25920,25890,25870,25850,25840,25830,25825,25820,25815,25810,25807]},"^GSPTSE":{price:32465,changePct:-2.37,sparkline:[33250,33100,32950,32850,32750,32680,32620,32570,32530,32500,32480,32465]},"^KS11":{price:5522,changePct:3.13,sparkline:[5355,5380,5400,5420,5440,5460,5475,5490,5500,5510,5518,5522]},"^AXJO":{price:8683,changePct:-.52,sparkline:[8728,8720,8715,8710,8705,8700,8698,8695,8692,8690,8686,8683]},"^BVSP":{price:189699,changePct:2.03,sparkline:[186100,186800,187400,187900,188300,188700,189e3,189200,189400,189500,189600,189699]},"^TWII":{price:33606,changePct:1.61,sparkline:[33075,33150,33200,33260,33310,33360,33400,33450,33490,33540,33575,33606]},"IMOEX.ME":{price:2752,changePct:1.23,sparkline:[2720,2725,2730,2733,2736,2738,2740,2742,2745,2748,2750,2752]},"^TASI":{price:11252,changePct:.75,sparkline:[11170,11180,11190,11200,11210,11215,11220,11230,11235,11240,11248,11252]},"XU100.IS":{price:13827,changePct:.22,sparkline:[13800,13805,13808,13810,13812,13815,13818,13820,13822,13824,13826,13827]},"^J203.JO":{price:121150,changePct:.3,sparkline:[120800,120850,120900,120940,120980,121e3,121030,121060,121090,121110,121130,121150]},"^NGSEINDX":{price:154847,changePct:1.42,sparkline:[152700,153e3,153300,153500,153800,154e3,154200,154350,154500,154650,154750,154847]}},_N={"United States":{whyMatters:"US markets remain the global benchmark. Movements in the S&P 500 and Dow Jones ripple through every major market worldwide. The Federal Reserve's monetary policy decisions directly affect global capital flows and currency valuations.",outlook:"Key events to watch: Fed rate decisions and forward guidance, CPI and jobs data releases, quarterly earnings from mega-cap tech companies, and escalating trade policy tensions that could trigger supply chain disruptions."},China:{whyMatters:"China is the world's second-largest economy. Its markets reflect domestic growth, property sector health, and US-China trade dynamics that impact global supply chains.",outlook:"Watch for stimulus measures from Beijing, property sector developments, tech regulation signals, and any escalation in trade or Taiwan-related tensions."},Japan:{whyMatters:"Japan's Nikkei drives Asian market sentiment. The yen's movements impact global carry trades, and Japan remains a key node in semiconductor supply chains.",outlook:"Monitor Bank of Japan rate policy, yen intervention signals, and semiconductor export controls affecting the broader tech ecosystem."},"United Kingdom":{whyMatters:"The FTSE is a barometer for European and global commodity markets. London remains a key financial hub, and UK policy decisions influence broader European sentiment.",outlook:"Watch Bank of England rate decisions, inflation trends, post-Brexit trade dynamics, and energy sector developments affecting the commodities-heavy FTSE."},"European Union":{whyMatters:"EU markets represent the world's third-largest economic bloc. The ECB's policy divergence from the Fed drives euro strength and global bond markets.",outlook:"Key factors: ECB rate path, energy security developments, defense spending commitments, and political stability across member states."},India:{whyMatters:"India is the world's fastest-growing major economy. Its markets attract significant foreign investment flows and reflect emerging market confidence broadly.",outlook:"Watch RBI monetary policy, monsoon impact on inflation, government reform agenda, and foreign institutional investment flows."},Canada:{whyMatters:"The TSX is heavily weighted toward energy, mining, and financials. Canada's economy is closely tied to US demand and commodity prices.",outlook:"Monitor Bank of Canada rate decisions, oil price movements, housing market stability, and US-Canada trade relations."},"South Korea":{whyMatters:"South Korea is a global leader in semiconductors and electronics. KOSPI movements reflect tech sector health and Asian geopolitical risk.",outlook:"Watch semiconductor demand cycles, North Korea tensions, domestic political stability, and Korean won movements."},Australia:{whyMatters:"The ASX is a proxy for global commodity demand, especially iron ore and coal exports to China. Australia's economy bridges Asian and Western markets.",outlook:"Monitor China's demand for commodities, RBA rate decisions, housing market trends, and Pacific security developments."},Brazil:{whyMatters:"Brazil is Latin America's largest economy and a major commodity exporter. The Bovespa reflects emerging market risk appetite and commodity cycles.",outlook:"Watch fiscal policy developments, inflation trajectory, commodity export demand, and political reform progress."},Taiwan:{whyMatters:"Taiwan's TAIEX is dominated by TSMC and the semiconductor industry. It's the single most important node in the global chip supply chain.",outlook:"Key risks: cross-strait tensions with China, global chip demand cycles, and US semiconductor policy affecting TSMC's strategic position."},Russia:{whyMatters:"The MOEX reflects the impact of international sanctions and energy market dynamics. Russia's isolation from Western capital markets creates unique pricing distortions.",outlook:"Watch sanctions developments, oil price movements, ruble stability, and any ceasefire or escalation signals from the Ukraine conflict."},"Saudi Arabia":{whyMatters:"The Tadawul tracks OPEC+ production decisions and oil prices. Saudi Arabia's Vision 2030 diversification is reshaping the kingdom's economic profile.",outlook:"Monitor OPEC+ output agreements, oil demand forecasts, Aramco performance, and progress on Vision 2030 economic diversification projects."},Turkey:{whyMatters:"Turkey sits at the crossroads of Europe, Asia, and the Middle East. The BIST 100 reflects emerging market risk and lira stability concerns.",outlook:"Watch central bank policy credibility, inflation trajectory, lira stability, and Turkey's evolving geopolitical positioning in regional conflicts."},"South Africa":{whyMatters:"The JSE is Africa's largest and most liquid exchange. It's a bellwether for the broader African continent and reflects commodity and mining trends.",outlook:"Monitor power grid stability (load shedding), mining sector output, rand movements, and government reform implementation."},Nigeria:{whyMatters:"Nigeria is Africa's largest economy by GDP. The NGX reflects oil revenue dynamics, currency reform progress, and frontier market investor sentiment.",outlook:"Watch naira exchange rate policy, oil production levels, banking sector reforms, and foreign exchange liquidity conditions."}},Lw="https://hegemon-rss-proxy.hegemonglobal.workers.dev",Hb=[r=>"https://api.allorigins.win/raw?url="+encodeURIComponent(r),r=>"https://corsproxy.io/?"+encodeURIComponent(r)];function Wu(r,e){return new Promise((t,a)=>{const s=setTimeout(()=>a(new Error("Timeout")),e);fetch(r).then(l=>{clearTimeout(s),t(l)}).catch(l=>{clearTimeout(s),a(l)})})}function pu(r,e=2){return r==null||isNaN(r)?"N/A":r.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e})}function kw(){const r=[];return Rw.forEach(e=>{e.symbols.forEach(t=>r.push(t.sym))}),r}function kk(r){const e=Lk[r];if(!e)return{isOpen:!1,label:"Closed"};const t=new Date,s=new Intl.DateTimeFormat("en-US",{timeZone:e.tz,weekday:"short",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(t),l=s.find(b=>b.type==="weekday")?.value,c=parseInt(s.find(b=>b.type==="hour")?.value,10),d=parseInt(s.find(b=>b.type==="minute")?.value,10);if(l==="Sat"||l==="Sun")return{isOpen:!1,label:"Weekend"};const h=c*60+d,[f,g]=e.open.split(":").map(Number),[y,v]=e.close.split(":").map(Number);return h>=f*60+g&&h<y*60+v?{isOpen:!0,label:"Open"}:{isOpen:!1,label:"Closed"}}function Nk(){return Wu("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_24hr_change=true",1e4).then(r=>{if(!r.ok)throw new Error("CoinGecko HTTP "+r.status);return r.json()}).then(r=>!r||!r.bitcoin||!r.bitcoin.usd?null:{symbol:"BTC-USD",price:r.bitcoin.usd,changePct:r.bitcoin.usd_24h_change||0,sparkline:ja["BTC-USD"]?.sparkline||[r.bitcoin.usd,r.bitcoin.usd]}).catch(r=>(console.warn("CoinGecko fetch failed:",r.message),null))}async function Uk(){const r=kw(),e=await Wu(`${Lw}/stock?symbols=${encodeURIComponent(r.join(","))}`,15e3);if(!e.ok)throw new Error("Worker HTTP "+e.status);const t=await e.json();if(!t.quotes)throw new Error("No quotes in response");const a={};return Object.entries(t.quotes).forEach(([s,l])=>{a[s]={symbol:l.symbol||s,price:l.price,changePct:l.changePct,sparkline:l.sparkline||[l.prevClose||l.price,l.price]}}),a}function Bk(){const r=kw();return Promise.all(r.map(e=>{const t="https://query1.finance.yahoo.com/v8/finance/chart/"+encodeURIComponent(e)+"?range=5d&interval=1d&includePrePost=false";function a(s){if(s>=Hb.length)return Promise.resolve(null);const l=Hb[s](t);return Wu(l,12e3).then(c=>{if(!c.ok)throw new Error("HTTP "+c.status);return c.json()}).then(c=>{const d=c?.chart?.result?.[0];if(!d)return null;const h=d.meta,f=h.regularMarketPrice,g=h.chartPreviousClose||h.previousClose;if(!f)return null;let y=[];return d.indicators?.quote?.[0]?.close&&(y=d.indicators.quote[0].close.filter(v=>v!=null)),{symbol:h.symbol||e,price:f,changePct:g?(f-g)/g*100:0,sparkline:y.length>1?y:[g||f,f]}}).catch(()=>a(s+1))}return a(0)})).then(e=>{const t={};if(e.forEach(a=>{a&&(t[a.symbol]=a)}),Object.keys(t).length===0)throw new Error("No quotes from CORS proxies");return t})}async function EN(r,e="5d",t="1d"){try{const a=await Wu(`${Lw}/stock?symbols=${encodeURIComponent(r)}&range=${encodeURIComponent(e)}&interval=${encodeURIComponent(t)}`,15e3);if(!a.ok)return null;const l=(await a.json()).quotes?.[r];return!l||!l.price?null:{symbol:l.symbol||r,price:l.price,prevClose:l.prevClose,changePct:l.changePct,shortName:l.shortName||"",exchangeName:l.exchangeName||"",closes:l.sparkline||[],timestamps:l.timestamps||[]}}catch{return null}}function Dk(){return Uk().catch(r=>(console.warn("Worker fetch failed:",r.message,"- trying CORS proxies"),Bk()))}function Zf(r,e,t){try{localStorage.setItem(r,JSON.stringify({data:e,ts:Date.now(),ttl:t}))}catch(a){console.warn("localStorage write failed:",a.message)}}function Pk(r){try{const e=localStorage.getItem(r);if(!e)return null;const t=JSON.parse(e);return Date.now()-t.ts>t.ttl?(localStorage.removeItem(r),null):t}catch{return null}}function Qf(r,e){const t=[];return Rw.forEach(a=>{let s=!1;const l=a.symbols.map(g=>{const y=r[g.sym];if(!y){const w=ja[g.sym];if(w){s=!0;const T=g.pre||"",_=w.changePct>=0;return{name:g.name,value:T+pu(w.price),change:(_?"+":"")+w.changePct.toFixed(2)+"%",changeAbs:(_?"+":"-")+T+pu(Math.abs(w.price*w.changePct/100)),positive:_,noData:!1}}return{name:g.name,value:"",change:"",changeAbs:"",positive:!0,noData:!0}}s=!0;const v=g.pre||"",b=y.changePct>=0;return{name:g.name,value:v+pu(y.price),change:(b?"+":"")+y.changePct.toFixed(2)+"%",changeAbs:(b?"+":"-")+v+pu(Math.abs(y.price*y.changePct/100)),positive:b,noData:!1}}),c=r[a.symbols[0].sym];let d=[50,50,50,50,50,50,50,50,50,50,50,50],h=0;if(c&&c.sparkline&&c.sparkline.length>1){const g=c.sparkline;d=[];for(let y=0;y<12;y++){const v=Math.floor(y*(g.length-1)/11);d.push(g[v])}h=c.changePct}else if(ja[a.symbols[0].sym]){const g=ja[a.symbols[0].sym];d=g.sparkline.slice(),h=g.changePct}let f="Market data unavailable";if(c||e){const g=h>=0?"up":"down",y=Math.abs(h);y<.2?f="Markets mostly flat today":y<1?f="Markets "+g+" "+y.toFixed(1)+"% today":f="Markets "+g+" "+y.toFixed(1)+"%  "+(h>=0?"broad gains":"selling pressure")}t.push({country:a.country,flag:a.flag,indices:l,sentiment:f,sparkline:d,hasData:s,isStaticFallback:e&&!c})}),t}let Zo=!1;async function Vb(r){localStorage.getItem("hegemon_stocks_v2")||(localStorage.removeItem("hegemon_stocks_cache"),localStorage.setItem("hegemon_stocks_v2","1"));const e=Pk("hegemon_stocks_cache");if(e&&r({data:e.data,lastUpdated:new Date(e.ts),error:!1,isUpdating:!0}),!Zo){Zo=!0;try{const[t,a]=await Promise.all([Dk().catch(()=>({})),Nk().catch(()=>null)]);if(a&&!t["BTC-USD"]&&(t["BTC-USD"]=a),Object.keys(t).length>0){const l=Qf(t,!1);Zf("hegemon_stocks_cache",l,3e5),Zo=!1,r&&r({data:l,lastUpdated:new Date,error:!1,isUpdating:!1})}else{console.warn("All API requests failed, using static fallback");const l={};Object.keys(ja).forEach(d=>{l[d]=ja[d]});const c=Qf(l,!0);Zf("hegemon_stocks_cache",c,36e5),Zo=!1,r&&r({data:c,lastUpdated:new Date,error:!0,isUpdating:!1})}}catch(t){console.error("Stock data fetch failed:",t);const a={};Object.keys(ja).forEach(l=>{a[l]=ja[l]});const s=Qf(a,!0);Zf("hegemon_stocks_cache",s,36e5),Zo=!1,r&&r({data:s,lastUpdated:new Date,error:!0,isUpdating:!1})}}}function Ok(r,e,t){const s=window.innerWidth,l=window.innerHeight,c=r.offsetWidth||250,d=r.offsetHeight||80;let h=e+15,f=t+15;h+c>s-10&&(h=e-c-15),h<10&&(h=10),f+d>l-10&&(f=t-d-15),f<10&&(f=10),r.style.left=h+"px",r.style.top=f+"px"}function zk({data:r,mousePos:e}){const t=G.useRef(null);return G.useEffect(()=>{t.current&&r&&e&&Ok(t.current,e.x,e.y)},[r,e]),R.jsx("div",{ref:t,className:"country-tooltip",id:"tooltip",style:{display:r?"block":"none"},children:r&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"tooltip-name",children:[r.flag," ",r.name," ",R.jsx("span",{className:`tooltip-risk risk-${r.risk}`,children:r.risk.toUpperCase()})]}),R.jsxs("div",{className:"tooltip-region",children:[r.region,"  ",r.title||""]}),R.jsx("div",{className:"tooltip-hint",children:"Click for details"})]})})}function Cs(r,e,t){const a=(90-r)*(Math.PI/180),s=(e+180)*(Math.PI/180);return new I(-t*Math.sin(a)*Math.cos(s),t*Math.cos(a),t*Math.sin(a)*Math.sin(s))}function ep(r,e){const t=e.worldToLocal(r.clone()),a=t.length(),s=Math.acos(Math.max(-1,Math.min(1,t.y/a))),l=Math.atan2(t.z,-t.x),c=90-s*(180/Math.PI),d=(l*(180/Math.PI)-180+540)%360-180;return{lat:c,lng:d}}function tp(r,e,t){t=t||8;let a=null,s=1/0;return Object.entries(gt).forEach(([l,c])=>{const d=c.lat-r;let h=c.lng-e;h>180&&(h-=360),h<-180&&(h+=360);const f=Math.sqrt(d*d+h*h);f<s&&(s=f,a=l)}),s<=t?a:null}let Ds=0;function Nw(){const r=1+Ds*.1,e=document.querySelector(".sidebar-content"),t=e?e.scrollTop:0;e&&(e.style.zoom=r),requestAnimationFrame(()=>{e&&(e.scrollTop=t)});const a=document.querySelector(".modal-body");a&&(a.style.zoom=r);const s=document.getElementById("tosBody");s&&(s.style.zoom=r);const l=document.querySelectorAll("#fontControls button");l[0]&&(l[0].style.opacity=Ds<=-1?"0.3":"1"),l[2]&&(l[2].style.opacity=Ds>=3?"0.3":"1")}function Wb(r){Ds=Math.max(-1,Math.min(3,Ds+r)),Nw()}function Ik(){Ds=0,Nw()}const Fk={USA:[[49,-125],[49,-67],[25,-80],[25,-97],[32,-117],[49,-125]],Canada:[[49,-125],[49,-55],[60,-55],[70,-90],[60,-140],[49,-125]],Mexico:[[32,-117],[32,-86],[15,-87],[15,-105],[32,-117]],Brazil:[[-5,-74],[-5,-35],[-33,-53],[-33,-58],[-15,-74],[-5,-74]],Argentina:[[-22,-66],[-22,-58],[-55,-68],[-55,-72],[-22,-66]],Russia:[[70,30],[70,180],[45,135],[45,30],[70,30]],China:[[53,73],[53,135],[18,110],[22,100],[35,73],[53,73]],India:[[35,68],[35,97],[8,77],[8,68],[35,68]],Australia:[[-10,113],[-10,154],[-44,147],[-35,115],[-10,113]],EU:[[70,-10],[70,40],[35,40],[35,-10],[70,-10]],Africa:[[37,-17],[37,51],[-35,20],[-35,-17],[37,-17]],MiddleEast:[[42,25],[42,63],[12,43],[12,25],[42,25]]},jb=2.8,qb={x:0,y:0};function Gk({onCountryClick:r,onCountryHover:e,compareMode:t}){const a=G.useRef(null),s=G.useRef(null),l=G.useRef(null),c=G.useRef(null),d=G.useRef(null),h=G.useRef([]),f=G.useRef(null),g=G.useRef(new Le),y=G.useRef(null),v=G.useRef(!1),b=G.useRef({x:0,y:0}),w=G.useRef({x:0,y:0}),T=G.useRef(!0),_=G.useRef({x:0,y:0}),S=G.useRef(!1),x=G.useRef(0),B=G.useRef(null),O=G.useRef(r),D=G.useRef(e),A=G.useRef(t);G.useEffect(()=>{O.current=r},[r]),G.useEffect(()=>{D.current=e},[e]),G.useEffect(()=>{A.current=t},[t]);const[P,q]=G.useState(null),[X,te]=G.useState(null),de=G.useRef(null),re=G.useCallback(()=>{const N=d.current,V=l.current;if(!N||!V)return;B.current&&cancelAnimationFrame(B.current);const C=N.rotation.x,H=N.rotation.y,Z=V.position.z,se=V.position.x,he=window.innerWidth<=768?0:-.15,L=Date.now(),W=600;function ne(xe){return 1-Math.pow(1-xe,3)}function Y(){const xe=Date.now()-L,we=Math.min(1,xe/W),ve=ne(we);N.rotation.x=C+(qb.x-C)*ve;let Ne=qb.y-H;for(;Ne>Math.PI;)Ne-=2*Math.PI;for(;Ne<-Math.PI;)Ne+=2*Math.PI;N.rotation.y=H+Ne*ve,V.position.z=Z+(jb-Z)*ve,V.position.x=se+(he-se)*ve,we<1?B.current=requestAnimationFrame(Y):B.current=null}Y()},[]);G.useEffect(()=>{const N=a.current;if(!N||N.dataset.globeInit)return;N.dataset.globeInit="true";const V=N.clientWidth,C=N.clientHeight,H=window.innerWidth<768,Z=new Vp;s.current=Z;const se=new In(45,V/C,.1,1e3);se.position.z=jb,se.position.x=H?0:-.15,l.current=se;const he=new kt({antialias:!H,alpha:!0});he.setSize(V,C),he.setPixelRatio(H?Math.min(window.devicePixelRatio,1.5):window.devicePixelRatio),N.appendChild(he.domElement),c.current=he;const L=new gw(16777215,.8);Z.add(L);const W=new mw(16777215,.6);W.position.set(5,3,5),Z.add(W);const ne=H?32:64,Y=new bu(1,ne,ne),xe=new sw,we=()=>{const Se=document.getElementById("globeLoader");Se&&(Se.style.opacity="0",setTimeout(()=>Se.remove(),800)),window.dispatchEvent(new Event("globeReady"))},ve=xe.load("https://unpkg.com/three-globe/example/img/earth-blue-marble.jpg",we);ve.wrapS=An,ve.wrapT=An,ve.anisotropy=he.capabilities.getMaxAnisotropy();const _e=xe.load("https://unpkg.com/three-globe/example/img/earth-topology.png");_e.wrapS=An,_e.wrapT=An,_e.anisotropy=he.capabilities.getMaxAnisotropy();const Ne=new nw({map:ve,bumpMap:_e,bumpScale:.03,specular:new qe(3355443),shininess:5,polygonOffset:!0,polygonOffsetFactor:1}),Re=new un(Y,Ne);Z.add(Re),d.current=Re;const Xe=H?24:64,Me=new bu(1.02,Xe,Xe),Ce=new ra({color:440020,transparent:!0,opacity:H?.04:.08,side:rn});Z.add(new un(Me,Ce));const be=new AL;window.innerWidth<=768&&(be.params.Line={threshold:.1},be.params.Points={threshold:.1}),f.current=be,Object.entries(Fk).forEach(([,Se])=>{const De=Se.map(([it,dt])=>Cs(it,dt,1.002));De.push(De[0]);const xt=new bt().setFromPoints(De),Bt=new sa({color:440020,transparent:!0,opacity:.4,linewidth:2});Re.add(new xr(xt,Bt))});for(let Se=-60;Se<=60;Se+=30){const De=[];for(let it=-180;it<=180;it+=5)De.push(Cs(Se,it,1.001));const xt=new bt().setFromPoints(De),Bt=new sa({color:2042167,transparent:!0,opacity:.3});Re.add(new xr(xt,Bt))}for(let Se=-180;Se<180;Se+=30){const De=[];for(let it=-90;it<=90;it+=5)De.push(Cs(it,Se,1.001));const xt=new bt().setFromPoints(De),Bt=new sa({color:2042167,transparent:!0,opacity:.3});Re.add(new xr(xt,Bt))}const Oe=[];Object.entries(gt).forEach(([Se,De])=>{const xt=De.risk==="catastrophic"?.025:De.risk==="extreme"?.02:.015,Bt=new bu(xt,16,16),it=new ra({color:yr[De.risk]?.glow||8947848,transparent:!0,opacity:.95}),dt=new un(Bt,it),nn=Cs(De.lat,De.lng,1.02);if(dt.position.copy(nn),dt.userData={name:Se,data:De},Re.add(dt),Oe.push(dt),De.risk==="catastrophic"||De.risk==="extreme"){const _n=new gp(xt+.01,xt+.025,32),Xn=new ra({color:yr[De.risk].glow,transparent:!0,opacity:.6,side:Sr}),Zn=new un(_n,Xn);Zn.position.copy(nn),Zn.lookAt(new I(0,0,0)),Re.add(Zn)}}),h.current=Oe,HL(Re,Cs);function ke(Se,De){const xt=he.domElement.getBoundingClientRect();g.current.x=(Se-xt.left)/xt.width*2-1,g.current.y=-((De-xt.top)/xt.height)*2+1,be.setFromCamera(g.current,se);const Bt=be.intersectObjects(h.current);if(Bt.length>0){const dt=Bt[0].object.userData.name;return dt&&O.current&&O.current(dt),dt}const it=be.intersectObject(Re);if(it.length>0){const dt=ep(it[0].point,Re),nn=tp(dt.lat,dt.lng,8);return nn&&O.current&&O.current(nn),nn}return null}let z=0,k=0;function oe(Se){const De=Date.now();if(De-z<100||De<k)return;z=De;const xt=he.domElement.getBoundingClientRect();g.current.x=(Se.clientX-xt.left)/xt.width*2-1,g.current.y=-((Se.clientY-xt.top)/xt.height)*2+1,be.setFromCamera(g.current,se);const Bt=be.intersectObjects(h.current);if(window.tradeRoutesActive&&window.tradeRouteMeshes&&window.tradeRouteMeshes.length>0){be.params.Line=be.params.Line||{};const it=be.params.Line.threshold;be.params.Line.threshold=.02;const dt=be.intersectObjects(window.tradeRouteMeshes);if(be.params.Line.threshold=it||0,dt.length>0&&dt[0].object.userData.route){typeof window.showTradeRouteTooltip=="function"&&window.showTradeRouteTooltip(dt[0].object.userData.route,Se.clientX,Se.clientY),q(null),he.domElement.style.cursor="pointer";return}else typeof window.hideTradeRouteTooltip=="function"&&window.hideTradeRouteTooltip()}if(Bt.length>0){const it=Bt[0].object.userData;it&&it.data&&it.name&&(q({name:it.name,flag:it.data.flag,risk:it.data.risk,region:it.data.region,title:it.data.title}),te({x:Se.clientX,y:Se.clientY}),D.current&&D.current(it.name,Se)),he.domElement.style.cursor="pointer"}else{const it=be.intersectObject(Re);if(it.length>0){const dt=ep(it[0].point,Re),nn=tp(dt.lat,dt.lng,10);if(nn){const _n=gt[nn];_n&&(q({name:nn,flag:_n.flag,risk:_n.risk,region:_n.region,title:_n.title}),te({x:Se.clientX,y:Se.clientY}),D.current&&D.current(nn,Se)),he.domElement.style.cursor="pointer"}else q(null),he.domElement.style.cursor="grab"}else q(null),he.domElement.style.cursor="grab"}}function ce(Se){if(k=Date.now()+200,w.current){const De=Math.abs(Se.clientX-w.current.x),xt=Math.abs(Se.clientY-w.current.y);if(De>5||xt>5)return}ke(Se.clientX,Se.clientY)}function Ee(Se){const De=he.domElement.getBoundingClientRect();if(g.current.x=(Se.clientX-De.left)/De.width*2-1,g.current.y=-((Se.clientY-De.top)/De.height)*2+1,be.setFromCamera(g.current,se),be.intersectObjects(h.current).length>0)return;const Bt=be.intersectObject(Re);if(Bt.length>0){const it=ep(Bt[0].point,Re);if(tp(it.lat,it.lng,5))return}typeof window._globeResetView=="function"&&window._globeResetView()}function ze(){se.aspect=N.clientWidth/N.clientHeight,se.position.x=window.innerWidth<=768?0:-.15,se.updateProjectionMatrix(),he.setSize(N.clientWidth,N.clientHeight)}function nt(){q(null),typeof window.hideTradeRouteTooltip=="function"&&window.hideTradeRouteTooltip()}function Ie(Se){v.current=!0,b.current={x:Se.clientX,y:Se.clientY},w.current={x:Se.clientX,y:Se.clientY}}function J(){v.current=!1}function Te(Se){!v.current||!Re||(Re.rotation.y+=(Se.clientX-b.current.x)*.005,Re.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,Re.rotation.x+(Se.clientY-b.current.y)*.005)),b.current={x:Se.clientX,y:Se.clientY})}function Ae(Se){Se.touches.length===1&&(v.current=!0,_.current={x:Se.touches[0].clientX,y:Se.touches[0].clientY},b.current={x:Se.touches[0].clientX,y:Se.touches[0].clientY})}function Fe(){v.current=!1,S.current=!1}function ye(Se){if(!Re)return;if(Se.touches.length===2){const xt=Se.touches[0].clientX-Se.touches[1].clientX,Bt=Se.touches[0].clientY-Se.touches[1].clientY,it=Math.sqrt(xt*xt+Bt*Bt);if(S.current&&x.current>0){const dt=(x.current-it)*.01;se.position.z=Math.max(1.5,Math.min(5,se.position.z+dt))}S.current=!0,x.current=it,v.current=!1;return}if(!v.current||Se.touches.length!==1)return;const De=Se.touches[0];Re.rotation.y+=(De.clientX-b.current.x)*.005,Re.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,Re.rotation.x+(De.clientY-b.current.y)*.005)),b.current={x:De.clientX,y:De.clientY}}function We(Se){if(Se.changedTouches.length===1){const De=Se.changedTouches[0],xt=Math.abs(De.clientX-_.current.x),Bt=Math.abs(De.clientY-_.current.y);xt<10&&Bt<10&&ke(De.clientX,De.clientY)}}function rt(Se){if(Se.preventDefault(),!se)return;const De=Se.deltaY*.002;se.position.z=Math.max(1.5,Math.min(5,se.position.z+De))}N.addEventListener("mousemove",oe),N.addEventListener("click",ce),N.addEventListener("dblclick",Ee),N.addEventListener("mouseleave",nt),N.addEventListener("mousedown",Ie),N.addEventListener("touchstart",Ae,{passive:!0}),N.addEventListener("touchend",We,{passive:!0}),N.addEventListener("wheel",rt,{passive:!1}),document.addEventListener("mouseup",J),document.addEventListener("mousemove",Te),document.addEventListener("touchend",Fe),document.addEventListener("touchmove",ye,{passive:!0}),window.addEventListener("resize",ze);let Nt=0;const fn=H?1e3/30:0;function st(Se){y.current=requestAnimationFrame(st),!(H&&Se-Nt<fn)&&(Nt=Se,!v.current&&T.current&&Re&&(Re.rotation.y+=H?5e-4:8e-4),VL(),he.render(Z,se))}return st(0),()=>{cancelAnimationFrame(y.current),B.current&&cancelAnimationFrame(B.current),N.removeEventListener("mousemove",oe),N.removeEventListener("click",ce),N.removeEventListener("dblclick",Ee),N.removeEventListener("mouseleave",nt),N.removeEventListener("mousedown",Ie),N.removeEventListener("touchstart",Ae),N.removeEventListener("touchend",We),N.removeEventListener("wheel",rt),document.removeEventListener("mouseup",J),document.removeEventListener("mousemove",Te),document.removeEventListener("touchend",Fe),document.removeEventListener("touchmove",ye),window.removeEventListener("resize",ze),he.dispose(),Z.traverse(Se=>{Se.geometry&&Se.geometry.dispose(),Se.material&&(Array.isArray(Se.material)?Se.material.forEach(De=>De.dispose()):Se.material.dispose())}),he.domElement&&he.domElement.parentNode&&he.domElement.parentNode.removeChild(he.domElement)}},[]);const K=G.useCallback(()=>(T.current=!T.current,T.current),[]);return G.useEffect(()=>(window._globeView={globe:d.current,scene:s.current,camera:l.current,renderer:c.current,countryMeshes:h.current,raycaster:f.current,toggleRotation:K,autoRotateRef:T},window._globeResetView=re,()=>{delete window._globeView,delete window._globeResetView}),[K,re]),G.useEffect(()=>(window.showTradeRouteTooltip=(N,V,C)=>{const H=de.current;if(!H)return;const Z=gt[N.from]?gt[N.from].flag:"",se=gt[N.to]?gt[N.to].flag:"",he=N.status==="healthy"?"#22c55e":N.status==="sanctioned"?"#ef4444":"#f59e0b";H.innerHTML='<div style="font-size:12px;font-weight:700;margin-bottom:6px;">'+Z+" "+N.from+"  "+se+" "+N.to+'</div><div style="display:flex;justify-content:space-between;margin-bottom:4px;"><span style="color:#6b7280;">Volume:</span><span style="color:#e5e7eb;font-weight:600;">$'+N.volume+'B/yr</span></div><div style="display:flex;justify-content:space-between;margin-bottom:4px;"><span style="color:#6b7280;">Status:</span><span style="color:'+he+';font-weight:600;">'+N.status.toUpperCase()+'</span></div><div style="color:#9ca3af;margin-bottom:4px;"><span style="color:#6b7280;">Goods:</span> '+N.goods+'</div><div style="color:#9ca3af;font-size:9px;margin-top:6px;border-top:1px solid #1f2937;padding-top:6px;">'+N.desc+"</div>"+(N.sanctions?'<div style="color:#fca5a5;font-size:9px;margin-top:4px;"> '+N.sanctions+"</div>":"")+(N.recent?'<div style="color:#06b6d4;font-size:9px;margin-top:4px;"> '+N.recent+"</div>":""),H.style.display="block";const L=15,W=window.innerWidth,ne=window.innerHeight,Y=H.offsetWidth||320,xe=H.offsetHeight||200;let we=V+L,ve=C+L;we+Y>W-10&&(we=V-Y-L),we<10&&(we=10),ve+xe>ne-10&&(ve=C-xe-L),ve<10&&(ve=10),H.style.left=we+"px",H.style.top=ve+"px"},window.hideTradeRouteTooltip=()=>{const N=de.current;N&&(N.style.display="none")},()=>{delete window.showTradeRouteTooltip,delete window.hideTradeRouteTooltip}),[]),R.jsxs("div",{ref:a,id:"globe",children:[R.jsx("div",{id:"globeLoader",className:"globe-loader",children:R.jsx("div",{className:"globe-spinner"})}),R.jsx(zk,{data:P,mousePos:X}),R.jsxs("button",{className:"globe-reset-btn",onClick:re,title:"Reset View",children:[R.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[R.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.9"}),R.jsx("polyline",{points:"3 22 3 12 13 12"})]}),"Reset"]}),R.jsx("div",{ref:de,id:"tradeTooltip",style:{display:"none",position:"fixed",zIndex:1e4,background:"#111827",border:"1px solid #1f2937",borderRadius:"8px",padding:"10px 14px",maxWidth:"320px",fontSize:"10px",color:"#e5e7eb",pointerEvents:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"}})]})}function Hk(){const r=new Date,e=(r.getUTCHours()-5+24)%24,t=r.getUTCMinutes();if(e>=17)return null;const a=16-e,s=60-t;return{hours:a,minutes:s}}function Vk(r){const e={};return Object.keys(rp).forEach(t=>{e[t]=[]}),e.Global=[],r.forEach(t=>{const a=t.headline||t.title||"";let s=!1;for(const[l,c]of Object.entries(rp))if(c.some(d=>new RegExp("\\b"+d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\b","i").test(a))){e[l].push(t),s=!0;break}s||e.Global.push(t)}),e}function Uw(r){const e=[];return Object.keys(gt).forEach(s=>{new RegExp("\\b"+s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\b","i").test(r)&&e.push(s)}),Object.entries({NATO:/\bNATO\b/i,EU:/\bEU\b|\bEuropean Union\b/i,UN:/\bUN\b|\bUnited Nations\b/i,G7:/\bG7\b/i,BRICS:/\bBRICS\b/i,IMF:/\bIMF\b/i,OPEC:/\bOPEC\b/i}).forEach(([s,l])=>{l.test(r)&&e.push(s)}),[...new Set(e)]}function Wk(r,e){const t=rp[e]||[];return r.filter(a=>!!(t.some(s=>s.toLowerCase()===a.toLowerCase())||["NATO","EU","UN","G7","BRICS","IMF","OPEC"].includes(a)))}function Bw(r){const e=r.toLowerCase();return e.match(/attack|strike|bomb|shell|raid|kill|dead|casualt|wound|massacre|assault|shoot|shot|gunfire|stabbing|hostage|murder|execution|slain|slay|terror|explos|arson|ambush/)?"violence":e.match(/ceasefire|peace|truce|agreement|deal|negotiat|talks|summit|diplomat/)?"diplomacy":e.match(/protest|demonstrat|rally|unrest|riot|dissent|opposition/)?"unrest":e.match(/sanction|embargo|tariff|ban|restrict|penalt/)?"sanctions":e.match(/elect|vote|ballot|campaign|inaugurati|sworn|president|prime minister/)?"politics":e.match(/economy|market|stock|trade|gdp|inflation|recession|growth|rate/)?"economic":e.match(/humanitarian|refugee|famine|aid|crisis|disaster|flood|earthquake/)?"humanitarian":e.match(/military|troops|deploy|defense|weapon|missile|nuclear|navy|army/)?"military":e.match(/tech|ai |cyber|chip|data|digital|space/)?"technology":e.match(/climate|carbon|emission|energy|oil|gas|renewable/)?"energy":"general"}function jk(r){if(!r||r.length<2)return r;const t=r.split(/\s+/).filter(c=>c.replace(/[^a-zA-Z]/g,"").length>=4),a=t.filter(c=>/^[A-Z]/.test(c));if(!(t.length>=2&&a.length/t.length>.6))return r;const l=new Set;return Object.keys(gt).forEach(c=>{c.split(/\s+/).forEach(d=>{d.length>1&&l.add(d)})}),["President","Prime","Minister","King","Queen","Prince","Princess","Pope","Senator","Secretary","General","Admiral","Colonel","Governor","Chancellor","Ambassador","Congress","Parliament","Senate","Pentagon","Kremlin","Vatican","Taliban","Hamas","Hezbollah","ISIS","Houthi","Houthis","Republican","Democrat","Democratic","Labour","Conservative","Liberal","Tory","Tories","European","African","Asian","American","Atlantic","Pacific","Arctic","Antarctic","Mediterranean","Caribbean","Islamic","Muslim","Christian","Jewish","Hindu","Buddhist","Orthodox","Sunni","Shia","Israeli","Iranian","Persian","Chinese","Russian","Ukrainian","Syrian","Iraqi","Afghan","Palestinian","Lebanese","Yemeni","Somali","Sudanese","Libyan","Nigerian","Egyptian","Saudi","Turkish","Japanese","Korean","Indian","Pakistani","Brazilian","Mexican","Cuban","Venezuelan","Colombian","British","French","German","Italian","Spanish","Polish","Dutch","Swedish","Norwegian","Finnish","Danish","Greek","Portuguese","Hungarian","Czech","Romanian","Serbian","Croatian","Bosnian","Albanian","Georgian","Armenian","Canadian","Australian","Taiwanese","Greenlandic","Kurdish","Rohingya","Uyghur","Tibetan","Arab","Trump","Biden","Putin","Xi","Macron","Zelensky","Netanyahu","Modi","Erdogan","Scholz","Starmer","Meloni","Kishida","Lula","Milei","Orban","Wall","Street","Reuters","BBC","CNN","OPEC","WHO","IMF","NATO","BRICS","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","January","February","March","April","May","June","July","August","September","October","November","December","Republic","Federation","Assembly","Union","Kingdom","Nations","Commonwealth","Sea","Gulf","Strait","Red","Cross","Crescent","Bank","West","East","Horn","Sahel","Levant","Peninsula","Mount"].forEach(c=>l.add(c)),r.replace(/\S+/g,c=>{const d=c.replace(/[^a-zA-Z]/g,"");if(/^[A-Z]{2,}\.?$/.test(d)||/[A-Z]\.[A-Z]/.test(c)||/[a-z][A-Z]/.test(c))return c;const h=c.replace(/^[^a-zA-Z]+|[^a-zA-Z]+$/g,"");if(l.has(h))return c;const f=h.replace(/'s$|\u2019s$/i,"");return f!==h&&l.has(f)?c:c[0]===c[0].toUpperCase()&&c.length>1?c[0].toLowerCase()+c.slice(1):c})}function Ha(r){return/^(Middle East|Americas|United States|United Kingdom|Philippines|Netherlands|Balkans|Caucasus|Caribbean|Sahel|Horn of Africa|Levant|Czech Republic|Dominican Republic)$/i.test(r)?"the "+r:r}function Dw(r){const e=[["Trump","President"],["Biden","President"],["Putin","President"],["Zelensky","President"],["Xi Jinping","President"],["Xi","President"],["Macron","President"],["Erdogan","President"],["Lula","President"],["Milei","President"],["Sisi","President"],["Assad","President"],["Netanyahu","Prime Minister"],["Modi","Prime Minister"],["Starmer","Prime Minister"],["Kishida","Prime Minister"],["Scholz","Chancellor"],["Meloni","Prime Minister"],["Orban","Prime Minister"],["Trudeau","Prime Minister"]];let t=r;for(const[a,s]of e){if(t.includes(`${s} ${a}`))continue;const l=t.indexOf(a);if(l<0)continue;const c=t.substring(Math.max(0,l-25),l).toLowerCase();/\b(president|minister|chancellor|king|queen|pope|premier|secretary|prince|leader)\s*$/.test(c)||(t=t.replace(new RegExp(`\\b${a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`),`${s} ${a}`))}return t}function Pw(r){return r=r.replace(/\b(tells?|told)\s+((?:President|Prime Minister|Chancellor)\s+[\w]+)\s+(?!that\b)([A-Z])/g,"$1 $2 that $3"),r=r.replace(/\b(says?|said|warns?|warned|claims?|claimed|announces?|announced|confirms?|confirmed|denies?|denied|suggests?|suggested|indicates?|indicated|signals?|signaled|reveals?|revealed|declares?|declared|states?|stated|acknowledges?|acknowledged|reports?|reported)\s+(?!that |the |a |an |it |he |she |they |this |these |there |his |her |its |to |in |on |at |for |of |with |from |no |not |more )([A-Z])/g,"$1 that $2"),r}function Ow(r){return r.length===0?"":r.length===1?r[0]:r.length===2?r[0]+" and "+r[1]:r.slice(0,-1).join(", ")+", and "+r[r.length-1]}function qk(r){r=r.replace(/\b(over|near|across|through|in|at|along|around|off|into|from|toward|towards|between|beyond|throughout)\s+((?:Sea|Gulf|Strait|Bay|Cape|Horn|Canal|Channel|Peninsula|Coast)\s+of\s+\w+)/gi,(l,c,d)=>c+" the "+d),r=r.replace(/\b(over|near|across|through|in|at|along|around|off|into|from|toward|towards|between|beyond)\s+(Taiwan Strait|English Channel|Suez Canal|Panama Canal|Korean Peninsula|Sinai Peninsula|Arabian Peninsula|Bering Strait|South China Sea|East China Sea|Yellow Sea|Red Sea|Black Sea|Caspian Sea|Dead Sea|Persian Gulf|Gulf of Aden|Gulf of Mexico|Indian Ocean|Pacific Ocean|Atlantic Ocean|Arctic Ocean|Mediterranean Sea|Sea of Japan|Strait of Hormuz|Strait of Malacca|Cape of Good Hope)/gi,(l,c,d)=>c+" the "+d);const e=new Set(["strait","canal","channel","peninsula"]);r=r.replace(/\b(over|near|across|through|along|around|off|into|from|toward|towards|beyond)\s+(strait|coast|border|peninsula|canal|channel|coastline|frontier)\b/gi,(l,c,d)=>{const h=e.has(d.toLowerCase())?d.charAt(0).toUpperCase()+d.slice(1).toLowerCase():d.toLowerCase();return c+" the "+h});const t="signals?|conducts?|launches?|announces?|proposes?|unveils?|signs?|stages?|holds?|tests?|fires?|strikes?|reaches?|orders?|declares?|faces?|seeks?|passes?|approves?|rejects?|adopts?|drafts?|releases?|presents?|issues?|begins?|starts?|opens?|plans?|builds?|creates?|forms?|calls?|makes?|sends?|sets?|targets?|secures?|deploys?|initiates?|negotiates?|brokers?",a="major|minor|new|key|massive|significant|potential|critical|large|joint|historic|landmark|formal|fresh|preliminary|strategic|sweeping|broad|controversial|surprise|bold|ambitious|record|emergency|special|temporary|permanent|bilateral|unilateral|ballistic|nuclear|diplomatic|military|ceasefire|peace|trade|economic|political|humanitarian|long-awaited|nationwide|partial|full|limited|comprehensive|retaliatory|preemptive|multinational",s=new RegExp("\\b("+t+")\\s+("+a+")\\s+","gi");return r=r.replace(s,(l,c,d)=>{const h=/^[aeiou]/i.test(d)?"an":"a";return c+" "+h+" "+d+" "}),r}function Su(r){if(!r)return"ongoing developments";let e=r;return e=e.replace(/^[A-Z][A-Za-z\s]+[-:]\s*/,""),e=e.replace(/\s*[-\u2013|]+\s*(as it happened|live updates?|live blog|breaking|developing story|watch live|latest|updates?)\s*$/i,""),e=e.replace(/\s*[([](photos?|videos?|watch|gallery|breaking|exclusive|updated?|opinion|analysis)[)\]]\s*/gi,""),e=e.replace(/^(BREAKING|EXCLUSIVE|WATCH|UPDATE|JUST IN|ALERT|DEVELOPING|OPINION|ANALYSIS)\s*[:-\u2013]\s*/i,""),e=jk(e),e=qk(e),e=e.replace(/[.\-\u2013|]\s*$/,"").trim(),e||"ongoing developments"}function Kk(r,e){if(e.length===0)return"No significant developments were reported in this region over the past 24 hours.";const t=new Set(["the","a","an","in","on","at","to","for","of","and","or","is","are","was","were","has","have","had","with","by","from","that","this","as","it","its","but","not","be","been","will","would","could","should","may","might","after","before","over","into","about","than","also","just","more","most","some","new","other","says","said","amid","during","between","reports","reported","report","latest","live","updates","happened"]),a=[],s=[];if(e.forEach(O=>{const D=O.headline||O.title||"";if(!D)return;const A=D.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(q=>q.length>2&&!t.has(q));s.some(q=>A.filter(te=>q.includes(te)).length>=Math.max(Math.min(A.length,q.length)*.5,2))||(s.push(A),a.push({headline:D,source:O.source||"",category:O.category||"WORLD",importance:O.importance||"medium",type:Bw(D),entities:Uw(D)}))}),a.length===0)return"No significant developments were reported in this region over the past 24 hours.";const l=a.filter(O=>O.importance==="high"),c={};a.forEach(O=>{c[O.type]=(c[O.type]||0)+1});const d=Object.entries(c).sort((O,D)=>D[1]-O[1]),h=Wk([...new Set(a.flatMap(O=>O.entities))],r),f=[],g=new Set;function y(O){return O?/^(New York Times|Washington Post|Guardian|Wall Street Journal|Financial Times|Associated Press|Hindu|Telegraph|Economist|Independent|Atlantic|Intercept|Hill|Times|Sun|Mirror|Observer|Spectator|Globe and Mail|National Post|Japan Times|Jerusalem Post|Moscow Times)$/i.test(O)?"the "+O:O:""}const v=l.length>0?l[0]:a[0];if(!v)return f.join(" ");g.add(a.indexOf(v));const b=Su(v.headline);v.source?f.push(`According to ${y(v.source)}, ${b}.`):f.push(`${b.charAt(0).toUpperCase()+b.slice(1)}.`);const w=a.findIndex((O,D)=>!g.has(D)&&O.type!==v.type),T=a.findIndex((O,D)=>!g.has(D)),_=w>=0?w:T;if(_>=0){g.add(_);const O=a[_],D=Su(O.headline),A=O.type!==v.type?{violence:"On the security front,",diplomacy:"Diplomatically,",unrest:"Domestically,",sanctions:"Regarding sanctions,",politics:"Politically,",economic:"Economically,",humanitarian:"On the humanitarian side,",military:"In defense matters,",technology:"In technology,",energy:"On energy,",general:"Separately,"}[O.type]||"Separately,":"Meanwhile,",P=y(O.source),q=O.source?` (${P.charAt(0).toUpperCase()+P.slice(1)})`:"";f.push(`${A} ${D}${q}.`)}const S=a.findIndex((O,D)=>!g.has(D));if(S>=0&&a.length>=4){const O=a[S],D=Su(O.headline),A=y(O.source),P=O.source?` (${A.charAt(0).toUpperCase()+A.slice(1)})`:"";f.push(`Additionally, ${D}${P}.`)}const x=d[0][0],B=h.length>=2?` involving ${Ow(h.slice(0,3))}`:h.length===1?` regarding ${h[0]}`:"";if(a.length>=2){const O={violence:`The active conflict situation${B} risks further displacement, economic disruption, and potential external involvement.`,diplomacy:`Whether these diplomatic efforts${B} produce binding commitments will shape stability in ${Ha(r)} over the coming weeks.`,unrest:`This pattern of civil unrest${B} points to structural pressures unlikely to resolve without substantive policy changes.`,politics:`These political developments${B} could shift governance trajectories and reshape international partnerships in ${Ha(r)}.`,economic:`These economic pressures${B} carry implications beyond ${Ha(r)}, as changes in monetary policy and market confidence tend to produce ripple effects across connected economies.`,military:`This military activity${B} raises the risk of miscalculation, particularly when multiple actors are increasing their posture simultaneously.`,humanitarian:`The humanitarian situation${B} demands international attention, as conditions are likely to deteriorate without adequate intervention.`,sanctions:`These economic measures${B} are reshaping trade relationships and pushing affected governments toward alternative partnerships.`,technology:`Technology competition${B} has direct implications for both economic positioning and national security in ${Ha(r)}.`,energy:`Energy developments${B} affect global supply chains and pricing, making them relevant well beyond ${Ha(r)}.`};f.push(O[x]||`The range of developments${B} reflects an evolving situation across ${Ha(r)}.`)}return l.length>=3?f.push("The next several days will be important in determining whether these situations escalate or move toward resolution."):l.length>=1&&f.push("These developments are worth monitoring as the situation continues to evolve."),Pw(Dw(f.slice(0,6).join(" ")))}function Yk(r,e){const t=r.flatMap(([,S])=>S),a=e||[],s=[...t,...a];if(s.length===0)return"";const l=new Set(["the","a","an","in","on","at","to","for","of","and","or","is","are","was","were","has","have","had","with","by","from","that","this","as","it","its","but","not","be","been","will","would","could","should","may","might","after","before","over","into","about","than","also","just","more","most","some","new","other","says","said","amid","during","between","reports","reported","report","latest","live","updates","happened"]),c=[],d=[];s.forEach(S=>{const x=S.headline||S.title||"";if(!x)return;const B=x.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(D=>D.length>2&&!l.has(D));d.some(D=>B.filter(P=>D.includes(P)).length>=Math.max(Math.min(B.length,D.length)*.5,2))||(d.push(B),c.push({headline:x,source:S.source||"",type:Bw(x),category:S.category||"WORLD",importance:S.importance||"medium",entities:Uw(x)}))});const h=c.filter(S=>S.importance==="high"),f={};c.forEach(S=>{f[S.type]=(f[S.type]||0)+1});const g=r.filter(([,S])=>S.length>0).map(([S])=>S),v=[...new Set(c.flatMap(S=>S.entities))].filter(S=>["United States","China","Russia","EU","NATO","UN","United Kingdom","France","Germany","India","Iran","Israel","Saudi Arabia","Turkey","Japan"].includes(S)),b=r.filter(([,S])=>S.some(x=>x.importance==="high")).map(([S])=>S),w=[];h.length>=5?w.push(`Taking the regional developments together, the past 24 hours represented an elevated period for global risk. ${h.length} high-priority situations were tracked across ${g.length} regions, a concentration that places strain on international attention and response capacity.`):h.length>=2?w.push(`Viewed collectively, the past 24 hours produced a period of sustained geopolitical activity, with ${h.length} high-priority developments spread across ${g.length} regions. While no single event dominated the global stage, the combination of these developments paints a picture of an international system under consistent pressure.`):w.push(`Across ${g.length} active regions, the past 24 hours reflected a measured but active news cycle. ${c.length} developments were tracked in total, none of which individually rose to crisis level but which, taken together, suggest a baseline of tension that bears monitoring.`),b.length>=2?w.push(`The most consequential pattern in this cycle is the simultaneity of high-priority activity in ${Ow(b.slice(0,4).map(Ha))}. When crises unfold in multiple theaters at once, the practical effect is a stretching of diplomatic bandwidth and military readiness. Policymakers cannot give full attention to any one situation, and the risk increases that a secondary crisis escalates precisely because primary attention is directed elsewhere.`):g.length>=3&&w.push(`Activity was spread across ${g.map(Ha).join(", ")}, each contributing distinct threads. While the situations in these regions are not directly connected in most cases, they share an underlying dynamic: a global order under strain, where local instability increasingly has international dimensions and where the capacity for coordinated response has not kept pace with the number of active situations.`),v.length>=3?w.push(`Several major powers appeared across the day's developments, including ${v.slice(0,4).join(", ")}. This is significant because the positions and actions of these actors set the parameters within which smaller conflicts and negotiations take place. When major powers are simultaneously engaged in multiple theaters, their leverage in any single negotiation tends to diminish, creating openings for regional actors to pursue independent agendas.`):v.length>=1&&w.push(`${v[0]} was visible across multiple developments in this cycle. The decisions made by ${v[0]} in the coming days, particularly regarding resource allocation and diplomatic priorities, will influence how several of these situations evolve.`);const T=[],_=[];if(a.forEach(S=>{const x=S.headline||S.title||"";if(!x)return;const B=x.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(D=>D.length>2&&!l.has(D));_.some(D=>B.filter(P=>D.includes(P)).length>=Math.max(Math.min(B.length,D.length)*.5,2))||(_.push(B),T.push({headline:x,source:S.source||""}))}),T.length>0){const S=T[0],x=S.source?`, per ${S.source}`:"";w.push(`Beyond the regional analysis, developments at the global level included ${Su(S.headline)}${x}. These cross-cutting issues often receive less attention than active conflicts but carry long-term consequences for the international system.`)}return h.length>=3?w.push(`With ${h.length} unresolved high-priority situations across multiple regions, the next several days carry elevated risk. The key question is whether any of these situations produce a decisive shift, either toward resolution or escalation, that changes the broader calculus. Until that happens, the current posture of sustained tension is likely to persist.`):c.length>=10?w.push("The overall picture is one of managed instability. No single crisis is spiraling out of control, but the number of active situations means that the margin for error across the international system is thinner than it might appear on any given day. Sustained attention across these fronts remains necessary."):w.push("While the global risk level is not at its highest, several of these threads have the potential to develop into more significant stories. The coming days will be worth watching, particularly where domestic pressures intersect with international dynamics."),Pw(Dw(w.join(" ")))}function Kb(r){if(!r||r.length===0)return'<div style="text-align:center;padding:20px;color:#6b7280;font-size:11px;">No articles available for this briefing.</div>';const e=Vk(r),t=e.Global||[],a=Object.entries(e).filter(([c,d])=>c!=="Global"&&d.length>0);if(a.sort((c,d)=>{const h=c[1].filter(g=>g.importance==="high").length*10+c[1].length;return d[1].filter(g=>g.importance==="high").length*10+d[1].length-h}),a.length===0&&t.length===0)return'<div style="text-align:center;padding:20px;color:#6b7280;font-size:11px;">No regional updates available.</div>';let s="";a.forEach(([c,d])=>{const h=d.filter(g=>g.importance==="high"),f=Kk(c,d);s+=`
      <div class="newsletter-region" style="margin-bottom:16px;">
        <div class="newsletter-region-header">
          <span class="newsletter-region-name">${c.toUpperCase()}</span>
          ${h.length>0?`<span style="font-size:8px;background:#7f1d1d;color:#fca5a5;padding:2px 6px;border-radius:3px;">${h.length} CRITICAL</span>`:""}
          <span class="newsletter-region-count">${d.length} update${d.length>1?"s":""}</span>
        </div>
        <div style="font-size:11px;color:#c9cdd4;line-height:1.7;padding:8px 12px 12px;letter-spacing:0.01em;">
          ${f}
        </div>
      </div>
    `});const l=Yk(a,t);return l&&(s+=`
      <div style="margin-top:8px;border-top:1px solid #1f2937;padding-top:14px;">
        <div style="display:flex;align-items:center;gap:8px;padding:8px 12px;background:linear-gradient(90deg,rgba(6,182,212,0.12) 0%,transparent 100%);border-left:3px solid #06b6d4;margin-bottom:6px;">
          <span style="font-size:11px;font-weight:700;color:#06b6d4;letter-spacing:1px;">GLOBAL RAMIFICATIONS</span>
        </div>
        <div style="font-size:11px;color:#c9cdd4;line-height:1.7;padding:8px 12px 12px;letter-spacing:0.01em;">
          ${l}
        </div>
      </div>
    `),s}function Jk(){const r=new Date,e=Hk(),t=r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});let a=`
    <div class="newsletter-header">
      <div class="newsletter-title">DAILY INTELLIGENCE BRIEFING</div>
      <div class="newsletter-meta">`;e?a+=`
        <span class="newsletter-status pending"><span style="display:inline-block;width:6px;height:6px;background:#f59e0b;border-radius:50%;margin-right:4px;"></span>PENDING</span>
        <span>Released daily at 5:00 PM EST</span>
        <span style="font-size:9px;color:#f59e0b;font-weight:600;font-family:monospace;background:rgba(245,158,11,0.1);padding:2px 6px;border-radius:4px;margin-left:4px;">Next in ${String(e.hours).padStart(2,"0")}:${String(e.minutes).padStart(2,"0")}</span>`:a+=`
        <span class="newsletter-status live"><span style="display:inline-block;width:6px;height:6px;background:#22c55e;border-radius:50%;margin-right:4px;animation:pulse 1.5s infinite;"></span>LIVE</span>
        <span>${t}</span>`,a+=`
      </div>
    </div>
  `,a+=Kb(at),a+=`
    <div style="text-align:center;padding:12px;margin-top:8px;border-top:1px solid #1f2937;">
      <div style="font-size:9px;color:#6b7280;">Compiled from ${at.length} sources</div>
    </div>
  `;const s=Tw();return s.length>0&&(a+=`<div style="margin-top:6px;border-top:1px solid #1f2937;padding-top:12px;">
      <div style="font-size:9px;color:#6b7280;font-weight:600;letter-spacing:1px;margin-bottom:10px;padding:0 4px;">PREVIOUS BRIEFINGS</div>`,s.forEach((l,c)=>{const d="brief-history-"+c,h=lk(l.date),f=l.articles?l.articles.length:0;a+=`
        <div style="margin-bottom:8px;border:1px solid #1f2937;border-radius:8px;overflow:hidden;background:#0d0d14;">
          <div onclick="toggleBriefDropdown('${d}')" style="display:flex;align-items:center;justify-content:space-between;padding:10px 12px;cursor:pointer;transition:background 0.2s;background:#0d0d14;" onmouseover="this.style.background='#131320'" onmouseout="this.style.background='#0d0d14'">
            <div style="display:flex;align-items:center;gap:8px;">
              <span style="font-size:11px;font-weight:600;color:#9ca3af;">${h}'s Brief</span>
              <span style="font-size:8px;color:#6b7280;background:#1f2937;padding:2px 6px;border-radius:4px;">${f} articles</span>
            </div>
            <span id="${d}-arrow" style="color:#6b7280;font-size:10px;transition:transform 0.3s ease;"></span>
          </div>
          <div id="${d}" style="max-height:0px;opacity:0;overflow:hidden;transition:max-height 0.4s ease, opacity 0.3s ease;">
            ${Kb(l.articles)}
          </div>
        </div>`}),a+="</div>"),a}function $k({onOpenStocksModal:r,stocksData:e,stocksLastUpdated:t,stocksUpdating:a}){if(!e)return R.jsxs("div",{className:"sidebar-empty",children:[R.jsx("div",{className:"loading-spinner"}),R.jsx("span",{children:"Loading market data..."})]});const s=e,l=t?t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"";return R.jsxs(R.Fragment,{children:[R.jsxs("div",{style:{padding:"8px 12px",background:"linear-gradient(90deg, rgba(34,197,94,0.12) 0%, transparent 100%)",borderLeft:"3px solid #22c55e",marginBottom:"12px"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsx("div",{style:{fontSize:"11px",fontWeight:700,color:"#22c55e",letterSpacing:"1px"},children:"GLOBAL MARKETS"}),R.jsx("div",{style:{fontSize:"8px",color:"#6b7280"},children:a?"Updating...":`Updated ${l}`})]}),R.jsx("div",{style:{fontSize:"9px",color:"#6b7280",marginTop:"2px"},children:"Live data via Yahoo Finance (may be delayed 15 min)"})]}),s.map((c,d)=>{const h=kk(c.country);return R.jsxs("div",{className:"stocks-country",onClick:()=>r&&r(c.country),children:[R.jsxs("div",{className:"stocks-country-header",children:[R.jsx("span",{className:"stocks-country-flag",children:c.flag}),R.jsx("span",{className:"stocks-country-name",style:{flex:1},children:c.country}),R.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"8px",color:h.isOpen?"#22c55e":"#6b7280"},children:[R.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",display:"inline-block",background:h.isOpen?"#22c55e":"#ef4444",boxShadow:h.isOpen?"0 0 4px #22c55e":"none"}}),h.label]})]}),R.jsx("div",{className:"stocks-indices",children:c.indices.map((f,g)=>f.noData?R.jsxs("div",{className:"stock-index-row",style:{display:"flex",alignItems:"center"},children:[R.jsx("span",{className:"stock-index-name",style:{flex:1},children:f.name}),R.jsx("span",{style:{color:"#6b7280",fontSize:"10px",textAlign:"right",fontVariantNumeric:"tabular-nums"},children:"Unavailable"})]},g):R.jsxs("div",{className:"stock-index-row",style:{display:"flex",alignItems:"center"},children:[R.jsx("span",{className:"stock-index-name",style:{flex:1},children:f.name}),R.jsx("span",{className:"stock-index-value",style:{textAlign:"right",minWidth:"65px",fontVariantNumeric:"tabular-nums"},children:f.value}),R.jsx("span",{className:`stock-index-change ${f.positive?"positive":"negative"}`,style:{textAlign:"right",minWidth:"55px",fontVariantNumeric:"tabular-nums"},children:f.change})]},g))})]},d)})]})}const Xk={CONFLICT:"#ef4444",CRISIS:"#f97316",SECURITY:"#eab308",ECONOMY:"#22c55e",DIPLOMACY:"#8b5cf6",POLITICS:"#3b82f6",TECH:"#06b6d4",CLIMATE:"#065f46",WORLD:"#6b7280"};function Yb(r,e){let t=r||"",a=e||"";if(a.includes("Google News")&&t){const l=t.lastIndexOf(" - ");l>0&&(a=t.substring(l+3).trim(),t=t.substring(0,l).trim())}const s=t.lastIndexOf(" - ");return s>0&&s>t.length-40&&(t=t.substring(0,s).trim()),{headline:t,source:a}}function Zk(r){if(!r)return null;const e=r.split(/\*\*([^*]+):\*\*\s*/);if(e.length>=3){const t=[];for(let a=1;a<e.length;a+=2){const s=e[a].trim(),l=(e[a+1]||"").trim();l&&t.push(R.jsxs("div",{style:{marginBottom:a+2<e.length?"8px":0},children:[R.jsxs("span",{style:{fontWeight:700,color:"#06b6d4",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.3px"},children:[s,": "]}),R.jsx("span",{children:l})]},s))}if(t.length>0)return t}return r}function Qk({event:r,isOpen:e,onClose:t}){if(G.useEffect(()=>{if(!e)return;const l=c=>{c.key==="Escape"&&t()};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[e,t]),!e||!r)return null;const a=Xk[r.category]||"#374151",{headline:s}=Yb(r.headline,"");return R.jsx("div",{className:"modal-overlay active",onClick:l=>{l.target===l.currentTarget&&t()},children:R.jsxs("div",{className:"modal",style:{maxWidth:"560px"},children:[R.jsxs("div",{className:"modal-header",style:{padding:"16px 20px",borderLeft:`3px solid ${a}`},children:[R.jsxs("div",{className:"modal-titles",style:{flex:1},children:[R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",flexWrap:"wrap"},children:[R.jsx("span",{className:`card-cat ${r.category}`,children:r.category}),r.sourceCount>1&&R.jsxs("span",{style:{fontSize:"8px",fontWeight:700,color:"#06b6d4",background:"rgba(6,182,212,0.15)",padding:"2px 6px",borderRadius:"3px",letterSpacing:"0.3px"},children:[r.sourceCount," sources"]}),R.jsx("span",{style:{fontSize:"9px",color:"#6b7280",marginLeft:"auto"},children:r.time})]}),R.jsx("div",{style:{fontSize:"16px",fontWeight:700,color:"#e5e7eb",lineHeight:1.4},children:s})]}),R.jsx("button",{className:"modal-close",onClick:t,style:{alignSelf:"flex-start"},children:""})]}),R.jsxs("div",{className:"modal-body",style:{padding:"16px 20px"},children:[r.summaryLoading?R.jsxs("div",{style:{padding:"12px 14px",background:"#0d0d14",borderRadius:"8px",borderLeft:"2px solid rgba(6,182,212,0.3)",marginBottom:"16px"},children:[R.jsx("div",{style:{fontSize:"9px",color:"#06b6d4",fontWeight:600,letterSpacing:"0.5px",marginBottom:"6px",textTransform:"uppercase"},children:"Intelligence Summary"}),R.jsxs("div",{style:{fontSize:"10px",color:"#6b7280",display:"flex",alignItems:"center",gap:"6px"},children:[R.jsx("span",{style:{display:"inline-block",width:"10px",height:"10px",border:"1.5px solid #374151",borderTopColor:"#06b6d4",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),"Generating AI summary..."]})]}):r.summary?R.jsxs("div",{style:{padding:"12px 14px",background:"#0d0d14",borderRadius:"8px",borderLeft:"2px solid rgba(6,182,212,0.3)",marginBottom:"16px"},children:[R.jsx("div",{style:{fontSize:"9px",color:"#06b6d4",fontWeight:600,letterSpacing:"0.5px",marginBottom:"6px",textTransform:"uppercase"},children:"Intelligence Summary"}),R.jsx("div",{style:{fontSize:"12px",color:"#d1d5db",lineHeight:1.7},children:Zk(r.summary)})]}):null,R.jsxs("div",{style:{fontSize:"10px",color:"#9ca3af",fontWeight:600,letterSpacing:"0.5px",textTransform:"uppercase",marginBottom:"10px"},children:["Sources (",r.articles.length,")"]}),r.articles.map((l,c)=>{const{headline:d,source:h}=Yb(l.headline||l.title||"",l.source||"");return R.jsxs("div",{className:"news-item",children:[R.jsxs("div",{className:"news-meta",children:[R.jsx("span",{className:"news-source",children:h}),bp(h)?R.jsx("span",{style:{fontSize:"7px",color:"#f59e0b",background:"#78350f",padding:"1px 4px",borderRadius:"3px",fontWeight:600,letterSpacing:"0.3px"},children:bp(h)}):R.jsx("span",{dangerouslySetInnerHTML:{__html:BL(h)}}),R.jsx("span",{className:"news-time",children:l.time||""})]}),R.jsx("div",{className:"news-headline",children:l.url&&l.url!=="#"?R.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"news-link",style:{fontSize:"12px"},children:d}):d})]},c)})]})]})})}const eN=[{id:"events",label:"Events"},{id:"newsletter",label:"Brief"},{id:"elections",label:"Elections"},{id:"forecast",label:"Forecast"},{id:"horizon",label:"Horizon"},{id:"stocks",label:"Stocks"}],np=15,Jb={summit:"#06b6d4",election:"#a78bfa",treaty:"#f59e0b",military:"#ef4444",economic:"#22c55e",sanctions:"#f97316"};function tN({onCountryClick:r,onOpenStocksModal:e,stocksData:t,stocksLastUpdated:a,stocksUpdating:s}){const[l,c]=G.useState("events"),[d,h]=G.useState(np),[f,g]=G.useState(""),[y,v]=G.useState(!1),[b,w]=G.useState(null),[,T]=G.useState(0),_=G.useRef(null);G.useEffect(()=>(window.toggleBriefDropdown=function(N){const V=document.getElementById(N),C=document.getElementById(N+"-arrow");if(V){const H=V.style.maxHeight&&V.style.maxHeight!=="0px";V.style.maxHeight=H?"0px":V.scrollHeight+"px",V.style.opacity=H?"0":"1",C&&(C.style.transform=H?"rotate(0deg)":"rotate(180deg)")}},()=>{delete window.toggleBriefDropdown}),[]),G.useEffect(()=>Ek(()=>{T(V=>V+1)}),[]),G.useEffect(()=>{const V=setInterval(()=>{},3e4);return()=>clearInterval(V)},[]),G.useEffect(()=>{h(np),v(!1)},[l]);const S=G.useCallback(()=>{h(N=>N+np)},[]),x=G.useCallback(N=>{r&&r(N)},[r]),B=N=>N==="CONFLICT"?"#ef4444":N==="CRISIS"?"#f97316":N==="SECURITY"?"#eab308":N==="ECONOMY"?"#22c55e":N==="DIPLOMACY"?"#8b5cf6":N==="POLITICS"?"#3b82f6":"#374151",O=N=>{if(N.summaryLoading||!N.summary)return null;const V=N.summary,C=V.match(/\*\*What happened:\*\*\s*(.*?)(?:\s*\*\*Why it matters:|$)/s);let H;if(C)H=C[1].trim();else{const Z=V.match(/^[^.!?]*[.!?]/);H=Z?Z[0].trim():V}return H.length>120&&(H=H.substring(0,117).replace(/\s+\S*$/,"")+"..."),H},D=(N,V)=>{let C=N.headline;const H=C.lastIndexOf(" - ");H>0&&H>C.length-40&&(C=C.substring(0,H).trim());const Z=O(N);return R.jsxs("div",{className:"card",onClick:()=>w(N),style:{cursor:"pointer",...V?{borderLeft:`2px solid ${B(N.category)}`}:{}},children:[R.jsxs("div",{className:"card-header",children:[R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[R.jsx("span",{className:`card-cat ${N.category}`,children:N.category}),N.sourceCount>1&&R.jsxs("span",{style:{fontSize:"7px",fontWeight:700,color:"#06b6d4",background:"rgba(6,182,212,0.15)",padding:"2px 5px",borderRadius:"3px",letterSpacing:"0.3px"},children:[N.sourceCount," sources"]})]}),R.jsx("span",{className:"card-time",children:N.time})]}),R.jsx("div",{className:"card-headline",style:V?{fontWeight:600}:void 0,children:C}),Z&&R.jsx("div",{style:{fontSize:"10px",color:"#9ca3af",marginTop:"3px",lineHeight:1.5},children:Z}),N.summaryLoading&&R.jsxs("div",{style:{fontSize:"8px",color:"#06b6d4",marginTop:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[R.jsx("span",{style:{display:"inline-block",width:"7px",height:"7px",border:"1.5px solid #374151",borderTopColor:"#06b6d4",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),"Updating..."]})]},N.id)},A=G.useCallback(N=>{const V=[{countries:["iran"],keywords:["iran","iranian","tehran","hormuz","irgc","ayatollah"],boost:["war","strike","military","nuclear","carrier","attack","confrontation","troops","deploy"],penalize:["oil price","crude","barrel","opec","brent"],fallback:"Will the US Go to War With Iran?"},{countries:["palestine"],keywords:["gaza","palestine","palestinian","rafah","board of peace","west bank"],boost:["board of peace","reconstruction","peace","ceasefire","pledges","billion","aid"],penalize:["hamas leader","interim","vote","elect"],fallback:"Board of Peace Convenes, Raises $7 Billion for Gaza"},{countries:["ukraine","russia"],keywords:["ukraine","ukrainian","kyiv","donbas","crimea","zelensky","russia","russian","moscow"],boost:["war","peace talks","frontline","offensive","ceasefire","troops","missile"],penalize:["recruitment","kenya"],fallback:null},{countries:["sudan"],keywords:["sudan","sudanese","darfur","khartoum","el-fasher"],boost:["genocide","un ","atrocities","famine","crisis","humanitarian","war crime"],penalize:["drone"],fallback:null}],C=W=>((W.headline||"")+" "+(W.articles||[]).map(ne=>ne.headline||"").join(" ")).toLowerCase(),H=(W,ne,Y)=>{const xe=(W||"").toLowerCase();let we=0;for(const ve of ne.boost)xe.includes(ve)&&(we+=3);for(const ve of ne.penalize)xe.includes(ve)&&(we-=5);return we+=xp(W,Y),we},Z=(W,ne)=>{if(!W.articles||W.articles.length===0)return W.headline;let Y=null,xe=-1/0;for(const ve of W.articles){const _e=ve.headline||ve.title||"";if(!_e)continue;const Ne=H(_e,ne,ve.source);Ne>xe&&(xe=Ne,Y=_e)}const we=H(W.headline,ne,null);return we>=xe&&(Y=W.headline,xe=we),xe<0&&ne.fallback?ne.fallback:Y||W.headline},se=[...N].sort((W,ne)=>ne.sourceCount-W.sourceCount),he=[],L=new Set;for(const W of V){let ne=se.find(Y=>!L.has(Y.id)&&W.countries.includes(Y._primaryCountry));ne||(ne=se.find(Y=>!L.has(Y.id)&&W.keywords.some(xe=>C(Y).includes(xe)))),ne?(ne.headline=Z(ne,W),he.push(ne),L.add(ne.id)):W.fallback}return he.slice(0,4)},[]),P=()=>{if(Gt.length===0)return at.length===0?R.jsx("div",{style:{color:"#6b7280",fontSize:"11px",textAlign:"center",padding:"20px"},children:"Loading events..."}):R.jsx("div",{style:{color:"#6b7280",fontSize:"11px",textAlign:"center",padding:"20px"},children:"Clustering articles into events..."});const N=A(Gt),V=new Set(N.map(Z=>Z.id)),C=Gt.filter(Z=>!V.has(Z.id)),H=C.slice(0,d);return R.jsxs(R.Fragment,{children:[N.length>0&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"linear-gradient(90deg, rgba(239,68,68,0.15) 0%, transparent 100%)",borderLeft:"3px solid #ef4444",marginBottom:"10px"},children:[R.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:"#ef4444",letterSpacing:"1px"},children:"TOP STORIES"}),Gt.some(Z=>Z.summaryLoading)&&R.jsxs("span",{style:{fontSize:"8px",color:"#06b6d4",display:"flex",alignItems:"center",gap:"3px"},children:[R.jsx("span",{style:{display:"inline-block",width:"6px",height:"6px",border:"1.5px solid #1f2937",borderTopColor:"#06b6d4",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),"AI summaries loading"]})]}),N.map(Z=>D(Z,!0))]}),R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"rgba(59,130,246,0.1)",borderLeft:"3px solid #3b82f6",margin:"14px 0 10px 0"},children:[R.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:"#3b82f6",letterSpacing:"1px"},children:"LATEST UPDATES"}),R.jsxs("span",{style:{fontSize:"9px",color:"#6b7280"},children:["(",Gt.length," events from ",at.length," articles)"]})]}),H.map(Z=>D(Z,!1)),d<C.length&&R.jsxs("button",{onClick:S,style:{width:"100%",padding:"12px",marginTop:"10px",background:"linear-gradient(135deg, #1f2937 0%, #111827 100%)",border:"1px solid #374151",borderRadius:"8px",color:"#9ca3af",cursor:"pointer",fontSize:"11px",fontWeight:600},children:["LOAD MORE (",C.length-d," remaining)"]})]})},q=()=>{const N=Jk();return R.jsx("div",{dangerouslySetInnerHTML:{__html:N}})},X=()=>R.jsxs(R.Fragment,{children:[lf&&lf.length>0&&R.jsxs("div",{children:[R.jsx("div",{style:{fontSize:"9px",color:"#22c55e",fontWeight:600,letterSpacing:"1px",marginBottom:"12px"},children:"RECENT RESULTS"}),lf.map((N,V)=>R.jsxs("div",{className:"election-card",style:{borderLeft:"3px solid #22c55e"},onClick:()=>x(N.country),children:[R.jsxs("div",{className:"election-header",children:[R.jsx("span",{className:"election-flag",children:N.flag}),R.jsx("span",{className:"election-country",children:N.country}),R.jsx("span",{className:"election-date",style:{color:"#22c55e"},children:N.date})]}),R.jsx("div",{className:"election-type",children:N.type}),N.winner&&R.jsx("div",{style:{fontSize:"10px",color:"#22c55e",fontWeight:600,margin:"4px 0"},children:N.winner}),N.summary&&R.jsx("div",{className:"election-stakes",children:N.summary})]},V))]}),R.jsxs("div",{children:[R.jsx("div",{style:{fontSize:"9px",color:"#f97316",fontWeight:600,letterSpacing:"1px",margin:"20px 0 12px"},children:"UPCOMING ELECTIONS"}),OT.map((N,V)=>R.jsxs("div",{className:"election-card",style:{borderLeft:"3px solid #f97316"},onClick:()=>x(N.country),children:[R.jsxs("div",{className:"election-header",children:[R.jsx("span",{className:"election-flag",children:N.flag}),R.jsx("span",{className:"election-country",children:N.country}),R.jsx("span",{className:"election-date",children:N.date})]}),R.jsx("div",{className:"election-type",children:N.type}),N.stakes&&R.jsx("div",{className:"election-stakes",children:N.stakes})]},V))]})]}),te=()=>{const N={catastrophic:"#fca5a5",extreme:"#fcd34d",severe:"#fde047",stormy:"#c4b5fd",cloudy:"#93c5fd",clear:"#86efac"},V={catastrophic:"#7f1d1d",extreme:"#78350f",severe:"#713f12",stormy:"#5b21b6",cloudy:"#1e3a5f",clear:"#14532d"};return R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"section-title",children:"GEOPOLITICAL FORECASTS"}),zT.map((C,H)=>R.jsxs("div",{className:"forecast-card",children:[R.jsxs("div",{className:"forecast-header",children:[R.jsx("span",{className:"forecast-region",children:C.region}),R.jsx("span",{className:"forecast-risk",style:{background:V[C.risk]||"#374151",color:N[C.risk]||"#9ca3af"},children:C.risk.toUpperCase()})]}),R.jsx("div",{className:"forecast-current",children:C.current}),R.jsxs("div",{className:"forecast-prediction",children:[R.jsx("div",{className:"forecast-prediction-title",children:"FORECAST"}),R.jsx("div",{className:"forecast-prediction-text",children:C.forecast})]}),C.indicators&&R.jsx("div",{className:"forecast-indicators",children:C.indicators.map((Z,se)=>R.jsxs("span",{className:`forecast-indicator ${Z.dir==="up"?"up":Z.dir==="down"?"down":"stable"}`,children:[Z.dir==="up"?"":Z.dir==="down"?"":""," ",Z.text]},se))})]},H))]})},de=()=>{const V=new Date().toISOString().split("T")[0],C=f0.filter(L=>L.date>=V).sort((L,W)=>L.date.localeCompare(W.date)),H=f0.filter(L=>L.date<V).sort((L,W)=>W.date.localeCompare(L.date)),Z=(L,W)=>{const ne=new Date(L.date+"T12:00:00"),Y=ne.toLocaleString("en-US",{month:"short"}).toUpperCase(),xe=ne.getDate(),we=Jb[L.category]||"#6b7280",ve=new Date(L.date+"T00:00:00")-new Date(V+"T00:00:00"),_e=Math.round(ve/(1e3*60*60*24));let Ne=null;if(_e===0)Ne=R.jsx("span",{style:{color:"#22c55e",fontWeight:700,fontSize:"8px"},children:"TODAY"});else if(_e===1)Ne=R.jsx("span",{style:{color:"#f59e0b",fontSize:"8px"},children:"TOMORROW"});else if(_e>1&&_e<=7)Ne=R.jsxs("span",{style:{color:"#f59e0b",fontSize:"8px"},children:[_e," Days"]});else if(_e>7&&_e<=30){const Re=Math.ceil(_e/7);Ne=R.jsxs("span",{style:{color:"#6b7280",fontSize:"8px"},children:[Re," Week",Re===1?"":"s"]})}else if(_e>30){const Re=Math.ceil(_e/30);Ne=R.jsxs("span",{style:{color:"#4b5563",fontSize:"8px"},children:[Re," Month",Re===1?"":"s"]})}else if(W){const Re=Math.abs(_e);Ne=R.jsxs("span",{style:{color:"#374151",fontSize:"8px"},children:[Re," Day",Re===1?"":"s"," Ago"]})}return R.jsxs("div",{style:{display:"flex",gap:"10px",padding:"10px 8px",borderBottom:"1px solid #111827",opacity:W?.5:1},children:[R.jsxs("div",{style:{minWidth:"42px",textAlign:"center"},children:[R.jsx("div",{style:{fontSize:"9px",fontWeight:700,color:we,letterSpacing:"0.5px"},children:Y}),R.jsx("div",{style:{fontSize:"18px",fontWeight:700,color:"#e5e7eb",lineHeight:1.1},children:xe}),Ne&&R.jsx("div",{style:{marginTop:"2px"},children:Ne})]}),R.jsxs("div",{style:{flex:1,minWidth:0},children:[R.jsx("div",{style:{fontSize:"10px",fontWeight:600,color:"#e5e7eb",lineHeight:1.3,marginBottom:"3px"},children:L.name}),R.jsx("div",{style:{fontSize:"9px",color:"#9ca3af",marginBottom:"3px"},children:L.location}),R.jsx("div",{style:{fontSize:"9px",color:"#6b7280",lineHeight:1.5},children:L.description})]})]},L.date+L.name)},se=[];let he="";return C.forEach(L=>{const ne=new Date(L.date+"T12:00:00").toLocaleString("en-US",{month:"long",year:"numeric"});ne!==he&&(he=ne,se.push({type:"header",label:ne.toUpperCase()})),se.push({type:"event",event:L})}),R.jsxs(R.Fragment,{children:[R.jsxs("div",{style:{padding:"8px 12px",background:"linear-gradient(90deg,rgba(6,182,212,0.12) 0%,transparent 100%)",borderLeft:"3px solid #06b6d4",marginBottom:"12px"},children:[R.jsx("div",{style:{fontSize:"11px",fontWeight:700,color:"#06b6d4",letterSpacing:"1px"},children:"GEOPOLITICAL HORIZON"}),R.jsxs("div",{style:{fontSize:"9px",color:"#6b7280",marginTop:"2px"},children:[C.length," upcoming events tracked"]})]}),R.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",padding:"0 8px 10px",borderBottom:"1px solid #1f2937",marginBottom:"4px"},children:Object.entries(Jb).map(([L,W])=>R.jsxs("span",{style:{fontSize:"8px",color:"#6b7280",display:"flex",alignItems:"center",gap:"2px"},children:[R.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",background:W,display:"inline-block"}}),L.charAt(0).toUpperCase()+L.slice(1)]},L))}),se.map((L,W)=>L.type==="header"?R.jsx("div",{style:{fontSize:"9px",fontWeight:700,color:"#9ca3af",letterSpacing:"1px",padding:"10px 8px 4px",borderTop:W>0?"1px solid #1f2937":"none",marginTop:W>0?"4px":0},children:L.label},L.label):Z(L.event,!1)),H.length>0&&R.jsxs("div",{style:{marginTop:"12px",borderTop:"1px solid #1f2937",paddingTop:"10px"},children:[R.jsxs("div",{onClick:()=>v(!y),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px",cursor:"pointer",background:"#0d0d14",borderRadius:"6px"},onMouseEnter:L=>{L.currentTarget.style.background="#131320"},onMouseLeave:L=>{L.currentTarget.style.background="#0d0d14"},children:[R.jsxs("span",{style:{fontSize:"9px",fontWeight:600,color:"#6b7280",letterSpacing:"0.5px"},children:["PAST EVENTS (",H.length,")"]}),R.jsx("span",{style:{color:"#6b7280",fontSize:"10px",transition:"transform 0.3s",transform:y?"rotate(180deg)":"rotate(0deg)"},children:""})]}),y&&R.jsx("div",{children:H.map(L=>Z(L,!0))})]})]})},re=()=>R.jsx($k,{onOpenStocksModal:e,stocksData:t,stocksLastUpdated:a,stocksUpdating:s}),K=()=>{switch(l){case"events":return P();case"newsletter":return q();case"elections":return X();case"forecast":return te();case"horizon":return de();case"stocks":return re();default:return null}};return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"sidebar",children:[R.jsx("div",{className:"tabs",children:eN.map(N=>R.jsx("button",{className:`tab ${l===N.id?"active":""}`,onClick:()=>c(N.id),children:N.label},N.id))}),R.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 12px",background:"#0a0a0f",borderBottom:"1px solid #1f2937"},children:[R.jsx("div",{style:{fontSize:"10px",color:"#6b7280"},children:f?R.jsxs(R.Fragment,{children:[R.jsx("span",{style:{color:"#22c55e"},children:""})," ",f]}):"Loading live news..."}),R.jsxs("div",{id:"fontControls",style:{display:"flex",gap:"3px",alignItems:"center"},children:[R.jsx("button",{onClick:()=>Wb(-1),style:{width:"22px",height:"22px",borderRadius:"4px",border:"1px solid #374151",background:"#111827",color:"#9ca3af",fontSize:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0},title:"Decrease text size",children:"A-"}),R.jsx("button",{onClick:Ik,style:{width:"22px",height:"22px",borderRadius:"4px",border:"1px solid #374151",background:"#111827",color:"#6b7280",fontSize:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0},title:"Reset text size",children:R.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[R.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),R.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),R.jsx("button",{onClick:()=>Wb(1),style:{width:"22px",height:"22px",borderRadius:"4px",border:"1px solid #374151",background:"#111827",color:"#9ca3af",fontSize:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0},title:"Increase text size",children:"A+"})]})]}),R.jsx("div",{className:"sidebar-content",ref:_,children:K()})]}),R.jsx(Qk,{event:b,isOpen:!!b,onClose:()=>w(null)})]})}const nN={"United States":{totalTrade:"$5.4T",exports:"Refined Petroleum, Aircraft, Soybeans, Integrated Circuits, Vehicles",imports:"Crude Oil, Vehicles, Electronics, Pharmaceuticals, Machinery",agreements:"USMCA, US-Korea FTA, US-Japan Trade Agreement, US-Australia FTA",topPartners:["Canada","Mexico","China","Japan","Germany","United Kingdom","South Korea","India","Brazil","France"]},China:{totalTrade:"$6.3T",exports:"Electronics, Machinery, Textiles, Furniture, Plastics",imports:"Crude Oil, Iron Ore, Integrated Circuits, Soybeans, Copper",agreements:"RCEP, ASEAN-China FTA, China-Australia FTA (strained)",topPartners:["United States","Japan","South Korea","Vietnam","Germany","Australia","Russia","Brazil","Thailand","India"]},Japan:{totalTrade:"$1.65T",exports:"Vehicles, Machinery, Electronics, Chemicals, Steel",imports:"Crude Oil, LNG, Electronics, Clothing, Pharmaceuticals",agreements:"CPTPP, RCEP, Japan-EU EPA, Japan-US Trade Agreement",topPartners:["China","United States","South Korea","Australia","Thailand","Germany","Vietnam","India","Taiwan","Mexico"]},Germany:{totalTrade:"$1.86T",exports:"Vehicles, Machinery, Chemicals, Electronics, Pharmaceuticals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"EU Single Market, EU-Japan EPA, EU-Canada CETA",topPartners:["United States","China","France","Netherlands","Poland","United Kingdom","Italy","Austria","Belgium","Spain"]},"United Kingdom":{totalTrade:"$1.33T",exports:"Vehicles, Machinery, Pharmaceuticals, Oil, Financial Services",imports:"Vehicles, Machinery, Electronics, Oil, Pharmaceuticals",agreements:"UK-Australia FTA, UK-Japan CEPA, CPTPP (acceded 2023)",topPartners:["United States","Germany","Netherlands","France","China","Ireland","Japan","Belgium","Spain","Italy"]},India:{totalTrade:"$892B",exports:"IT Services, Refined Petroleum, Pharmaceuticals, Gems, Textiles",imports:"Crude Oil, Gold, Electronics, Machinery, Coal",agreements:"CEPA (UAE), India-ASEAN FTA, SAFTA, India-Japan CEPA",topPartners:["United States","China","UAE","Saudi Arabia","Germany","South Korea","Japan","United Kingdom","Singapore","Netherlands"]},France:{totalTrade:"$1.26T",exports:"Vehicles, Machinery, Chemicals, Pharmaceuticals, Aircraft Parts",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"EU Single Market, EU-MERCOSUR (pending), CPTPP",topPartners:["United States","Germany","United Kingdom","Italy","Spain","Belgium","Netherlands","China","India","Switzerland"]},Italy:{totalTrade:"$1.04T",exports:"Machinery, Vehicles, Chemicals, Metals, Textiles",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, EU-Japan EPA",topPartners:["Germany","France","Spain","United States","Netherlands","Belgium","Austria","China","United Kingdom","Greece"]},Brazil:{totalTrade:"$597B",exports:"Soybeans, Iron Ore, Crude Oil, Beef, Sugar",imports:"Refined Petroleum, Electronics, Vehicles, Pharmaceuticals, Machinery",agreements:"MERCOSUR, Mercosur-EU (pending), BRICS trade initiatives",topPartners:["China","United States","Argentina","Germany","Japan","South Korea","India","Netherlands","Belgium","France"]},Canada:{totalTrade:"$863B",exports:"Crude Oil, Natural Gas, Automobiles, Timber, Potash",imports:"Machinery, Vehicles, Electronics, Chemicals, Oil",agreements:"USMCA, Canada-South Korea FTA, Canada-Chile FTA",topPartners:["United States","China","Mexico","United Kingdom","Japan","Germany","South Korea","Netherlands","Belgium","India"]},Russia:{totalTrade:"$516B",exports:"Crude Oil, Natural Gas, Metals, Wheat, Arms",imports:"Machinery, Vehicles, Electronics, Pharmaceuticals, Textiles",agreements:"EAEU, CIS FTA, Russia-India trade agreements",topPartners:["China","India","Turkey","Germany","South Korea","Japan","Brazil","Kazakhstan","United States","Belarus"]},"South Korea":{totalTrade:"$1.18T",exports:"Semiconductors, Vehicles, Ships, Electronics, Steel",imports:"Crude Oil, Semiconductors, Natural Gas, Coal, Machinery",agreements:"RCEP, CPTPP (pending), Korea-US FTA, Korea-EU FTA",topPartners:["China","United States","Japan","Vietnam","Germany","Australia","India","Hong Kong","Thailand","Saudi Arabia"]},Australia:{totalTrade:"$681B",exports:"Iron Ore, Coal, LNG, Gold, Meat",imports:"Vehicles, Machinery, Electronics, Oil, Chemicals",agreements:"RCEP, Australia-India FTA, Australia-UK FTA, AUKUS",topPartners:["China","Japan","South Korea","India","United States","Thailand","Germany","Singapore","Taiwan","Vietnam"]},Spain:{totalTrade:"$849B",exports:"Vehicles, Machinery, Chemicals, Electronics, Textiles",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"EU Single Market, EU-Japan EPA",topPartners:["France","Germany","Italy","United Kingdom","United States","Portugal","Netherlands","Belgium","China","Mexico"]},Mexico:{totalTrade:"$836B",exports:"Vehicles, Electronics, Oil, Agriculture, Textiles",imports:"Machinery, Electronics, Vehicles, Oil, Chemicals",agreements:"USMCA, Mexico-EU FTA",topPartners:["United States","China","Canada","Germany","Japan","South Korea","Spain","France","India","Brazil"]},Indonesia:{totalTrade:"$461B",exports:"Coal, Palm Oil, Crude Oil, Electronics, Textiles",imports:"Machinery, Electronics, Oil, Vehicles, Chemicals",agreements:"RCEP, Indonesia-Australia FTA",topPartners:["China","Japan","United States","South Korea","Thailand","Germany","India","Malaysia","Singapore","Vietnam"]},Netherlands:{totalTrade:"$1.23T",exports:"Machinery, Chemicals, Vehicles, Electronics, Pharmaceuticals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"EU Single Market, EU-MERCOSUR (pending)",topPartners:["Germany","Belgium","United Kingdom","France","China","Italy","Spain","United States","Poland","Mexico"]},Turkey:{totalTrade:"$614B",exports:"Vehicles, Machinery, Textiles, Electronics, Chemicals",imports:"Crude Oil, Machinery, Vehicles, Chemicals, Electronics",agreements:"Customs Union with EU, Turkey-EFTA FTA",topPartners:["Germany","China","United States","United Kingdom","France","Italy","Russia","Spain","India","Netherlands"]},"Saudi Arabia":{totalTrade:"$369B",exports:"Crude Oil, Refined Petroleum, Petrochemicals, Plastics",imports:"Vehicles, Machinery, Electronics, Food, Chemicals",agreements:"GCC, OPEC+, Saudi Vision 2030 partnerships",topPartners:["China","India","Japan","South Korea","United States","Germany","Netherlands","Switzerland","UAE","Singapore"]},Switzerland:{totalTrade:"$819B",exports:"Pharmaceuticals, Machinery, Chemicals, Watches, Textiles",imports:"Machinery, Vehicles, Chemicals, Electronics, Oil",agreements:"EFTA, Switzerland-Japan FTA",topPartners:["Germany","United States","Italy","France","China","United Kingdom","India","Belgium","Netherlands","Spain"]},Taiwan:{totalTrade:"$715B",exports:"Semiconductors, Electronics, Machinery, Textiles, Chemicals",imports:"Crude Oil, Electronics, Machinery, Chemicals, Coal",agreements:"RCEP (de facto), multiple bilateral trade agreements",topPartners:["China","United States","Hong Kong","Japan","Singapore","South Korea","Germany","Vietnam","Thailand","Malaysia"]},Poland:{totalTrade:"$519B",exports:"Machinery, Vehicles, Chemicals, Electronics, Minerals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, EU-Japan EPA",topPartners:["Germany","United Kingdom","Czech Republic","France","Netherlands","Italy","United States","Spain","Belgium","Romania"]},Sweden:{totalTrade:"$546B",exports:"Machinery, Vehicles, Chemicals, Pharmaceuticals, Metals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, Sweden-Japan FTA, Nordic cooperation",topPartners:["Germany","United Kingdom","Norway","Netherlands","France","China","Denmark","Italy","United States","Belgium"]},Belgium:{totalTrade:"$986B",exports:"Chemicals, Machinery, Vehicles, Electronics, Pharmaceuticals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, Benelux Union",topPartners:["Germany","France","United Kingdom","Netherlands","United States","Italy","Spain","China","Poland","Czech Republic"]},Norway:{totalTrade:"$303B",exports:"Crude Oil, Natural Gas, Aluminum, Machinery, Fish",imports:"Machinery, Vehicles, Chemicals, Electronics, Pharmaceuticals",agreements:"EFTA, EEA (EU trade), Norway-Thailand FTA",topPartners:["United Kingdom","Germany","Sweden","France","Netherlands","China","United States","Denmark","Belgium","Italy"]},Austria:{totalTrade:"$389B",exports:"Machinery, Vehicles, Chemicals, Electronics, Metals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, Austria-Japan FTA",topPartners:["Germany","Italy","Czech Republic","Hungary","United States","France","Poland","Slovakia","Slovenia","Romania"]},Ireland:{totalTrade:"$525B",exports:"Pharmaceuticals, Electronics, Machinery, Chemicals, Food",imports:"Machinery, Vehicles, Chemicals, Electronics, Oil",agreements:"EU Single Market, Ireland-Japan FTA",topPartners:["United States","Belgium","France","Netherlands","United Kingdom","Germany","Switzerland","Canada","China","Italy"]},Israel:{totalTrade:"$263B",exports:"Electronics, Chemicals, Machinery, Diamonds, Pharmaceuticals",imports:"Diamonds, Machinery, Oil, Vehicles, Electronics",agreements:"Israel-US FTA, Israel-EU trade deal, Israel-UAE/Bahrain normalization",topPartners:["United States","China","India","Belgium","Germany","Turkey","United Kingdom","Egypt","Jordan","Switzerland"]},Thailand:{totalTrade:"$521B",exports:"Electronics, Vehicles, Machinery, Chemicals, Food",imports:"Electronics, Machinery, Chemicals, Oil, Vehicles",agreements:"RCEP, Thailand-Japan CEPA, Thailand-Australia FTA",topPartners:["China","United States","Japan","Germany","India","South Korea","Vietnam","Netherlands","Belgium","Singapore"]},Denmark:{totalTrade:"$317B",exports:"Machinery, Chemicals, Vehicles, Pharmaceuticals, Enzymes",imports:"Machinery, Vehicles, Chemicals, Electronics, Oil",agreements:"EU Single Market, Nordic cooperation",topPartners:["Germany","Sweden","United Kingdom","United States","Netherlands","France","Norway","Poland","Belgium","Italy"]},Singapore:{totalTrade:"$1.09T",exports:"Refined Petroleum, Electronics, Machinery, Chemicals, Plastics",imports:"Crude Oil, Machinery, Electronics, Vehicles, Chemicals",agreements:"RCEP, Singapore-India FTA, Singapore-Australia FTA",topPartners:["China","Malaysia","Hong Kong","Japan","South Korea","Thailand","Vietnam","Indonesia","India","United States"]},Malaysia:{totalTrade:"$643B",exports:"Electronics, Machinery, Palm Oil, Chemicals, Vehicles",imports:"Electronics, Machinery, Oil, Chemicals, Vehicles",agreements:"RCEP, Malaysia-Japan CEPA",topPartners:["China","Singapore","Japan","United States","Thailand","Germany","India","South Korea","Vietnam","Indonesia"]},"South Africa":{totalTrade:"$347B",exports:"Iron Ore, Coal, Gold, Machinery, Vehicles",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"SADC, BRICS trade initiatives",topPartners:["China","Germany","United States","Japan","India","United Kingdom","Netherlands","Belgium","France","Spain"]},Philippines:{totalTrade:"$308B",exports:"Electronics, Machinery, Textiles, Coconut Oil, Minerals",imports:"Electronics, Machinery, Vehicles, Oil, Chemicals",agreements:"RCEP, Philippines-Japan CEPA",topPartners:["China","United States","Japan","Singapore","South Korea","Vietnam","Thailand","India","Germany","Malaysia"]},Vietnam:{totalTrade:"$700B",exports:"Electronics, Textiles, Machinery, Food, Footwear",imports:"Electronics, Machinery, Oil, Vehicles, Chemicals",agreements:"RCEP, Vietnam-EFTA FTA, Vietnam-EU IPA (pending)",topPartners:["China","United States","South Korea","Japan","Germany","Taiwan","India","Thailand","Singapore","Malaysia"]},Bangladesh:{totalTrade:"$213B",exports:"Textiles, Machinery, Chemicals, Vehicles, Electronics",imports:"Machinery, Oil, Electronics, Vehicles, Chemicals",agreements:"SAFTA, Bangladesh-Japan CEPA (pending)",topPartners:["China","India","United States","Germany","Vietnam","United Kingdom","Japan","Netherlands","Belgium","France"]},Pakistan:{totalTrade:"$129B",exports:"Textiles, Rice, Machinery, Chemicals, Sports Goods",imports:"Machinery, Oil, Electronics, Vehicles, Chemicals",agreements:"SAFTA, Pakistan-Turkey FTA",topPartners:["China","United States","Germany","United Kingdom","UAE","Saudi Arabia","Afghanistan","Belgium","Netherlands","Italy"]},Egypt:{totalTrade:"$213B",exports:"Crude Oil, Natural Gas, Textiles, Machinery, Agriculture",imports:"Machinery, Vehicles, Chemicals, Electronics, Oil",agreements:"Egypt-UAE partnership, Egypt-Saudi Arabia cooperation",topPartners:["Saudi Arabia","United States","India","United Kingdom","Germany","France","Italy","Turkey","Netherlands","Spain"]},Nigeria:{totalTrade:"$173B",exports:"Crude Oil, Natural Gas, Liquefied Gas, Cocoa, Rubber",imports:"Machinery, Vehicles, Chemicals, Electronics, Oil Products",agreements:"ECOWAS, AU trade initiatives",topPartners:["United States","India","France","China","Netherlands","Spain","Italy","United Kingdom","Germany","Brazil"]},Argentina:{totalTrade:"$330B",exports:"Soybeans, Beef, Corn, Wine, Machinery",imports:"Machinery, Vehicles, Chemicals, Electronics, Oil",agreements:"MERCOSUR, Argentina-Singapore FTA",topPartners:["Brazil","China","United States","European Union","India","Chile","Paraguay","Germany","Netherlands","Mexico"]},Colombia:{totalTrade:"$207B",exports:"Crude Oil, Coffee, Coal, Gold, Bananas",imports:"Machinery, Vehicles, Chemicals, Electronics, Oil Products",agreements:"Colombia-US FTA, Colombia-EU TPA, ANDEAN Community",topPartners:["United States","China","India","Spain","Ecuador","Germany","Netherlands","Belgium","Brazil","Mexico"]},Chile:{totalTrade:"$259B",exports:"Copper, Molybdenum, Fish, Grapes, Chemicals",imports:"Machinery, Vehicles, Chemicals, Electronics, Oil",agreements:"Chile-US FTA, Chile-EU FTA, CPTPP",topPartners:["China","United States","Japan","India","South Korea","Germany","Brazil","Netherlands","Spain","Belgium"]},Finland:{totalTrade:"$347B",exports:"Machinery, Chemicals, Metals, Electronics, Forestry Products",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, Finland-Japan FTA",topPartners:["Germany","Sweden","United Kingdom","Netherlands","France","China","United States","Belgium","Italy","Denmark"]},"Czech Republic":{totalTrade:"$501B",exports:"Machinery, Vehicles, Chemicals, Electronics, Metals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, EU-Japan EPA",topPartners:["Germany","Poland","United States","France","Austria","Netherlands","Italy","Belgium","China","United Kingdom"]},Romania:{totalTrade:"$276B",exports:"Machinery, Vehicles, Chemicals, Electronics, Textiles",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, EU-Japan EPA",topPartners:["Germany","Italy","France","Hungary","Bulgaria","Poland","Austria","United States","Netherlands","Belgium"]},Portugal:{totalTrade:"$281B",exports:"Vehicles, Machinery, Chemicals, Electronics, Cork Products",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, EU-Japan EPA",topPartners:["Spain","Germany","France","United Kingdom","United States","Netherlands","Italy","Belgium","China","Austria"]},"New Zealand":{totalTrade:"$230B",exports:"Dairy, Meat, Wine, Machinery, Aluminum",imports:"Machinery, Vehicles, Chemicals, Electronics, Oil",agreements:"CPTPP, New Zealand-China FTA, RCEP",topPartners:["China","Australia","United States","Japan","Germany","South Korea","India","Thailand","Vietnam","Taiwan"]},Greece:{totalTrade:"$251B",exports:"Machinery, Chemicals, Food, Electronics, Minerals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, EU-Japan EPA",topPartners:["Germany","Italy","Bulgaria","France","China","United States","Netherlands","Belgium","Spain","United Kingdom"]},Peru:{totalTrade:"$227B",exports:"Copper, Gold, Fish Meal, Minerals, Agricultural Products",imports:"Machinery, Vehicles, Chemicals, Electronics, Oil",agreements:"Peru-US FTA, Peru-China FTA, Andean Community",topPartners:["China","United States","Japan","Germany","South Korea","India","Netherlands","Brazil","Belgium","Spain"]},Iraq:{totalTrade:"$196B",exports:"Crude Oil, Refined Petroleum, Natural Gas, Minerals",imports:"Machinery, Vehicles, Chemicals, Electronics, Food",agreements:"OPEC+, Iraq-EU partnership",topPartners:["China","India","United States","South Korea","Japan","Netherlands","Germany","France","Italy","Spain"]},Qatar:{totalTrade:"$186B",exports:"Liquefied Natural Gas, Crude Oil, Petrochemicals, Metals",imports:"Machinery, Vehicles, Chemicals, Electronics, Food",agreements:"GCC, OPEC+, Qatar-EU agreements",topPartners:["Japan","South Korea","United States","United Kingdom","China","France","Netherlands","Singapore","India","Germany"]},Kuwait:{totalTrade:"$129B",exports:"Crude Oil, Refined Petroleum, Petrochemicals, Fertilizers",imports:"Machinery, Vehicles, Chemicals, Electronics, Food",agreements:"GCC, OPEC+",topPartners:["China","India","Japan","United States","South Korea","Thailand","Singapore","Germany","France","Netherlands"]},UAE:{totalTrade:"$632B",exports:"Crude Oil, Refined Petroleum, Re-exports, Machinery, Gold",imports:"Machinery, Vehicles, Chemicals, Electronics, Food",agreements:"GCC, UAE-India CEPA",topPartners:["China","India","United States","Saudi Arabia","Japan","South Korea","Germany","France","United Kingdom","Netherlands"]},Kazakhstan:{totalTrade:"$184B",exports:"Crude Oil, Natural Gas, Iron Ore, Uranium, Machinery",imports:"Machinery, Vehicles, Chemicals, Electronics, Textiles",agreements:"EAEU, Kazakhstan-Iran FTA",topPartners:["China","Russia","United States","Germany","South Korea","Turkey","Netherlands","Japan","Belgium","France"]},Hungary:{totalTrade:"$337B",exports:"Machinery, Vehicles, Chemicals, Electronics, Textiles",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, EU-Japan EPA",topPartners:["Germany","Austria","Czech Republic","Romania","Poland","France","United States","China","Netherlands","Italy"]},Ukraine:{totalTrade:"$186B",exports:"Cereals, Machinery, Iron Ore, Chemicals, Minerals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Ukraine-EU DCFTA, Ukraine-UK FTA",topPartners:["Germany","Poland","Netherlands","Belgium","Turkey","France","Italy","United States","China","Austria"]},Morocco:{totalTrade:"$205B",exports:"Machinery, Vehicles, Chemicals, Phosphates, Textiles",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Morocco-US FTA, Morocco-EFTA FTA",topPartners:["France","Spain","China","United States","Germany","Netherlands","Italy","Portugal","United Kingdom","Belgium"]},Ecuador:{totalTrade:"$144B",exports:"Crude Oil, Bananas, Cocoa, Shrimp, Minerals",imports:"Machinery, Vehicles, Chemicals, Electronics, Oil Products",agreements:"Ecuador-US trade partnership, Andean Community",topPartners:["United States","China","Germany","Netherlands","Spain","Belgium","Peru","Colombia","Vietnam","France"]},"Dominican Republic":{totalTrade:"$113B",exports:"Machinery, Textiles, Chemicals, Electronics, Minerals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Dominican Republic-US FTA, CAFTA-DR",topPartners:["United States","Haiti","Belgium","Netherlands","Germany","China","Canada","Spain","France","Mexico"]},Guatemala:{totalTrade:"$94B",exports:"Sugar, Cardamom, Bananas, Textiles, Chemicals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"CAFTA-DR, Central America-US FTA",topPartners:["United States","Mexico","Honduras","China","Panama","Germany","Belgium","Costa Rica","Spain","Canada"]},Kenya:{totalTrade:"$69B",exports:"Machinery, Vehicles, Chemicals, Tea, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"EAC, Kenya-UK trade agreement",topPartners:["Uganda","Tanzania","United States","China","Netherlands","India","Belgium","France","Germany","Spain"]},Ethiopia:{totalTrade:"$64B",exports:"Coffee, Textiles, Oilseeds, Machinery, Chemicals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"African Continental Free Trade Area",topPartners:["China","Saudi Arabia","India","United States","Germany","Somalia","France","Netherlands","Belgium","Spain"]},Tanzania:{totalTrade:"$63B",exports:"Gold, Minerals, Coffee, Machinery, Chemicals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EAC, SADC",topPartners:["China","Kenya","Uganda","India","South Africa","Netherlands","Germany","Belgium","France","Japan"]},Ghana:{totalTrade:"$64B",exports:"Gold, Cocoa, Machinery, Chemicals, Minerals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"ECOWAS, Ghana-US partnership",topPartners:["China","Netherlands","Belgium","France","Germany","Ivory Coast","United States","Spain","United Kingdom","India"]},Angola:{totalTrade:"$132B",exports:"Crude Oil, Diamonds, Refined Petroleum, Minerals",imports:"Machinery, Vehicles, Oil Products, Chemicals, Electronics",agreements:"SADC, OPEC+",topPartners:["China","United States","India","South Africa","Germany","France","Netherlands","Belgium","Portugal","Singapore"]},Algeria:{totalTrade:"$160B",exports:"Crude Oil, Refined Petroleum, Natural Gas, Minerals, Chemicals",imports:"Machinery, Vehicles, Electronics, Chemicals, Food",agreements:"OPEC+, Algeria-Tunisia-Libya cooperation",topPartners:["China","United States","Italy","France","Spain","Germany","Netherlands","Turkey","Japan","Canada"]},Libya:{totalTrade:"$96B",exports:"Crude Oil, Refined Petroleum, Natural Gas, Minerals",imports:"Machinery, Vehicles, Chemicals, Electronics, Food",agreements:"OPEC+, MENA regional agreements",topPartners:["China","India","United States","Germany","France","Italy","Netherlands","Spain","Belgium","Turkey"]},Tunisia:{totalTrade:"$83B",exports:"Textiles, Machinery, Chemicals, Phosphates, Food",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Tunisia-EU partnership, Tunisia-Switzerland FTA",topPartners:["France","Italy","Germany","Belgium","Spain","Egypt","Libya","Germany","Netherlands","China"]},Afghanistan:{totalTrade:"$23B",exports:"Opium, Fruits, Nuts, Wool, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"SAFTA",topPartners:["Pakistan","Tajikistan","Iran","Turkmenistan","India","China"]},Albania:{totalTrade:"$31B",exports:"Machinery, Chemicals, Textiles, Minerals, Footwear",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Albania-EFTA FTA, Albania-Turkey cooperation",topPartners:["Greece","Italy","Turkey","China","Germany","Belgium","Spain"]},Andorra:{totalTrade:"$3.2B",exports:"Machinery, Textiles, Electronics, Minerals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Andorra-EU customs union",topPartners:["France","Spain","United States","Germany","Belgium"]},"Antigua and Barbuda":{totalTrade:"$1.8B",exports:"Machinery, Electronics, Food, Textiles",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CARICOM, Antigua-US partnership",topPartners:["United States","Barbados","Trinidad and Tobago","Dominica","United Kingdom"]},Armenia:{totalTrade:"$15.8B",exports:"Machinery, Copper, Chemicals, Textiles, Food",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"EAEU, Armenia-Iran partnership",topPartners:["Russia","Iran","Georgia","Germany","China","Netherlands"]},Azerbaijan:{totalTrade:"$62B",exports:"Crude Oil, Natural Gas, Chemicals, Metals, Machinery",imports:"Machinery, Vehicles, Chemicals, Electronics, Food",agreements:"EAEU, Azerbaijan-Turkey cooperation",topPartners:["Russia","Turkey","Germany","United States","China","Netherlands","France"]},Bahamas:{totalTrade:"$4.1B",exports:"Machinery, Electronics, Food, Chemicals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CARICOM, Bahamas-US partnership",topPartners:["United States","Caribbean neighbors","Canada","United Kingdom","France"]},Bahrain:{totalTrade:"$37B",exports:"Crude Oil, Refined Petroleum, Chemicals, Aluminum",imports:"Machinery, Vehicles, Electronics, Chemicals, Food",agreements:"GCC, Bahrain-US FTA",topPartners:["Saudi Arabia","United States","Japan","China","South Korea","Germany","Netherlands"]},Barbados:{totalTrade:"$2.2B",exports:"Machinery, Electronics, Sugar, Food",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CARICOM, Caribbean-US partnerships",topPartners:["United States","Trinidad and Tobago","Caribbean nations","Canada","United Kingdom"]},Belarus:{totalTrade:"$96B",exports:"Machinery, Vehicles, Chemicals, Minerals, Textiles",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"EAEU, Belarus-Russia Union",topPartners:["Russia","Ukraine","Germany","Poland","China","Netherlands"]},Belize:{totalTrade:"$2.8B",exports:"Sugar, Citrus, Bananas, Machinery, Textiles",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CARICOM, CAFTA-DR",topPartners:["United States","Mexico","Guatemala","United Kingdom","Canada"]},Benin:{totalTrade:"$14B",exports:"Cotton, Textiles, Machinery, Food, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"ECOWAS, Benin-EU partnership",topPartners:["China","India","Niger","Nigeria","France","Belgium","Germany"]},Bhutan:{totalTrade:"$2.1B",exports:"Electricity, Machinery, Textiles, Food, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"SAFTA, Bhutan-India energy partnership",topPartners:["India","China","Japan","Germany","United States"]},Bolivia:{totalTrade:"$28B",exports:"Natural Gas, Mining Products, Agriculture, Minerals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Andean Community, Bolivia-Argentina partnership",topPartners:["China","Brazil","United States","Argentina","India","Germany"]},"Bosnia and Herzegovina":{totalTrade:"$41B",exports:"Machinery, Metals, Chemicals, Textiles, Electronics",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Bosnia-EU partnership, Bosnia-Croatia cooperation",topPartners:["Germany","Italy","Austria","Croatia","Serbia","Belgium","France"]},Botswana:{totalTrade:"$23B",exports:"Diamonds, Machinery, Textiles, Minerals, Metals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"SADC, Botswana-South Africa partnership",topPartners:["South Africa","China","India","Belgium","Netherlands","Germany","Japan"]},Brunei:{totalTrade:"$17B",exports:"Crude Oil, Natural Gas, Machinery, Food",imports:"Machinery, Vehicles, Oil Products, Electronics, Food",agreements:"RCEP, ASEAN membership",topPartners:["China","Japan","South Korea","United States","Thailand","Singapore","India"]},Bulgaria:{totalTrade:"$167B",exports:"Machinery, Chemicals, Electronics, Textiles, Metals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, EU-Japan EPA",topPartners:["Germany","Romania","Turkey","Italy","France","Poland","Austria"]},"Burkina Faso":{totalTrade:"$10.2B",exports:"Cotton, Machinery, Gold, Food, Textiles",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"ECOWAS, WAEMU",topPartners:["China","Ivory Coast","Mali","France","Netherlands","Belgium","India"]},Burundi:{totalTrade:"$3.8B",exports:"Coffee, Tea, Machinery, Minerals, Agriculture",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"EAC, EAU",topPartners:["Kenya","Uganda","Rwanda","Tanzania","China","Belgium","Germany"]},Cambodia:{totalTrade:"$42B",exports:"Textiles, Machinery, Agriculture, Electronics, Rubber",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"RCEP, Cambodia-ASEAN partnership",topPartners:["China","Vietnam","United States","Japan","Thailand","South Korea","Germany"]},Cameroon:{totalTrade:"$32B",exports:"Crude Oil, Machinery, Textiles, Agriculture, Minerals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"CEMAC, Cameroon-EU partnership",topPartners:["China","Spain","India","Netherlands","France","Belgium","Germany"]},"Cape Verde":{totalTrade:"$1.6B",exports:"Machinery, Fish, Food, Electronics",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Cape Verde-EU partnership",topPartners:["Spain","Portugal","Netherlands","Brazil","Senegal"]},"Central African Republic":{totalTrade:"$3.9B",exports:"Diamonds, Gold, Machinery, Timber, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CEMAC, CAR-EU partnership",topPartners:["Belgium","China","France","Netherlands","Cameroon","Senegal"]},Chad:{totalTrade:"$8.1B",exports:"Crude Oil, Cotton, Machinery, Textiles, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CEMAC, WAEMU membership efforts",topPartners:["China","France","United States","Senegal","Cameroon","Germany"]},Comoros:{totalTrade:"$1.2B",exports:"Machinery, Cloves, Vanilla, Food",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Indian Ocean Rim Association",topPartners:["France","Mauritius","India","Madagascar","China"]},"Costa Rica":{totalTrade:"$73B",exports:"Electronics, Chemicals, Machinery, Food, Textiles",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"CAFTA-DR, Costa Rica-US FTA",topPartners:["United States","China","Mexico","Germany","Canada","Belgium","Netherlands"]},Croatia:{totalTrade:"$82B",exports:"Machinery, Chemicals, Textiles, Electronics, Metals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, EU-Japan EPA",topPartners:["Germany","Italy","Slovenia","Austria","France","Hungary","Poland"]},Cuba:{totalTrade:"$13B",exports:"Chemicals, Machinery, Minerals, Tobacco, Food",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"Cuba-Venezuela cooperation, limited US sanctions",topPartners:["China","Russia","Spain","Venezuela","Canada","Germany"]},Cyprus:{totalTrade:"$47B",exports:"Machinery, Chemicals, Textiles, Electronics, Minerals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, Cyprus-EU partnership",topPartners:["Germany","Greece","United Kingdom","Netherlands","France","Italy","Belgium"]},DRC:{totalTrade:"$61B",exports:"Cobalt, Copper, Diamonds, Gold, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"SADC, EAC membership",topPartners:["China","South Africa","Zambia","Belgium","India","United States","Netherlands"]},Djibouti:{totalTrade:"$4.3B",exports:"Machinery, Re-exports, Port services",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"IGAD, strategic hub",topPartners:["China","Ethiopia","Saudi Arabia","United States","France","India","Japan"]},Dominica:{totalTrade:"$1.1B",exports:"Machinery, Bananas, Food, Electronics",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CARICOM, Caribbean trade ties",topPartners:["United States","Barbados","Trinidad and Tobago","Saint Lucia","Canada"]},"East Timor":{totalTrade:"$2.8B",exports:"Crude Oil, Natural Gas, Coffee, Machinery",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"RCEP, East Timor-Indonesia partnership",topPartners:["China","Australia","Japan","South Korea","Portugal","Singapore"]},"El Salvador":{totalTrade:"$48B",exports:"Machinery, Electronics, Textiles, Chemicals, Food",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"CAFTA-DR, El Salvador-US FTA",topPartners:["United States","Guatemala","Honduras","China","Mexico","Germany","Canada"]},"Equatorial Guinea":{totalTrade:"$14B",exports:"Crude Oil, Natural Gas, Chemicals, Minerals",imports:"Machinery, Vehicles, Oil Products, Chemicals, Food",agreements:"OPEC, CEMAC membership",topPartners:["China","Spain","United States","Cameroon","France","Nigeria","Singapore"]},Eritrea:{totalTrade:"$3.7B",exports:"Minerals, Machinery, Food, Livestock",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"African Continental Free Trade Area",topPartners:["China","Saudi Arabia","United Arab Emirates","Italy","Djibouti","Sudan"]},Estonia:{totalTrade:"$64B",exports:"Machinery, Electronics, Chemicals, Textiles, Metals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, BALTIKA cooperation",topPartners:["Finland","Sweden","Germany","Russia","Netherlands","France","Belgium"]},Eswatini:{totalTrade:"$11B",exports:"Machinery, Electronics, Textiles, Minerals, Sugar",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"SADC, Eswatini-South Africa partnership",topPartners:["South Africa","China","India","Mozambique","Japan","Germany","Belgium"]},Fiji:{totalTrade:"$5.4B",exports:"Machinery, Sugar, Textiles, Food, Electronics",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Pacific Islands Forum, Fiji-Australia partnership",topPartners:["Australia","United States","New Zealand","India","China","Singapore","Japan"]},Gabon:{totalTrade:"$31B",exports:"Crude Oil, Minerals, Machinery, Timber, Chemicals",imports:"Machinery, Vehicles, Oil Products, Chemicals, Electronics",agreements:"CEMAC, OPEC membership",topPartners:["China","United States","India","France","Spain","Belgium","Netherlands"]},Gambia:{totalTrade:"$1.8B",exports:"Machinery, Groundnuts, Textiles, Food",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"ECOWAS, Gambia-EU partnership",topPartners:["Senegal","Guinea-Bissau","Mali","China","Netherlands","Belgium","India"]},Georgia:{totalTrade:"$38B",exports:"Machinery, Vehicles, Chemicals, Metals, Wine",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"Georgia-EU DCFTA, Georgia-EFTA FTA",topPartners:["Russia","Turkey","Azerbaijan","China","Germany","Netherlands","Belgium"]},Greenland:{totalTrade:"$4.2B",exports:"Fish, Machinery, Minerals, Electronics",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Greenland-Denmark connection, Arctic partnerships",topPartners:["Denmark","China","Iceland","Canada","United States","Japan"]},Grenada:{totalTrade:"$1.3B",exports:"Machinery, Electronics, Food, Textiles",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CARICOM, Caribbean trade ties",topPartners:["United States","Trinidad and Tobago","Barbados","Canada","Saint Lucia"]},Guinea:{totalTrade:"$16B",exports:"Minerals, Machinery, Agriculture, Textiles, Gold",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"ECOWAS, Guinea-EU partnership",topPartners:["China","India","Belgium","Ivory Coast","Senegal","France","Netherlands"]},"Guinea-Bissau":{totalTrade:"$2.3B",exports:"Machinery, Cashewnuts, Textiles, Food",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"ECOWAS, WAEMU membership",topPartners:["India","Senegal","Gambia","China","Portugal","Brazil","Netherlands"]},Guyana:{totalTrade:"$8.6B",exports:"Gold, Machinery, Agriculture, Oil, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CARICOM, Guyana-US partnership",topPartners:["United States","Caribbean neighbors","Canada","China","India","Brazil"]},Haiti:{totalTrade:"$7.8B",exports:"Machinery, Electronics, Textiles, Food, Oils",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CARICOM, Haiti-US partnership",topPartners:["United States","Dominican Republic","Netherlands","Brazil","Canada","China"]},Honduras:{totalTrade:"$56B",exports:"Machinery, Electronics, Textiles, Bananas, Coffee",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"CAFTA-DR, Honduras-US FTA",topPartners:["United States","Guatemala","El Salvador","Mexico","China","Germany","Canada"]},Iceland:{totalTrade:"$22B",exports:"Fish, Machinery, Aluminum, Electronics, Chemicals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"EFTA, EEA (EU trade)",topPartners:["Netherlands","Spain","France","United Kingdom","Germany","China","Belgium","Japan"]},"Ivory Coast":{totalTrade:"$73B",exports:"Cocoa, Machinery, Textiles, Chemicals, Oil",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"ECOWAS, Ivory Coast-EU partnership",topPartners:["France","Netherlands","Belgium","Germany","China","Spain","India","United States"]},Jamaica:{totalTrade:"$23B",exports:"Machinery, Textiles, Electronics, Food, Aluminum",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"CARICOM, Jamaica-US partnership",topPartners:["United States","Trinidad and Tobago","Canada","Netherlands","Dominican Republic","India"]},Jordan:{totalTrade:"$41B",exports:"Machinery, Chemicals, Textiles, Electronics, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"Jordan-US FTA, GCC partnership",topPartners:["Saudi Arabia","United States","China","India","United Kingdom","Germany","France"]},Kosovo:{totalTrade:"$16B",exports:"Machinery, Metals, Chemicals, Textiles, Minerals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Kosovo-EFTA partnership agreements",topPartners:["Albania","Serbia","Germany","Italy","Belgium","Slovenia","Turkey"]},Kyrgyzstan:{totalTrade:"$17B",exports:"Machinery, Chemicals, Minerals, Textiles, Metals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"EAEU, Kyrgyzstan-China cooperation",topPartners:["China","Russia","Kazakhstan","Turkey","Germany","Belgium","Japan"]},Laos:{totalTrade:"$24B",exports:"Minerals, Electricity, Machinery, Textiles, Food",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"RCEP, Laos-ASEAN partnership",topPartners:["China","Thailand","Vietnam","Japan","South Korea","Germany","Belgium"]},Latvia:{totalTrade:"$75B",exports:"Machinery, Electronics, Chemicals, Textiles, Metals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, BALTIKA cooperation",topPartners:["Lithuania","Germany","Sweden","Estonia","Russia","Netherlands","Belgium"]},Lebanon:{totalTrade:"$18B",exports:"Machinery, Chemicals, Textiles, Electronics, Minerals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Lebanon-EU partnership (strained)",topPartners:["Saudi Arabia","United States","United Kingdom","Germany","France","Switzerland","Turkey"]},Lesotho:{totalTrade:"$7.3B",exports:"Textiles, Machinery, Minerals, Electronics, Diamonds",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"SADC, Lesotho-South Africa customs union",topPartners:["South Africa","China","India","Belgium","United States","France","Germany"]},Liberia:{totalTrade:"$8.9B",exports:"Minerals, Machinery, Textiles, Rubber, Food",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"ECOWAS, Liberia-EU partnership",topPartners:["China","Belgium","India","Netherlands","Ivory Coast","France","Germany"]},Lithuania:{totalTrade:"$92B",exports:"Machinery, Chemicals, Electronics, Textiles, Metals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, BALTIKA cooperation",topPartners:["Germany","Poland","Russia","Latvia","United States","Netherlands","France"]},Luxembourg:{totalTrade:"$83B",exports:"Machinery, Chemicals, Electronics, Metals, Vehicles",imports:"Machinery, Vehicles, Chemicals, Electronics, Oil",agreements:"EU Single Market, Benelux Union",topPartners:["Germany","France","Belgium","Netherlands","China","United States","United Kingdom"]},"North Macedonia":{totalTrade:"$39B",exports:"Machinery, Chemicals, Minerals, Textiles, Electronics",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"North Macedonia-EU CEFTA partnership",topPartners:["Germany","Bulgaria","Greece","Serbia","China","Belgium","France"]},Madagascar:{totalTrade:"$18B",exports:"Machinery, Textiles, Agriculture, Food, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"Madagascar-EU partnership, SADC membership",topPartners:["France","China","India","United States","Belgium","Germany","Singapore"]},Malawi:{totalTrade:"$13B",exports:"Machinery, Textiles, Tobacco, Food, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"SADC, EAC associate membership",topPartners:["South Africa","China","India","Mozambique","Tanzania","Belgium","Germany"]},Maldives:{totalTrade:"$7.2B",exports:"Machinery, Fish, Electronics, Food, Textiles",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Maldives-India partnership, SAARC membership",topPartners:["India","United States","Thailand","Germany","Japan","China","Sri Lanka"]},Mali:{totalTrade:"$12B",exports:"Cotton, Machinery, Gold, Textiles, Chemicals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"ECOWAS, WAEMU membership",topPartners:["China","Senegal","Ivory Coast","Burkina Faso","France","Belgium","India"]},Malta:{totalTrade:"$47B",exports:"Machinery, Chemicals, Textiles, Electronics, Fuel",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, Malta-US partnership",topPartners:["Germany","United States","Netherlands","Belgium","France","China","United Kingdom"]},Mauritania:{totalTrade:"$18B",exports:"Minerals, Machinery, Food, Textiles, Iron Ore",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"ECOWAS, Arab League",topPartners:["China","India","Netherlands","Belgium","Spain","France","Germany"]},Mauritius:{totalTrade:"$27B",exports:"Machinery, Textiles, Chemicals, Electronics, Food",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Mauritius-UK FTA, SADC membership",topPartners:["India","France","United States","United Kingdom","China","Germany","Belgium"]},Moldova:{totalTrade:"$47B",exports:"Machinery, Chemicals, Textiles, Metals, Food",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Moldova-EU DCFTA, Moldova-UK partnership",topPartners:["Russia","Romania","Germany","Italy","Poland","Belgium","France"]},Monaco:{totalTrade:"$2.1B",exports:"Machinery, Chemicals, Electronics, Textiles",imports:"Machinery, Vehicles, Electronics, Chemicals, Food",agreements:"Monaco-EU customs union",topPartners:["France","Italy","Germany","Belgium","United States","Netherlands"]},Mongolia:{totalTrade:"$32B",exports:"Minerals, Machinery, Coal, Metals, Textiles",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"Mongolia-Japan CEPA, Mongolia-Korea FTA",topPartners:["China","Russia","Japan","South Korea","Germany","Netherlands","Belgium"]},Montenegro:{totalTrade:"$14B",exports:"Machinery, Metals, Chemicals, Electronics, Food",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Montenegro-EU stabilization, CEFTA",topPartners:["Serbia","Italy","Bosnia and Herzegovina","Germany","Netherlands","France","Belgium"]},Mozambique:{totalTrade:"$24B",exports:"Minerals, Machinery, Textiles, Food, Chemicals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"SADC, Mozambique-EU partnership",topPartners:["China","South Africa","Netherlands","India","Belgium","France","Germany"]},Myanmar:{totalTrade:"$36B",exports:"Electronics, Machinery, Textiles, Agriculture, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"RCEP, Myanmar-ASEAN partnership (suspended)",topPartners:["China","Thailand","Singapore","Japan","South Korea","India","Vietnam"]},Namibia:{totalTrade:"$18B",exports:"Diamonds, Machinery, Minerals, Metals, Food",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"SADC, Namibia-South Africa partnership",topPartners:["South Africa","China","India","Belgium","Netherlands","Germany","France"]},Nepal:{totalTrade:"$34B",exports:"Textiles, Machinery, Chemicals, Food, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"SAFTA, Nepal-India FTA (informal)",topPartners:["India","China","United States","Germany","France","United Kingdom","Belgium"]},Nicaragua:{totalTrade:"$32B",exports:"Machinery, Electronics, Textiles, Coffee, Food",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"CAFTA-DR, Central America trade",topPartners:["United States","El Salvador","Honduras","Mexico","Costa Rica","China","Germany"]},Niger:{totalTrade:"$10.8B",exports:"Machinery, Uranium, Food, Textiles, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"ECOWAS, WAEMU membership",topPartners:["Nigeria","Burkina Faso","Mali","China","France","Belgium","India"]},"North Korea":{totalTrade:"$8.2B",exports:"Minerals, Textiles, Machinery, Metals, Coal",imports:"Oil, Machinery, Vehicles, Chemicals, Electronics",agreements:"North Korea-China trade (primary)",topPartners:["China","Russia","Vietnam","Japan (limited)","India (limited)"]},Oman:{totalTrade:"$95B",exports:"Crude Oil, Natural Gas, Chemicals, Minerals, Metals",imports:"Machinery, Vehicles, Chemicals, Electronics, Food",agreements:"GCC, Oman-China FTA",topPartners:["China","India","United States","Japan","South Korea","United Kingdom","Germany"]},Palestine:{totalTrade:"$9.3B",exports:"Agriculture, Chemicals, Textiles, Food, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Palestine-Israel trade agreement (limited), Palestine-Egypt trade, EU partnerships",topPartners:["Israel","Egypt","Saudi Arabia","United States","Jordan","China","Belgium"]},Panama:{totalTrade:"$86B",exports:"Re-exports, Machinery, Electronics, Food, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"Panama-US FTA, Panama Canal trade",topPartners:["United States","Mexico","Colombia","Costa Rica","Ecuador","China","Japan"]},"Papua New Guinea":{totalTrade:"$34B",exports:"Minerals, Machinery, Oil, Food, Metals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Papua New Guinea-Australia partnership",topPartners:["Australia","China","Japan","South Korea","India","Singapore","Germany"]},Paraguay:{totalTrade:"$40B",exports:"Soybeans, Machinery, Beef, Electricity, Chemicals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"MERCOSUR, Paraguay-Argentina partnership",topPartners:["Argentina","Brazil","China","Germany","Netherlands","Belgium","India"]},Rwanda:{totalTrade:"$15B",exports:"Machinery, Minerals, Coffee, Food, Textiles",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"EAC, COMESA partnership",topPartners:["Uganda","Tanzania","Burundi","Kenya","China","Belgium","India"]},"Saint Kitts and Nevis":{totalTrade:"$1.4B",exports:"Machinery, Electronics, Food, Textiles",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CARICOM, Caribbean trade ties",topPartners:["United States","Trinidad and Tobago","Antigua and Barbuda","Canada","Barbados"]},"Saint Lucia":{totalTrade:"$2.8B",exports:"Machinery, Electronics, Bananas, Food, Textiles",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CARICOM, Caribbean partnerships",topPartners:["United States","Barbados","Trinidad and Tobago","Dominica","Canada"]},"Saint Vincent":{totalTrade:"$1.9B",exports:"Machinery, Electronics, Food, Textiles, Bananas",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CARICOM, Caribbean trade",topPartners:["United States","Trinidad and Tobago","Barbados","Canada","Saint Lucia"]},Samoa:{totalTrade:"$1.8B",exports:"Machinery, Fish, Food, Electronics, Coconut Oil",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Pacific Islands Forum",topPartners:["New Zealand","Australia","United States","Fiji","Japan","Singapore","China"]},"San Marino":{totalTrade:"$3.8B",exports:"Machinery, Chemicals, Electronics, Metals, Ceramics",imports:"Machinery, Vehicles, Chemicals, Electronics, Food",agreements:"San Marino-EU customs union",topPartners:["Italy","Germany","France","Netherlands","Belgium","Spain"]},"Sao Tome and Principe":{totalTrade:"$1.1B",exports:"Machinery, Cocoa, Oil, Food, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Sao Tome-Angola partnership",topPartners:["Portugal","Angola","Belgium","France","Nigeria","South Africa"]},Senegal:{totalTrade:"$32B",exports:"Machinery, Fish, Textiles, Chemicals, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"ECOWAS, WAEMU membership, Senegal-EU partnership",topPartners:["China","India","Mali","Mauritania","France","Belgium","Spain"]},Serbia:{totalTrade:"$118B",exports:"Machinery, Metals, Chemicals, Vehicles, Electronics",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"Serbia-EFTA partnership, CEFTA membership",topPartners:["Germany","Italy","Bosnia and Herzegovina","Romania","Russia","France","Hungary"]},Seychelles:{totalTrade:"$3.2B",exports:"Machinery, Fish, Electronics, Food, Re-exports",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Indian Ocean Rim Association",topPartners:["France","India","Saudi Arabia","Singapore","United States","China","South Africa"]},"Sierra Leone":{totalTrade:"$10B",exports:"Minerals, Machinery, Textiles, Food, Metals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"ECOWAS, Sierra Leone-EU partnership",topPartners:["China","Belgium","India","Netherlands","Ivory Coast","France","Germany"]},Slovakia:{totalTrade:"$261B",exports:"Machinery, Vehicles, Chemicals, Electronics, Metals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, EU-Japan EPA",topPartners:["Germany","Czech Republic","Poland","Hungary","Italy","Austria","France"]},Slovenia:{totalTrade:"$117B",exports:"Machinery, Chemicals, Vehicles, Electronics, Metals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"EU Single Market, EU-Japan EPA",topPartners:["Germany","Italy","Austria","Czech Republic","Croatia","France","Hungary"]},"Solomon Islands":{totalTrade:"$4.1B",exports:"Machinery, Fish, Minerals, Food, Electronics",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Pacific Islands Forum",topPartners:["Australia","China","Japan","New Zealand","Singapore","Papua New Guinea"]},Somalia:{totalTrade:"$5.8B",exports:"Machinery, Livestock, Chemicals, Food",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"IGAD, AU membership",topPartners:["Saudi Arabia","United Arab Emirates","Kenya","Ethiopia","China","India"]},"South Sudan":{totalTrade:"$12B",exports:"Crude Oil, Minerals, Agriculture, Machinery",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"East African Community (associate)",topPartners:["China","Sudan","Kenya","Uganda","Ethiopia","United States","India"]},"Sri Lanka":{totalTrade:"$67B",exports:"Textiles, Machinery, Chemicals, Electronics, Tea",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"SAFTA, Sri Lanka-India partnership",topPartners:["United States","India","United Kingdom","Germany","China","Japan","Belgium"]},Sudan:{totalTrade:"$14B",exports:"Machinery, Oil, Chemicals, Food, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"Arab League, IGAD membership",topPartners:["China","Saudi Arabia","Egypt","India","United Arab Emirates","European Union"]},Suriname:{totalTrade:"$8.4B",exports:"Minerals, Machinery, Food, Oil, Metals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"CARICOM, Suriname-Brazil trade",topPartners:["United States","China","Netherlands","Brazil","Canada","Trinidad and Tobago"]},Syria:{totalTrade:"$4.6B",exports:"Machinery, Chemicals, Textiles, Oil, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Limited international trade (sanctions/conflict)",topPartners:["Turkey","Lebanon","United Arab Emirates","China","Russia","Iran"]},Tajikistan:{totalTrade:"$13B",exports:"Machinery, Aluminum, Chemicals, Textiles, Food",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"EAEU (observer), Tajikistan-China cooperation",topPartners:["China","Russia","Afghanistan","Kazakhstan","Germany","Belgium"]},Togo:{totalTrade:"$12B",exports:"Machinery, Textiles, Chemicals, Food, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"ECOWAS, WAEMU membership",topPartners:["Benin","Ivory Coast","Mali","China","France","Netherlands","Belgium"]},Tonga:{totalTrade:"$1.2B",exports:"Machinery, Fish, Food, Electronics",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Pacific Islands Forum",topPartners:["New Zealand","Fiji","Australia","Japan","China","United States"]},"Trinidad and Tobago":{totalTrade:"$42B",exports:"Machinery, Oil, Gas, Chemicals, Electronics",imports:"Machinery, Vehicles, Electronics, Chemicals, Food",agreements:"CARICOM, Trinidad-US partnership",topPartners:["United States","Brazil","China","Canada","Barbados","Netherlands","Venezuela"]},Turkmenistan:{totalTrade:"$42B",exports:"Natural Gas, Oil, Chemicals, Textiles, Machinery",imports:"Machinery, Vehicles, Electronics, Chemicals, Food",agreements:"EAEU (observer), Turkmenistan-China partnership",topPartners:["China","Russia","Turkey","Afghanistan","Iran","Kazakhstan"]},Tuvalu:{totalTrade:"$0.45B",exports:"Machinery, Fish, Electronics",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Pacific Islands Forum",topPartners:["Fiji","Australia","New Zealand","Japan","Singapore"]},Uganda:{totalTrade:"$28B",exports:"Machinery, Coffee, Textiles, Food, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"EAC, COMESA partnership",topPartners:["Kenya","Tanzania","Rwanda","Democratic Republic of Congo","China","India","Belgium"]},Uruguay:{totalTrade:"$71B",exports:"Soybeans, Beef, Machinery, Cereals, Chemicals",imports:"Machinery, Vehicles, Oil, Chemicals, Electronics",agreements:"MERCOSUR, Uruguay-China FTA",topPartners:["Argentina","Brazil","China","United States","Netherlands","Germany","Belgium"]},Uzbekistan:{totalTrade:"$61B",exports:"Machinery, Chemicals, Textiles, Cotton, Metals",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"EAEU (observer), Uzbekistan-China cooperation",topPartners:["China","Russia","Kazakhstan","Afghanistan","Turkey","Germany","Korea"]},Vanuatu:{totalTrade:"$1.9B",exports:"Machinery, Fish, Minerals, Food, Electronics",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Pacific Islands Forum",topPartners:["Australia","New Zealand","Fiji","Japan","Singapore","France","China"]},"Vatican City":{totalTrade:"$0.3B",exports:"Religious artifacts, Publications, Coins",imports:"Food, Machinery, Textiles, Electronics, Consumables",agreements:"Vatican-Italy trade",topPartners:["Italy","European Union countries","United States","Catholic organizations"]},Venezuela:{totalTrade:"$53B",exports:"Crude Oil, Refined Petroleum, Chemicals, Minerals",imports:"Machinery, Vehicles, Electronics, Chemicals, Food",agreements:"MERCOSUR, Venezuela-ALBA partnership",topPartners:["United States","China","India","Brazil","Trinidad and Tobago","Spain","Netherlands"]},Yemen:{totalTrade:"$24B",exports:"Machinery, Oil, Chemicals, Food, Minerals",imports:"Machinery, Vehicles, Oil, Electronics, Food",agreements:"Limited (conflict/crisis state)",topPartners:["Saudi Arabia","United Arab Emirates","Oman","Egypt","China","India","Singapore"]},Zambia:{totalTrade:"$25B",exports:"Copper, Machinery, Minerals, Metals, Food",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"SADC, EAC associate membership",topPartners:["South Africa","China","India","Tanzania","Democratic Republic of Congo","Belgium","Germany"]},Zimbabwe:{totalTrade:"$18B",exports:"Machinery, Minerals, Metals, Tobacco, Food",imports:"Machinery, Vehicles, Oil, Electronics, Chemicals",agreements:"SADC, Zimbabwe-South Africa partnership",topPartners:["South Africa","China","India","Mozambique","Botswana","Belgium","Netherlands"]}},zw=[{from:"United States",to:"Canada",volume:783,goods:"Vehicles, Oil, Machinery, Electronics",status:"healthy",desc:"Largest bilateral trade relationship globally. USMCA governs this deeply integrated supply chain.",sanctions:"",recent:"USMCA review scheduled for 2026. Cross-border EV supply chain expanding."},{from:"United States",to:"Mexico",volume:687,goods:"Vehicles, Electronics, Agricultural Products, Oil",status:"healthy",desc:"Second largest US trade partner. Nearshoring trend boosting Mexican manufacturing.",sanctions:"",recent:"Nearshoring boom driving record FDI into Mexican manufacturing."},{from:"United States",to:"China",volume:582,goods:"Semiconductors, Agriculture, Consumer Electronics, Machinery",status:"tension",desc:"Largest bilateral trade relationship by volume. Subject to ongoing tariff disputes and tech export restrictions since 2018.",sanctions:"Technology export controls on advanced chips. Entity list restrictions on Huawei, SMIC.",recent:"Additional tariffs on Chinese EVs, solar panels, steel. China retaliating on US agricultural imports."},{from:"United States",to:"United Kingdom",volume:295,goods:"Financial Services, Pharmaceuticals, Machinery, Oil",status:"healthy",desc:"Special relationship extends to deep economic ties. Post-Brexit bilateral trade agreement in negotiation.",sanctions:"",recent:"US-UK free trade talks resumed in 2025."},{from:"United States",to:"Japan",volume:248,goods:"Vehicles, Machinery, Pharmaceuticals, Agriculture",status:"healthy",desc:"Cornerstone Pacific trade alliance. Japan is 4th largest US trading partner.",sanctions:"",recent:"Strengthened supply chain cooperation on semiconductors."},{from:"United States",to:"Germany",volume:235,goods:"Vehicles, Machinery, Pharmaceuticals, Chemicals",status:"healthy",desc:"Largest US-EU bilateral trade corridor. German auto industry deeply tied to US market.",sanctions:"",recent:"EU-US Trade and Technology Council driving regulatory alignment."},{from:"United States",to:"South Korea",volume:185,goods:"Semiconductors, Vehicles, Electronics, Machinery",status:"healthy",desc:"Key tech alliance partner. Samsung and Hyundai heavily invested in US manufacturing.",sanctions:"",recent:"CHIPS Act incentives drawing Korean semiconductor investment to US."},{from:"India",to:"United States",volume:128,goods:"IT Services, Pharmaceuticals, Textiles, Jewelry",status:"healthy",desc:"Fast-growing trade partnership. India is a key US partner in the Indo-Pacific strategy.",sanctions:"",recent:"US-India Initiative on Critical and Emerging Technologies (iCET) expanding."},{from:"China",to:"Japan",volume:318,goods:"Electronics, Chemicals, Machinery, Rare Earths",status:"tension",desc:"Massive trade volume despite political tensions over Taiwan and territorial disputes.",sanctions:"Japan restricting semiconductor equipment exports to China.",recent:"Japan tightening chip equipment export controls aligned with US policy."},{from:"China",to:"South Korea",volume:268,goods:"Semiconductors, Displays, Chemicals, Electronics",status:"healthy",desc:"Korea exports components, China assembles. Deeply intertwined electronics supply chains.",sanctions:"",recent:"China restricting gallium/germanium exports affecting Korean chipmakers."},{from:"China",to:"Australia",volume:221,goods:"Iron Ore, Coal, LNG, Agriculture",status:"tension",desc:"Australia provides raw materials for Chinese industry. Relationship strained since 2020.",sanctions:"China imposed tariffs on Australian wine, barley, coal.",recent:"Gradual trade normalization ongoing after diplomatic reset in 2023."},{from:"China",to:"Vietnam",volume:175,goods:"Electronics Components, Textiles, Machinery",status:"healthy",desc:"Vietnam emerging as China-plus-one manufacturing destination. Massive border trade.",sanctions:"",recent:"Vietnamese electronics exports surging as supply chains diversify from China."},{from:"China",to:"Thailand",volume:105,goods:"Electronics, Rubber, Fruits, Machinery",status:"healthy",desc:"Key ASEAN trade partner. Chinese investment in Thai EV industry accelerating.",sanctions:"",recent:"Chinese EV manufacturers flooding Thai market."},{from:"Germany",to:"France",volume:185,goods:"Vehicles, Machinery, Chemicals, Aircraft Parts",status:"healthy",desc:"Backbone of EU single market. Franco-German industrial cooperation drives EU economy.",sanctions:"",recent:"Joint defense procurement initiatives expanding."},{from:"Germany",to:"Netherlands",volume:210,goods:"Machinery, Chemicals, Vehicles, Electronics",status:"healthy",desc:"Netherlands is Germany's 2nd largest trade partner. Rotterdam is gateway for German exports.",sanctions:"",recent:"Joint hydrogen energy infrastructure projects."},{from:"Japan",to:"South Korea",volume:82,goods:"Semiconductors, Chemicals, Machinery, Auto Parts",status:"healthy",desc:"Critical technology supply chain despite historical tensions. Both US allies.",sanctions:"",recent:"Diplomatic thaw enabling closer tech cooperation on chip supply chains."},{from:"Japan",to:"Australia",volume:72,goods:"LNG, Coal, Iron Ore, Beef",status:"healthy",desc:"Strategic resource partnership. Australia supplies energy and minerals for Japanese industry.",sanctions:"",recent:"Expanded defense and critical minerals cooperation."},{from:"India",to:"China",volume:136,goods:"Raw Materials, Pharmaceuticals, IT Components",status:"tension",desc:"Large trade volume but strategic rivals. Significant trade deficit concerns for India.",sanctions:"India banned 300+ Chinese apps. Restrictions on Chinese telecom equipment.",recent:"Border tensions continue to constrain economic engagement."},{from:"India",to:"UAE",volume:85,goods:"Oil, Gold, Textiles, Machinery",status:"healthy",desc:"UAE is India's 3rd largest trading partner. Large Indian diaspora drives economic ties.",sanctions:"",recent:"CEPA free trade agreement boosting bilateral trade since 2022."},{from:"Saudi Arabia",to:"China",volume:98,goods:"Crude Oil, Petrochemicals",status:"healthy",desc:"China is Saudi Arabia's largest oil customer. Petrodollar relationship evolving.",sanctions:"",recent:"Saudi Arabia accepting yuan for some oil sales. Aramco expanding refinery investments in China."},{from:"Saudi Arabia",to:"India",volume:52,goods:"Crude Oil, LPG, Petrochemicals",status:"healthy",desc:"India is a major Saudi oil customer. Energy security drives close partnership.",sanctions:"",recent:"Strategic partnership expanding beyond oil into renewables and tech."},{from:"Russia",to:"China",volume:240,goods:"Oil, Natural Gas, Timber, Minerals",status:"healthy",desc:"Deepening economic partnership since 2022 Western sanctions. Power of Siberia pipeline.",sanctions:"",recent:"Russia became China's top oil supplier. Yuan-denominated trade expanding rapidly."},{from:"Brazil",to:"China",volume:157,goods:"Soybeans, Iron Ore, Crude Oil, Meat",status:"healthy",desc:"China is Brazil's largest trade partner. Brazil supplies agricultural and mineral commodities.",sanctions:"",recent:"Bilateral trade hit record levels. De-dollarization experiments with yuan settlements."},{from:"China",to:"Indonesia",volume:132,goods:"Electronics, Metals, Machinery, Chemicals",status:"healthy",desc:"Indonesia is ASEAN's largest economy. Major Belt and Road recipient.",sanctions:"",recent:"Chinese investment in Indonesian nickel processing for EV batteries surging."},{from:"Japan",to:"Thailand",volume:65,goods:"Vehicles, Machinery, Electronics, Auto Parts",status:"healthy",desc:"Japan is Thailand's largest investor. Thai auto industry dominated by Japanese brands.",sanctions:"",recent:"Japanese firms expanding EV manufacturing in Thailand."},{from:"Germany",to:"Poland",volume:158,goods:"Vehicles, Machinery, Electronics, Chemicals",status:"healthy",desc:"Poland is Germany's key eastern supply chain partner. Rapidly growing trade corridor.",sanctions:"",recent:"Polish manufacturing integration with German auto industry deepening."},{from:"Germany",to:"Italy",volume:145,goods:"Vehicles, Machinery, Chemicals, Pharmaceuticals",status:"healthy",desc:"Core EU single market corridor. Italy is Germany's 5th largest trade partner.",sanctions:"",recent:"Joint EU industrial policy initiatives strengthening bilateral ties."},{from:"France",to:"China",volume:82,goods:"Aerospace, Luxury Goods, Wine, Agriculture",status:"healthy",desc:"France is a key EU-China trade partner. Airbus and luxury exports dominate.",sanctions:"",recent:"Macron pursuing balanced approach between US and China on trade policy."},{from:"Turkey",to:"Russia",volume:68,goods:"Agriculture, Textiles, Construction, Energy",status:"tension",desc:"Turkey maintaining trade ties despite Western sanctions. Key energy transit route.",sanctions:"Western pressure on Turkey over sanctions evasion.",recent:"Turkish banks facing secondary sanctions risk for Russian trade facilitation."},{from:"Turkey",to:"Germany",volume:48,goods:"Vehicles, Textiles, Machinery, Agriculture",status:"healthy",desc:"Germany hosts 3M+ Turkish diaspora. Deep economic and cultural ties.",sanctions:"",recent:"EU customs union modernization talks with Turkey ongoing."},{from:"India",to:"Russia",volume:65,goods:"Crude Oil, Fertilizers, Diamonds, Arms",status:"healthy",desc:"India dramatically increased Russian oil imports since 2022 sanctions.",sanctions:"",recent:"India now Russia's second largest oil customer. Rupee-ruble trade expanding."},{from:"South Korea",to:"Vietnam",volume:78,goods:"Electronics Components, Machinery, Chemicals",status:"healthy",desc:"Vietnam is Samsung's largest manufacturing base outside Korea.",sanctions:"",recent:"Korean tech firms expanding Vietnam operations as China alternative."},{from:"United States",to:"Taiwan",volume:115,goods:"Semiconductors, Electronics, Machinery",status:"tension",desc:"Critical semiconductor supply chain. TSMC supplies most advanced chips globally.",sanctions:"",recent:"US CHIPS Act driving TSMC investment in Arizona fabs. China tensions rising."},{from:"China",to:"Brazil",volume:157,goods:"Electronics, Machinery, Textiles, Chemicals",status:"healthy",desc:"China is Brazil's top import source. Growing dependency on Chinese manufactured goods.",sanctions:"",recent:"BRICS expansion strengthening China-Brazil economic coordination."},{from:"Saudi Arabia",to:"Japan",volume:42,goods:"Crude Oil, LNG, Petrochemicals",status:"healthy",desc:"Japan remains a major Saudi oil customer despite diversification efforts.",sanctions:"",recent:"Saudi-Japan clean energy partnership expanding beyond fossil fuels."},{from:"United Kingdom",to:"Netherlands",volume:78,goods:"Oil, Financial Services, Machinery, Chemicals",status:"healthy",desc:"Major North Sea trade corridor. Post-Brexit trade adjustments ongoing.",sanctions:"",recent:"UK-EU trade friction continuing to affect cross-Channel commerce."},{from:"Mexico",to:"China",volume:92,goods:"Electronics, Machinery, Auto Parts, Chemicals",status:"tension",desc:"Mexico importing heavily from China while US pushes nearshoring agenda.",sanctions:"",recent:"Concerns over Chinese goods transshipped through Mexico to circumvent US tariffs."},{from:"India",to:"Saudi Arabia",volume:52,goods:"Textiles, Rice, Machinery, Refined Petroleum",status:"healthy",desc:"India exports diverse goods to Saudi Arabia while importing energy.",sanctions:"",recent:"Indian workers form largest expatriate community in Saudi Arabia."},{from:"Argentina",to:"Brazil",volume:26,goods:"Vehicles, Agricultural Products, Chemicals",status:"healthy",desc:"Mercosur backbone. Deeply integrated automotive supply chain.",sanctions:"",recent:"Mercosur-EU trade agreement negotiations in final stages."},{from:"United States",to:"Vietnam",volume:124,goods:"Electronics, Textiles, Footwear, Furniture",status:"healthy",desc:"Vietnam is a top US trade partner in Southeast Asia. Manufacturing shifting from China to Vietnam.",sanctions:"",recent:"US-Vietnam comprehensive strategic partnership upgraded in 2023. Trade surging."},{from:"United States",to:"Brazil",volume:80,goods:"Aircraft, Soybeans, Oil, Machinery",status:"healthy",desc:"Brazil is the US largest trade partner in South America. Embraer-Boeing supply chain.",sanctions:"",recent:"Critical minerals partnership expanding. Ethanol trade growing."},{from:"Canada",to:"China",volume:75,goods:"Canola, Potash, Lumber, Minerals",status:"tension",desc:"Trade strained by diplomatic disputes over Huawei CFO arrest and political detentions.",sanctions:"China blocked Canadian canola imports 2019-2022.",recent:"Gradual normalization but strategic mistrust persists. Critical minerals competition."},{from:"Germany",to:"China",volume:298,goods:"Vehicles, Machinery, Chemicals, Electronics",status:"tension",desc:"Germany is China's largest EU trade partner. VW, BMW, BASF deeply exposed to Chinese market.",sanctions:"EU considering tariffs on Chinese EVs.",recent:"De-risking debate intensifying. German firms diversifying but China dependency remains."},{from:"United Kingdom",to:"Germany",volume:160,goods:"Financial Services, Vehicles, Machinery, Pharma",status:"healthy",desc:"Largest UK-EU bilateral trade corridor. Post-Brexit friction adding costs.",sanctions:"",recent:"Windsor Framework easing Northern Ireland trade issues. Services trade under pressure."},{from:"China",to:"Taiwan",volume:280,goods:"Semiconductors, Electronics, Machinery, Chemicals",status:"tension",desc:"Massive cross-strait trade despite political tensions. Taiwan's economy deeply linked to mainland.",sanctions:"China conducting trade intimidation exercises.",recent:"TSMC expanding US/Japan fabs but 80%+ of advanced chips still made in Taiwan."},{from:"Singapore",to:"China",volume:115,goods:"Electronics, Refined Petroleum, Chemicals, Machinery",status:"healthy",desc:"Singapore is a key financial and trade hub connecting China with Southeast Asia.",sanctions:"",recent:"Singapore-China upgraded free trade agreement. Bilateral investment surging."},{from:"Qatar",to:"Japan",volume:35,goods:"LNG, Petrochemicals",status:"healthy",desc:"Japan is Qatar's largest LNG customer. Long-term supply contracts anchor the relationship.",sanctions:"",recent:"New 27-year LNG supply deals signed. Qatar North Field expansion targeting Asian markets."},{from:"Nigeria",to:"India",volume:15,goods:"Crude Oil, LNG, Minerals",status:"healthy",desc:"India is a growing market for Nigerian crude oil as refineries expand.",sanctions:"",recent:"Dangote refinery in Nigeria reducing import dependency. New crude oil supply agreements."},{from:"South Africa",to:"China",volume:45,goods:"Iron Ore, Manganese, Platinum, Minerals",status:"healthy",desc:"China is South Africa's largest trade partner. Critical minerals drive the relationship.",sanctions:"",recent:"BRICS expansion strengthening trade ties. EV battery mineral supply chains growing."},{from:"United States",to:"Russia",volume:12,goods:"Limited  Agricultural Products",status:"sanctioned",desc:"Comprehensive sanctions regime since 2022 invasion of Ukraine. Trade collapsed from $35B pre-war.",sanctions:"Full energy sanctions, SWIFT disconnection for major banks, technology export bans, oligarch asset freezes.",recent:"12th round of sanctions expanding secondary sanctions on third-country entities."},{from:"United States",to:"Iran",volume:.1,goods:"Humanitarian Goods Only",status:"sanctioned",desc:"Comprehensive US sanctions since 1979 revolution. Near-total trade embargo.",sanctions:"Full trade embargo, oil export sanctions, banking sanctions, IRGC designation.",recent:"Sanctions enforcement tightened. Iran oil exports still reaching China via gray market."},{from:"United States",to:"North Korea",volume:0,goods:"None  Full Embargo",status:"sanctioned",desc:"Complete trade embargo. No legal trade between US and DPRK.",sanctions:"Full UN Security Council sanctions. Complete trade and financial embargo.",recent:"No diplomatic progress. North Korea continues nuclear/missile programs."},{from:"European Union",to:"Russia",volume:45,goods:"Limited  Food, Pharmaceuticals",status:"sanctioned",desc:"EU imposed comprehensive sanctions after 2022 invasion. Trade down 65% from pre-war levels.",sanctions:"Oil import ban, coal ban, technology export restrictions, diamond ban, luxury goods ban.",recent:"14th sanctions package targeting circumvention routes through Central Asia."},{from:"United States",to:"Cuba",volume:.3,goods:"Agricultural Products, Medicine",status:"sanctioned",desc:"US trade embargo since 1962. Longest-running embargo in modern history.",sanctions:"Full trade embargo under Helms-Burton Act. Travel restrictions.",recent:"No significant policy changes. Embargo remains in full effect."},{from:"Iran",to:"China",volume:30,goods:"Crude Oil (gray market), Petrochemicals",status:"sanctioned",desc:"Iran exports oil to China despite US sanctions via ship-to-ship transfers.",sanctions:"US secondary sanctions on entities facilitating Iran oil trade.",recent:"Iran oil reaching China at ~1.5M barrels/day through gray market channels."}],iN={"European Union":{lat:50.85,lng:4.35},"South Korea":{lat:35.91,lng:127.77},Australia:{lat:-25.27,lng:133.78},Canada:{lat:56.13,lng:-106.35},Mexico:{lat:23.63,lng:-102.55},Cuba:{lat:21.52,lng:-77.78},"North Korea":{lat:40.34,lng:127.51},Indonesia:{lat:-6.21,lng:106.85},Thailand:{lat:13.76,lng:100.5},Vietnam:{lat:21.03,lng:105.85},Poland:{lat:52.23,lng:21.01},Italy:{lat:41.9,lng:12.5},France:{lat:48.86,lng:2.35},Netherlands:{lat:52.37,lng:4.9},Taiwan:{lat:25.03,lng:121.57},Argentina:{lat:-34.6,lng:-58.38},Singapore:{lat:1.35,lng:103.82},Qatar:{lat:25.29,lng:51.53},Nigeria:{lat:9.08,lng:7.49},"South Africa":{lat:-25.75,lng:28.23}};function $b(r){return gt[r]?{lat:gt[r].lat,lng:gt[r].lng}:iN[r]||{lat:0,lng:0}}function aN(r,e,t=50,a=.15){const s=[];let l=e.lng-r.lng;l>180&&(l-=360),l<-180&&(l+=360);for(let c=0;c<=t;c++){const d=c/t,h=r.lat+(e.lat-r.lat)*d,f=r.lng+l*d,g=Math.sin(d*Math.PI)*a;s.push(Cs(h,f,1.02+g))}return s}function rN(){const r=G.useRef(null),e=G.useRef([]),t=G.useRef([]),a=G.useRef(null),s=G.useRef(null),l=G.useCallback(()=>{a.current&&cancelAnimationFrame(a.current);function y(){a.current=requestAnimationFrame(y),t.current.forEach(v=>{if(!v.userData)return;const b=v.userData;b.offset=(b.offset+b.speed)%1;const w=Math.floor(b.offset*(b.arcPoints.length-1)),T=Math.min(w+1,b.arcPoints.length-1),_=b.offset*(b.arcPoints.length-1)-w,S=b.arcPoints[w],x=b.arcPoints[T];v.position.set(S.x+(x.x-S.x)*_,S.y+(x.y-S.y)*_,S.z+(x.z-S.z)*_)})}y()},[]),c=G.useCallback(()=>{a.current&&(cancelAnimationFrame(a.current),a.current=null)},[]),d=G.useCallback(()=>{c();const y=window._globeView;r.current&&y?.globe&&(y.globe.remove(r.current),r.current.traverse(v=>{v.geometry&&v.geometry.dispose(),v.material&&v.material.dispose()}),r.current=null),e.current=[],t.current=[],window.tradeRouteMeshes=[]},[c]),h=G.useCallback(y=>{const v=window._globeView;!v?.globe||!v?.scene||(d(),r.current=new Ls,e.current=[],t.current=[],zw.forEach((b,w)=>{const T=$b(b.from),_=$b(b.to),S=b.volume,x=.08+Math.min(.18,S/3e3),B=aN(T,_,64,x),O=b.status==="healthy"?2278750:b.status==="sanctioned"?15680580:16096779;let D=.7;y&&b.from!==y&&b.to!==y&&(D=.2);const A=[0,.0012,-.0012];for(let P=0;P<A.length;P++){let q=B;A[P]!==0&&(q=B.map(re=>new I(re.x+A[P],re.y+A[P]*.5,re.z)));const X=new bt().setFromPoints(q),te=new sa({color:O,transparent:!0,opacity:P===0?D:D*.6,linewidth:2}),de=new xr(X,te);P===0&&(de.userData={routeIndex:w,route:b},e.current.push(de)),r.current.add(de)}if(D>.1){const P=Math.max(1,Math.min(4,Math.floor(S/200)));for(let q=0;q<P;q++){const X=new bu(.008,6,6),te=new ra({color:O,transparent:!0,opacity:.9}),de=new un(X,te);de.userData={arcPoints:B,offset:q/P,speed:.003+Math.random()*.002},r.current.add(de),t.current.push(de)}}}),v.globe.add(r.current),window.tradeRouteMeshes=e.current,l())},[d,l]),f=G.useCallback((y,v)=>{const b=!y;v(b),b?h():(d(),s.current=null)},[h,d]),g=G.useCallback((y,v)=>v?s.current===y?(s.current=null,h(),{highlighted:null}):(s.current=y,h(y),{highlighted:y}):!1,[h]);return{showTradeRoutes:h,hideTradeRoutes:d,toggleTradeRoutes:f,handleTradeClick:g,highlightedCountryRef:s}}function sN({country:r,isOpen:e,onClose:t}){if(G.useEffect(()=>{if(!e)return;const h=f=>{f.key==="Escape"&&t()};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[e,t]),!e||!r)return null;const a=gt[r],s=nN[r],l=a?a.flag:"",c=zw.filter(h=>h.from===r||h.to===r).sort((h,f)=>f.volume-h.volume),d=c.filter(h=>h.status==="sanctioned"&&h.sanctions);return R.jsxs("div",{className:"trade-info-panel active",children:[R.jsxs("div",{className:"trade-info-header",children:[R.jsxs("div",{className:"trade-info-title",children:[l," ",r," Trade"]}),R.jsx("button",{className:"trade-info-close",onClick:t,children:""})]}),R.jsxs("div",{className:"trade-info-body",children:[s&&s.totalTrade&&R.jsxs("div",{style:{fontSize:"10px",color:"#06b6d4",fontWeight:600,marginBottom:"10px",padding:"6px 8px",background:"rgba(6,182,212,0.08)",borderRadius:"6px",textAlign:"center"},children:["Annual Trade Volume: ",s.totalTrade]}),R.jsxs("div",{className:"trade-section",children:[R.jsx("div",{className:"trade-section-title",children:"TOP TRADING PARTNERS"}),c.length>0?c.slice(0,8).map((h,f)=>{const g=h.from===r?h.to:h.from,y=gt[g]?gt[g].flag:"",v=h.status==="healthy"?"#22c55e":h.status==="sanctioned"?"#ef4444":"#f59e0b";return R.jsxs("div",{className:"trade-partner-row",children:[R.jsxs("span",{className:"trade-partner-name",children:[y," ",g]}),R.jsxs("span",{className:"trade-partner-vol",children:["$",h.volume,"B"]}),R.jsx("span",{className:"trade-partner-status",style:{color:v},children:h.status.toUpperCase()})]},f)}):s&&s.topPartners&&s.topPartners.length>0?s.topPartners.slice(0,8).map((h,f)=>{const g=gt[h]?gt[h].flag:"";return R.jsxs("div",{className:"trade-partner-row",children:[R.jsxs("span",{className:"trade-partner-name",children:[g," ",h]}),R.jsx("span",{className:"trade-partner-status",style:{color:"#22c55e",fontSize:"8px"},children:"PARTNER"})]},f)}):R.jsx("div",{className:"trade-section-text",style:{color:"#6b7280"},children:"Trade data not available for this country."})]}),s&&R.jsxs(R.Fragment,{children:[s.exports&&R.jsxs("div",{className:"trade-section",children:[R.jsx("div",{className:"trade-section-title",children:"TOP EXPORTS"}),R.jsx("div",{className:"trade-section-text",children:s.exports})]}),s.imports&&R.jsxs("div",{className:"trade-section",children:[R.jsx("div",{className:"trade-section-title",children:"TOP IMPORTS"}),R.jsx("div",{className:"trade-section-text",children:s.imports})]}),s.agreements&&R.jsxs("div",{className:"trade-section",children:[R.jsx("div",{className:"trade-section-title",children:"TRADE AGREEMENTS"}),R.jsx("div",{className:"trade-section-text",children:s.agreements})]})]}),d.length>0&&R.jsxs("div",{className:"trade-section",children:[R.jsx("div",{className:"trade-section-title",style:{color:"#ef4444"},children:"ACTIVE SANCTIONS"}),d.map((h,f)=>{const g=h.from===r?h.to:h.from;return R.jsxs("div",{className:"trade-section-text",style:{color:"#fca5a5"},children:["vs ",g,": ",h.sanctions]},f)})]})]})]})}const oN=G.lazy(()=>Is(()=>import("./CountryModal-Czbn9hse.js"),[])),lN=G.lazy(()=>Is(()=>import("./TOSModal-BiLUzgVt.js"),[])),cN=G.lazy(()=>Is(()=>import("./StocksModal-Bk_df5bS.js"),[])),uN=G.lazy(()=>Is(()=>import("./ComparePanel-DtV0PvUI.js"),[]));function dN({isOpen:r,onClose:e,onSelect:t}){const[a,s]=G.useState(""),l=G.useRef(null);G.useEffect(()=>{r&&l.current&&l.current.focus(),r||s("")},[r]);const c=G.useMemo(()=>{if(!a||a.length<1)return[];const d=a.toLowerCase();return Object.entries(gt).filter(([h,f])=>{if(h.toLowerCase().includes(d)||f.region.toLowerCase().includes(d))return!0;const g=Ps[h];return!!(g&&g.some(y=>y.includes(d)||d.includes(y)))}).slice(0,12)},[a]);return r?R.jsxs("div",{className:"search-overlay active",children:[R.jsxs("div",{className:"search-overlay-header",children:[R.jsx("input",{ref:l,type:"text",placeholder:"Search countries...",value:a,onChange:d=>s(d.target.value),onKeyDown:d=>{d.key==="Escape"&&e(),d.key==="Enter"&&c.length>0&&(t(c[0][0]),e())}}),R.jsx("button",{onClick:e,children:""})]}),R.jsxs("div",{className:"search-overlay-results",children:[c.map(([d,h])=>R.jsxs("div",{className:"search-overlay-item",onClick:()=>{t(d),e()},children:[R.jsxs("span",{children:[h.flag," ",d]}),R.jsx("span",{style:{fontSize:"9px",color:yr[h.risk]?.hex||"#888"},children:h.risk.toUpperCase()})]},d)),a&&c.length===0&&R.jsx("div",{style:{padding:"12px",color:"#6b7280",fontSize:"11px",textAlign:"center"},children:"No countries found"})]})]}):null}function hN({onStatClick:r}){const e=G.useMemo(()=>xk(),[]),t=Object.keys(gt).length;return R.jsxs("div",{className:"stats",children:[R.jsxs("div",{className:"stat-card",onClick:()=>r&&r("critical"),children:[R.jsx("div",{className:"stat-value",style:{color:"#ef4444"},children:e.critical}),R.jsx("div",{className:"stat-label",children:"Critical"})]}),R.jsxs("div",{className:"stat-card",onClick:()=>r&&r("high"),children:[R.jsx("div",{className:"stat-value",style:{color:"#f97316"},children:e.high}),R.jsx("div",{className:"stat-label",children:"High Risk"})]}),R.jsxs("div",{className:"stat-card",onClick:()=>r&&r("stable"),children:[R.jsx("div",{className:"stat-value",style:{color:"#22c55e"},children:e.stable}),R.jsx("div",{className:"stat-label",children:"Stable"})]}),R.jsxs("div",{className:"stat-card",onClick:()=>r&&r("total"),children:[R.jsx("div",{className:"stat-value",style:{color:"#06b6d4"},children:t}),R.jsx("div",{className:"stat-label",children:"Total"})]})]})}function fN({type:r,isOpen:e,onClose:t,onCountryClick:a}){const s=G.useRef(null);G.useEffect(()=>{if(!e)return;function h(f){s.current&&!s.current.contains(f.target)&&!f.target.closest(".stat-card")&&t()}return document.addEventListener("click",h),()=>document.removeEventListener("click",h)},[e,t]);const{title:l,color:c,countries:d}=G.useMemo(()=>{let h,f,g;r==="critical"?(h="Critical Countries",f="#ef4444",g=Object.entries(gt).filter(([,v])=>v.risk==="catastrophic"||v.risk==="extreme")):r==="high"?(h="High Risk Countries",f="#f97316",g=Object.entries(gt).filter(([,v])=>v.risk==="severe"||v.risk==="stormy")):r==="stable"?(h="Stable Countries",f="#22c55e",g=Object.entries(gt).filter(([,v])=>v.risk==="cloudy"||v.risk==="clear")):(h="All Countries",f="#06b6d4",g=Object.entries(gt));const y={catastrophic:0,extreme:1,severe:2,stormy:3,cloudy:4,clear:5};return g.sort((v,b)=>{const w=(y[v[1].risk]??6)-(y[b[1].risk]??6);return w!==0?w:v[0].localeCompare(b[0])}),{title:h,color:f,countries:g}},[r]);return R.jsxs("div",{ref:s,className:`stat-popup${e?" active":""}`,children:[R.jsxs("div",{className:"stat-popup-header",children:[R.jsx("div",{className:"stat-popup-title",style:{color:c},children:l}),R.jsx("button",{className:"stat-popup-close",onClick:t,children:""})]}),d.map(([h,f])=>R.jsxs("div",{className:"stat-popup-item",onClick:()=>{a(h),t()},children:[R.jsxs("span",{children:[f.flag," ",h]}),R.jsx("span",{className:`wl-risk risk-${f.risk}`,style:{fontSize:"8px",padding:"2px 5px",borderRadius:"3px",fontWeight:600,textTransform:"uppercase"},children:f.risk})]},h))]})}function pN({onCountryClick:r,tradeRoutesActive:e,onToggleTradeRoutes:t,compareMode:a,onToggleCompare:s,compareCountries:l}){const c=G.useMemo(()=>Object.entries(gt).filter(([,d])=>d.risk==="catastrophic"||d.risk==="extreme").sort((d,h)=>{const f=({catastrophic:0,extreme:1}[d[1].risk]||0)-({catastrophic:0,extreme:1}[h[1].risk]||0);return f!==0?f:d[0].localeCompare(h[0])}),[]);return R.jsxs("div",{className:"watchlist",style:{maxHeight:"none",overflow:"visible"},children:[R.jsx("div",{className:"watchlist-title",children:"CRITICAL WATCHLIST"}),R.jsx("div",{style:{maxHeight:220,overflowY:"auto"},children:c.map(([d,h])=>R.jsxs("div",{className:"watchlist-item",onClick:()=>r(d),children:[R.jsxs("span",{className:"wl-country",children:[h.flag," ",d]}),R.jsx("span",{className:`wl-risk risk-${h.risk}`,style:{color:"#fff"},children:h.risk.toUpperCase()})]},d))}),R.jsxs("div",{style:{borderTop:"1px solid #1f293766",paddingTop:8,marginTop:4,display:"flex",flexDirection:"column",gap:6},children:[R.jsxs("button",{className:`globe-feature-btn${e?" active":""}`,onClick:t,children:[R.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),R.jsx("path",{d:"M2 17l10 5 10-5"}),R.jsx("path",{d:"M2 12l10 5 10-5"})]}),"Trade Routes"]}),R.jsxs("button",{className:`globe-feature-btn${a?" active":""}`,onClick:s,children:[R.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),R.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),R.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),R.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]}),"Compare Mode"]}),a&&l.length===0&&R.jsx("div",{className:"compare-hint",style:{marginTop:4},children:"Click countries on the globe to compare"})]})]})}function mN(){const r=[{name:"Catastrophic",color:"#dc2626"},{name:"Extreme",color:"#f97316"},{name:"Severe",color:"#eab308"},{name:"Stormy",color:"#8b5cf6"},{name:"Cloudy",color:"#3b82f6"},{name:"Clear",color:"#22c55e"}];return R.jsxs("div",{className:"legend",children:[R.jsx("div",{className:"legend-title",children:"RISK LEVELS"}),R.jsx("div",{className:"legend-items",children:r.map(e=>R.jsxs("div",{className:"legend-item",children:[R.jsx("div",{className:"legend-icon",style:{background:e.color}}),e.name]},e.name))})]})}function gN(){const[r,e]=G.useState(null),[t,a]=G.useState(!1),[s,l]=G.useState(!1),[c,d]=G.useState(!1),[h,f]=G.useState([]),[g,y]=G.useState(!1),[v,b]=G.useState(null),[w,T]=G.useState(!1),[_,S]=G.useState(!1),[x,B]=G.useState(!1),[O,D]=G.useState(null),[A,P]=G.useState(null),[q,X]=G.useState(null),[te,de]=G.useState(!1),[re,K]=G.useState(null),[N,V]=G.useState(!1),[,C]=G.useState(!0),[H,Z]=G.useState(!0),[se,he]=G.useState(!1),[L,W]=G.useState(!0),[ne,Y]=G.useState(""),{showTradeRoutes:xe,hideTradeRoutes:we,handleTradeClick:ve,highlightedCountryRef:_e}=rN();G.useEffect(()=>{yk(),Y(new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}));let oe=!1;const ce=()=>{oe||(oe=!0,he(!0),setTimeout(()=>Z(!1),400))};let Ee=!1,ze=!1;const nt=()=>{Ee&&ze&&ce()},Ie=()=>{Ee=!0,nt()};window.addEventListener("globeReady",Ie);const J=setTimeout(()=>{ze=!0,nt()},1500),Te=setTimeout(ce,5e3),Ae=uk();Ae&&C(!1);const Fe=({data:rt,lastUpdated:Nt,isUpdating:fn})=>{P(rt),X(Nt),de(!!fn)};Vb(Fe),Fb({onStatusUpdate:rt=>{rt==="fetching"&&!Ae&&C(!0)},onComplete:()=>C(!1)});const ye=setInterval(()=>{Fb()},ck),We=setInterval(()=>{Vb(Fe)},3e5);return()=>{clearTimeout(J),clearTimeout(Te),clearInterval(ye),clearInterval(We),window.removeEventListener("globeReady",Ie)}},[]);const Ne=G.useMemo(()=>["#3b82f6","#ef4444","#22c55e","#f59e0b","#a855f7"],[]);G.useEffect(()=>{const k=window._globeView;if(!k||!k.countryMeshes)return;const oe=k.countryMeshes;c?oe.forEach(ce=>{const Ee=h.indexOf(ce.userData.name);Ee>=0?(ce.material.color.set(Ne[Ee]),ce.material.opacity=1):(ce.material.opacity=h.length>0?.3:.95,ce.userData.data&&yr[ce.userData.data.risk]&&ce.material.color.set(yr[ce.userData.data.risk].glow))}):oe.forEach(ce=>{ce.material.opacity=.95,ce.userData.data&&yr[ce.userData.data.risk]&&ce.material.color.set(yr[ce.userData.data.risk].glow)})},[c,h,Ne]);const Re=G.useCallback(k=>{if(!(!k||!gt[k])){if(c){f(oe=>oe.includes(k)?oe.filter(ce=>ce!==k):oe.length>=5?[...oe.slice(1),k]:[...oe,k]);return}if(g){const oe=ve(k,!0);if(oe){oe.highlighted?(b(k),T(!0)):(b(null),T(!1));return}}e(k),a(!0)}},[c,g,ve]),Xe=G.useCallback(k=>{D(k),B(!0)},[]),Me=G.useCallback(()=>{const k=!g;y(k),window.tradeRoutesActive=k,k?(d(!1),f([]),xe()):(we(),b(null),T(!1))},[g,xe,we]),Ce=G.useCallback(()=>{d(k=>k?(f([]),!1):(g&&(y(!1),window.tradeRoutesActive=!1,we(),b(null),T(!1)),!0))},[g,we]),be=G.useCallback(k=>{f(oe=>oe.includes(k)||oe.length>=5?oe:[...oe,k])},[]),Oe=G.useCallback(k=>{f(oe=>{const ce=oe.filter(Ee=>Ee!==k);return ce.length===0&&d(!1),ce})},[]),ke=G.useCallback(()=>{d(!1),f([])},[]),z=G.useCallback(()=>{if(window._globeView&&window._globeView.toggleRotation){const k=window._globeView.toggleRotation();W(k)}},[]);return G.useEffect(()=>{const k=oe=>{if(oe.key==="Escape"){if(_){S(!1);return}if(N){V(!1);return}if(x){B(!1);return}if(t){a(!1);return}if(s){l(!1);return}if(w){T(!1);return}}(oe.ctrlKey||oe.metaKey)&&oe.key==="k"&&(oe.preventDefault(),S(ce=>!ce))};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[_,N,x,t,s,w]),R.jsxs(R.Fragment,{children:[H&&R.jsx("div",{className:`splash-screen${se?" fade-out":""}`,children:R.jsxs("div",{className:"splash-content",children:[R.jsx("div",{className:"splash-logo",children:"HEGEMON"}),R.jsx("div",{className:"splash-subtitle",children:"GLOBAL RISK MONITOR"}),R.jsx("div",{className:"splash-progress",children:R.jsx("div",{className:"splash-progress-bar"})})]})}),R.jsxs("div",{className:"app",children:[R.jsxs("div",{className:"globe-container",children:[R.jsx(Gk,{onCountryClick:Re,compareMode:c}),R.jsx("div",{className:"header",children:R.jsx("div",{className:"header-content",children:R.jsxs("div",{children:[R.jsx("div",{className:"logo",children:"HEGEMON"}),R.jsx("div",{className:"logo-sub",children:"GLOBAL INTELLIGENCE NETWORK"})]})})}),R.jsxs("div",{className:"header-right",children:[R.jsxs("div",{className:"live",children:[R.jsx("div",{className:"live-dot"}),"LIVE"]}),R.jsx("div",{className:"date",children:ne})]}),R.jsx(pN,{onCountryClick:Re,tradeRoutesActive:g,onToggleTradeRoutes:Me,compareMode:c,onToggleCompare:Ce,compareCountries:h}),R.jsx(mN,{}),R.jsxs("div",{className:"globe-tools",children:[R.jsx("button",{className:"globe-tool-btn",onClick:()=>l(!0),title:"Terms of Service",children:R.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),R.jsx("polyline",{points:"14 2 14 8 20 8"})]})}),R.jsx("button",{className:`globe-tool-btn${_?" active":""}`,onClick:()=>S(k=>!k),title:"Search Countries (Ctrl+K)",children:R.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("circle",{cx:"11",cy:"11",r:"8"}),R.jsx("path",{d:"M21 21l-4.35-4.35"})]})}),R.jsxs("button",{className:`globe-tool-btn globe-tool-btn-labeled${L?" active":""}`,onClick:z,title:"Toggle Auto-Rotate",children:[R.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:R.jsx("path",{d:"M12 2v4m0 12v4M2 12h4m12 0h4m-5.66-5.66l-2.83 2.83m-5.66 5.66l-2.83 2.83m0-11.32l2.83 2.83m5.66 5.66l2.83 2.83"})}),"Rotate"]})]}),R.jsx(dN,{isOpen:_,onClose:()=>S(!1),onSelect:Re}),R.jsx(sN,{country:v,isOpen:w,onClose:()=>{T(!1),b(null),g&&(_e.current=null,xe())}}),R.jsx(fN,{type:re,isOpen:N,onClose:()=>V(!1),onCountryClick:k=>{e(k),a(!0)}}),R.jsx(hN,{onStatClick:k=>{K(k),V(oe=>!(oe&&re===k))}})]}),R.jsx(tN,{onCountryClick:Re,onOpenStocksModal:Xe,stocksData:A,stocksLastUpdated:q,stocksUpdating:te})]}),R.jsxs(G.Suspense,{fallback:null,children:[t&&R.jsx(oN,{countryName:r,isOpen:t,onClose:()=>{a(!1),e(null)}}),s&&R.jsx(lN,{isOpen:s,onClose:()=>l(!1)}),x&&R.jsx(cN,{country:O,stocksData:A,lastUpdated:q,isOpen:x,onClose:()=>{B(!1),D(null)}}),c&&h.length>0&&R.jsx(uN,{isActive:!0,countries:h,onClose:ke,onAddCountry:be,onRemoveCountry:Oe})]})]})}const yN=G.lazy(()=>Is(()=>import("./HowToUse-D_gDxMM6.js"),[])),vN=G.lazy(()=>Is(()=>import("./TVDashboard-De0SWkoy.js"),[]));function bN(){return R.jsx(CT,{children:R.jsx(G.Suspense,{fallback:R.jsx("div",{style:{background:"#050508",color:"#6b7280",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"Loading..."}),children:R.jsxs(iT,{children:[R.jsx(mu,{path:"/",element:R.jsx(gN,{})}),R.jsx(mu,{path:"/how-to-use",element:R.jsx(yN,{})}),R.jsx(mu,{path:"/tv",element:R.jsx(vN,{})})]})})})}i1.createRoot(document.getElementById("root")).render(R.jsx(bN,{}));export{gw as A,rn as B,gt as C,mw as D,zT as F,nw as M,In as P,yr as R,Vp as S,sw as T,kt as W,bu as a,un as b,ra as c,qe as d,at as e,sp as f,TN as g,MN as h,SN as i,R as j,bp as k,BL as l,xN as m,wN as n,EN as o,Rw as p,kk as q,G as r,pu as s,_N as t,Ps as u};
